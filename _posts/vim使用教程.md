---
title: vim使用教程
tags:
  - Blog
  - 教程
  - vim
# top_img: transparent
cover: /img/6.png
date: 2024-10-11 19:31:06
---

> 本文介绍vim的安装与使用,(待更新)
> [ubuntu-vim官网文档-安装与介绍](https://cn.linux-console.net/?p=29585)
> [Vim-菜鸟教程](https://www.runoob.com/linux/linux-vim.html)
> [CSDN-进阶参数选项指令](https://blog.csdn.net/scaleqiao/article/details/45153379)
# vim安装

[ubuntu-vim安装官网文档](https://cn.linux-console.net/?p=29585)

```shell
sudo apt install vim
```
验证是否安装成功
```shell
vim --version
```
> 一些设置今后可以cd /etc/vim/ 找到vimrc文件进行设置
# 指令集合

## 启动vim
```shell
vi
```

# vi/vim 基本使用方法
> vi/vim 共分为三种模式，命令模式（Command Mode）、输入模式（Insert Mode）和命令行模式（Command-Line Mode）

<strong style="color:red;font-family:'仿宋';"> 命令模式 </strong>

> <strong style="font-family:'仿宋';">用户刚刚启动 vi/vim，便进入了命令模式</strong>

此状态下敲击键盘动作会被 Vim 识别为命令，而非输入字符，比如我们此时按下 i，并不会输入一个字符，i 被当作了一个命令

**以下是普通模式常用的几个命令：**
| 指令 | 介绍 |
| :---------: | :-----------: |
| i | 切换到输入模式，在光标当前位置开始输入文本 |
| x | 删除当前光标所在处的字符 |
| : | 切换到底线命令模式，以在最底一行输入命令 |
| a | 进入插入模式，在光标下一个位置开始输入文本 |
| o | 在当前行的下方插入一个新行，并进入插入模式 |
| O | 在当前行的上方插入一个新行，并进入插入模式 |
| dd | 剪切当前行 |
| yy | 复制当前行 |
| p | 粘贴剪贴板内容到光标下方 |
| P | 粘贴剪贴板内容到光标上方 |
| u | 撤销上一次操作 |
| Ctrl + r | 重做上一次撤销的操作 |
| :w | 保存文件 |
| :q | 退出 Vim 编辑器 |
| :q! | 强制退出Vim 编辑器，不保存修改 |

> 命令模式只有一些最基本的命令，因此仍要依靠底线命令行模式输入更多命令

<strong style="color:red; font-family:'仿宋';">输入模式</strong>

> 在命令模式下按下 i 就进入了输入模式，使用 Esc 键可以返回到普通模式。

在输入模式中，可以使用以下按键：

| 按键 | 功能 |
| :---------: | :-----------: |
| ENTER | 回车键，换行 |
| BACK SPACE | 退格键，删除光标前一个字符 |
| DEL | 删除键，删除光标后一个字符 |
| 方向键 | 在文本中移动光标 |
| HOME/END | 移动光标到行首/行尾 |
| Page Up/Page Down | 上/下翻页 |
| Insert | 切换光标为输入/替换模式，光标将变成竖线/下划线 |
| ESC | 退出输入模式，切换到命令模式 |


<strong style="color:red; font-family:'仿宋';">底线命令模式 
</strong>

> 在命令模式下按下 :（英文冒号）就进入了底线命令模式。

底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。


|指令|功能|
|:--:|:--:|
|:w|保存文件|
|:q|退出 Vim 编辑器|
|:wq|保存文件并退出 Vim 编辑器|
|:q!|强制退出Vim编辑器，不保存修改|

三个模式表示图

![ ](./images/vim使用教程/vim-vi-workmodel.png)

移动光标的方法

| 按键 | 功能 |
| :---------: | :-----------: |
| h 或 向左箭头键(←) | 光标向左移动一个字符 |
| j 或 向下箭头键(↓) | 光标向下移动一个字符 |
| k 或 向上箭头键(↑) | 光标向上移动一个字符 |
| l 或 向右箭头键(→) | 光标向右移动一个字符 |

如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 "30j" 或 "30↓" 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！

| 按键组合 | 功能 |
| :---------: | :-----------: |
| [Ctrl] + [f] | 屏幕向下移动一页，相当于 [Page Down] 按键 (常用) |
| [Ctrl] + [b] | 屏幕向上移动一页，相当于 [Page Up] 按键 (常用) |
| [Ctrl] + [d] | 屏幕向下移动半页 |
| [Ctrl] + [u] | 屏幕向上移动半页 |
|+|光标移动到非空格符的下一行|
|-|光标移动到非空格符的上一行|

| 按键组合 | 功能 |
| :---------: | :-----------: |
| n\<space> | n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20<space> 则光标会向后面移动 20 个字符距离|
| 0 或功能键[Home] | 移动到这一行的最前面字符处 (常用) |
| $ 或功能键[End] | 移动到这一行的最后面字符处(常用) |
| H | 光标移动到这个屏幕的最上方那一行的第一个字符 |
| M | 光标移动到这个屏幕的中央那一行的第一个字符 |
| L | 光标移动到这个屏幕的最下方那一行的第一个字符 |
| G | 移动到这个档案的最后一行(常用) |
| nG | n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu) |
|**/word** | **向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 bird 这个字符串，就输入 /bird**|
| **?word** | **向光标之上寻找一个字符串名称为 word 的字符串** |
| **n** | **这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说，我要连续找到 bird 并按下 n 后，会向下继续找到下一个名称为 vbird 的字符串** |
| **N** | **这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作** |
| **:n1,n2s/word1/word2/g** |**n1 与 n2 为数字，在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为word2举例来说，在 100 到 200 行之间搜寻 bird 并取代为 BIRD 则：```:100,200s/bird/BIRD/g``` |
| :1,$s/word1/word2/g 或 :%s/word1/word2/g | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2  |
| :1,$s/word1/word2/gc 或 :%s/word1/word2/gc | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代 |
| dd | 剪切游标所在的那一整行(常用)，用 p/P 可以粘贴 |
| ndd | n 为数字。剪切光标所在的向下 n 行，例如 20dd 则是剪切 20 行(常用)，用 p/P 可以粘贴|
| d1G | 删除光标所在到第一行的所有数据 |
| dG | 删除光标所在到最后一行的所有数据 |
| d$ | 删除游标所在处，到该行的最后一个字符 |
| d0 | 那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符 |
| yy | 复制游标所在的那一行(常用) |
| nyy | n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用) |
| y1G | 复制游标所在行到第一行的所有数据 |
| yG | 复制游标所在行到最后一行的所有数据 |
| y0 | 复制光标所在的那个字符到该行行首的所有数据 |
| y$ | 复制光标所在的那个字符到该行行尾的所有数据 |
| J | 将光标所在行与下一行的数据结合成同一行 |
| c | 重复删除多个数据，例如向下删除 10 行，[ 10cj ] |
| **u** | **复原前一个动作** |
|**[Ctrl]+r** | **重做上一个动作** |
| **.** | **重复前一个动作的意思** |



第三部分：一般模式切换到指令行模式的可用的按钮说明

| 指令 | 功能 |
| :---------: | :-----------: |
| :w | 将编辑的数据写入硬盘档案中|
| :w! | 若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！ |
| :q | 离开 vi |
| :q! | 若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。 |
| :wq | 储存后离开，若为 :wq! 则为强制储存后离开 |
| ZZ | 这是大写的 Z 喔！如果修改过，保存当前文件，然后退出！效果等同于(保存并退出) |
| ZQ | 不保存，强制退出。效果等同于 :q!|
| :w [filename] | 将编辑的数据储存成另一个档案（类似另存新档） |
| :r [filename] | 在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到游标所在行后面 |
| :n1,n2 w [filename] | 将 n1 到 n2 的内容储存成 filename 这个档案 |
| :! command | 暂时离开 vi 到指令行模式下执行 command 的显示结果！例如 『:! ls /home』即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！ |


vim 环境的变更

| 指令 | 功能 |
| :---------: | :-----------: |
| :set nu | 显示行号，设定之后，会在每一行的前缀显示该行的行号 |
| :set nonu | 与 set nu 相反，为取消行号！ |

特别注意，在 vi/vim 中，数字是很有意义的！数字通常代表重复做几次的意思！ 也有可能是代表去到第几个什么什么的意思。

举例来说，要删除 50 行，则是用 『50dd』 对吧！ 数字加在动作之前，如我要向下移动 20 行呢？那就是『20j』或者是『20↓』即可。

![ ](./images/vim使用教程/morden1.png)
