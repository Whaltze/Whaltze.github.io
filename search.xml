<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>AHKå¿«æ·é”®é…ç½®</title>
      <link href="/2026/02/09/AHK%E5%BF%AB%E6%8D%B7%E9%94%AE%E9%85%8D%E7%BD%AE/"/>
      <url>/2026/02/09/AHK%E5%BF%AB%E6%8D%B7%E9%94%AE%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="AHKæ’ä»¶ä¸‹è½½"><a href="#AHKæ’ä»¶ä¸‹è½½" class="headerlink" title="AHKæ’ä»¶ä¸‹è½½"></a>AHKæ’ä»¶ä¸‹è½½</h1><blockquote><p>AutoHotkey å®˜ç½‘  <a href="https://www.autohotkey.com/">(https://www.autohotkey.com/)</a></p></blockquote><p>æœ¬æœºæš‚æ—¶ä¸‹è½½äº†1.1ç‰ˆæœ¬çš„ <code>AutoHotkey_1.1.37.02_setup</code></p><h1 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h1><blockquote><p>æ­¤éƒ¨åˆ†ä½¿ç”¨æ•™ç¨‹å‚è€ƒäº†Geminiæœ€æ–°çš„åŠ¨æ€è§†å›¾åŠŸèƒ½,ä½œä¸ºæ•™ç¨‹è¿›è¡Œæ˜¾ç¤º å…·ä½“çˆ¬å–Geminiçš„åŠ¨æ€è§†å›¾é¡µé¢å¯ä»¥å‚è€ƒä¹‹å‰çš„åšå®¢ <a href="/2024/09/22/SMART/#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢">ç‚¹å‡»è¿™é‡Œè·³è½¬åˆ° Gemini çˆ¬å–æ•™ç¨‹</a></p></blockquote><iframe   src="/html/%41%48%4B%E5%BF%AB%E6%8D%B7%E9%94%AE%E9%85%8D%E7%BD%AE/1.html"   width="100%"   height="1000px"   frameborder="0"   style="border: 1px solid #eee; border-radius: 12px; overflow: auto;"></iframe>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹éƒ¨ç½²Miniforge</title>
      <link href="/2026/01/02/Windows%E4%B8%8B%E9%83%A8%E7%BD%B2Miniforge/"/>
      <url>/2026/01/02/Windows%E4%B8%8B%E9%83%A8%E7%BD%B2Miniforge/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰è£…é…ç½®Miniforge"><a href="#å®‰è£…é…ç½®Miniforge" class="headerlink" title="å®‰è£…é…ç½®Miniforge"></a>å®‰è£…é…ç½®Miniforge</h1><h2 id="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½æ­£ç¡®çš„å®‰è£…åŒ…"><a href="#ç¬¬ä¸€æ­¥ï¼šä¸‹è½½æ­£ç¡®çš„å®‰è£…åŒ…" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½æ­£ç¡®çš„å®‰è£…åŒ…"></a>ç¬¬ä¸€æ­¥ï¼šä¸‹è½½æ­£ç¡®çš„å®‰è£…åŒ…</h2><p>ç›´æ¥ä» GitHub å®˜æ–¹ä»“åº“ä¸‹è½½æœ€æ–°çš„ Windows x86_64 ç‰ˆæœ¬ã€‚</p><ol><li><strong>è®¿é—®åœ°å€ï¼š</strong> <a href="https://github.com/conda-forge/miniforge/releases">Miniforge GitHub Releases</a> &amp; <a href="https://conda-forge.org/miniforge/#history">Forge-org</a></li><li><strong>ç›®æ ‡æ–‡ä»¶ï¼š</strong> æ‰¾åˆ°åˆ—è¡¨ä¸­çš„ <code>Miniforge3-Windows-x86_64.exe</code> (é€šå¸¸åœ¨ Latest Release ä¸‹)ã€‚</li><li><strong>ä¸‹è½½ï¼š</strong> ä¸‹è½½åˆ°æœ¬åœ°ã€‚</li></ol><blockquote><p>æ³¨æ„ <code>Miniforge3-25.11.0-1-Windows-x86_64.exe.sha256</code> æ–‡ä»¶æ˜¯å“ˆå¸Œæ ¡éªŒæ–‡ä»¶, ç”¨äºä¸å®‰è£…åŒ…æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒ, æ£€éªŒå®‰è£…åŒ…æ˜¯å¦å®Œæ•´</p></blockquote><hr><h2 id="ç¬¬äºŒæ­¥ï¼šå®‰è£…è¿‡ç¨‹ï¼ˆå…³é”®é¿å‘ç‚¹ï¼‰"><a href="#ç¬¬äºŒæ­¥ï¼šå®‰è£…è¿‡ç¨‹ï¼ˆå…³é”®é¿å‘ç‚¹ï¼‰" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå®‰è£…è¿‡ç¨‹ï¼ˆå…³é”®é¿å‘ç‚¹ï¼‰"></a>ç¬¬äºŒæ­¥ï¼šå®‰è£…è¿‡ç¨‹ï¼ˆå…³é”®é¿å‘ç‚¹ï¼‰</h2><p>åŒå‡»è¿è¡Œå®‰è£…åŒ…ï¼Œä¸€è·¯ Nextï¼Œç›´åˆ°é‡åˆ°ä»¥ä¸‹ä¸¤ä¸ªå…³é”®ç•Œé¢ï¼Œè¯·åŠ¡å¿…æŒ‰æˆ‘è¯´çš„åšï¼š</p><ol><li><strong>Select Installation Type (å®‰è£…ç±»å‹):</strong></li></ol><ul><li>é€‰æ‹© <strong>Just Me (recommended)</strong>ã€‚</li><li><em>ç†ç”±ï¼š</em> é¿å…æƒé™é—®é¢˜ï¼Œå°†æ–‡ä»¶é™åˆ¶åœ¨ä½ çš„ç”¨æˆ·ç›®å½•ä¸‹ï¼Œä¸å½±å“ç³»ç»Ÿå…¶ä»–ç”¨æˆ·ã€‚</li></ul><ol start="2"><li><strong>Advanced Options (é«˜çº§é€‰é¡¹) â€”â€” è¿™é‡Œæœ€é‡è¦ï¼</strong></li></ol><ul><li><p><strong>ğŸ”² Create shortcutsâ€¦ (åˆ›å»ºå¿«æ·æ–¹å¼):</strong> âœ… <strong>å‹¾é€‰</strong>ã€‚</p></li><li><p><strong>ğŸ”² Add Miniforge3 to my PATH environment variable (æ·»åŠ åˆ° PATH):</strong> âŒ <strong>ç»å¯¹ä¸è¦å‹¾é€‰</strong>ã€‚</p></li><li><p><em>è¿™æ˜¯ä¿æŒç³»ç»Ÿå¹²å‡€çš„æ ¸å¿ƒã€‚å¦‚æœä¸å‹¾é€‰ï¼ŒCMD å’Œ PowerShell é»˜è®¤æ‰¾ä¸åˆ° condaï¼Œåªæœ‰é€šè¿‡ä¸“ç”¨çš„å¿«æ·æ–¹å¼æ‰èƒ½å¯åŠ¨ï¼Œå®ç°äº†ç‰©ç†éš”ç¦»ã€‚</em></p></li><li><p><strong>ğŸ”² Register Miniforge3 as my default Python 3.12â€¦ (æ³¨å†Œä¸ºé»˜è®¤ Python):</strong> â“ <strong>å¯é€‰ï¼Œå»ºè®®ä¸å‹¾é€‰</strong>ã€‚</p></li><li><p><em>ä¸ºäº†æè‡´çš„éš”ç¦»ï¼Œå»ºè®®ä¸å‹¾é€‰ã€‚å¦‚æœä½ åç»­å®‰è£… VS Codeï¼Œæˆ‘ä»¬åœ¨ VS Code å†…éƒ¨æŒ‡å®šè·¯å¾„å³å¯ï¼Œä¸éœ€è¦é€šè¿‡æ³¨å†Œè¡¨å‘Šè¯‰å…¨ä¸–ç•Œå®ƒçš„å­˜åœ¨ã€‚</em></p></li></ul><ol start="3"><li><strong>å®‰è£…è·¯å¾„ï¼š</strong> é»˜è®¤é€šå¸¸æ˜¯ <code>C:\Users\ä½ çš„ç”¨æˆ·å\miniforge3</code>ã€‚å»ºè®®ä¿æŒé»˜è®¤ï¼Œæˆ–è€…æ”¹åˆ°ç©ºé—´è¾ƒå¤§çš„ç›˜ï¼ˆå¦‚ <code>D:\Dev\miniforge3</code>ï¼‰ï¼Œä½†è·¯å¾„<strong>åƒä¸‡ä¸è¦åŒ…å«ä¸­æ–‡æˆ–ç©ºæ ¼</strong>ã€‚</li></ol><hr><h2 id="ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£…ä¸åˆå§‹åŒ–"><a href="#ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£…ä¸åˆå§‹åŒ–" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£…ä¸åˆå§‹åŒ–"></a>ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£…ä¸åˆå§‹åŒ–</h2><p>å®‰è£…å®Œæˆåï¼Œä½ çš„â€œå¼€å§‹èœå•â€é‡Œä¼šå‡ºç°ä¸€ä¸ªåä¸º <strong>Miniforge3</strong> çš„æ–‡ä»¶å¤¹ã€‚</p><ol><li><strong>å¯åŠ¨ä¸“ç”¨ç»ˆç«¯ï¼š</strong></li></ol><ul><li>ç‚¹å‡» <code>Miniforge Prompt</code>ã€‚</li><li>ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé»‘è‰²çš„å‘½ä»¤è¡Œçª—å£ï¼Œæœ€å·¦ä¾§æ˜¾ç¤º <code>(base)</code>ã€‚è¿™ä»£è¡¨ä½ ç°åœ¨å¤„äº Miniforge çš„åŸºç¡€ç¯å¢ƒä¸­ã€‚</li></ul><ol start="2"><li><strong>éªŒè¯éš”ç¦»æ€§ï¼š</strong></li></ol><ul><li><p>åœ¨ <code>Miniforge Prompt</code> é‡Œè¾“å…¥ï¼š<code>where python</code></p></li><li><p><em>ç»“æœåº”æŒ‡å‘ï¼š</em> <code>...\miniforge3\python.exe</code></p></li><li><p>æ‰“å¼€ä¸€ä¸ªæ™®é€šçš„ <strong>PowerShell</strong> æˆ– <strong>CMD</strong>ï¼Œè¾“å…¥ï¼š<code>python</code></p></li><li><p><em>ç»“æœåº”è¯¥æ˜¯ï¼š</em> æ‰¾ä¸åˆ°å‘½ä»¤ï¼Œæˆ–è€…è·³å‡º Windows åº”ç”¨å•†åº—ã€‚</p></li><li><p><strong>ç»“è®ºï¼š</strong> æ­å–œï¼Œä½ çš„ç³»ç»Ÿç¯å¢ƒä¾ç„¶æ˜¯ä¸€å¼ ç™½çº¸ï¼ŒMiniforge è¢«å®Œç¾å…³è¿›äº†ç¬¼å­ã€‚</p></li></ul><hr><h2 id="ç¬¬å››æ­¥ï¼šé…ç½®â€œç”Ÿäº§çº§â€å¼€å‘ä¹ æƒ¯"><a href="#ç¬¬å››æ­¥ï¼šé…ç½®â€œç”Ÿäº§çº§â€å¼€å‘ä¹ æƒ¯" class="headerlink" title="ç¬¬å››æ­¥ï¼šé…ç½®â€œç”Ÿäº§çº§â€å¼€å‘ä¹ æƒ¯"></a>ç¬¬å››æ­¥ï¼šé…ç½®â€œç”Ÿäº§çº§â€å¼€å‘ä¹ æƒ¯</h2><p>åœ¨ <code>Miniforge Prompt</code> ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¼˜åŒ–ä½ çš„ä½¿ç”¨ä½“éªŒã€‚</p><h3 id="1-ç¦æ­¢-Base-ç¯å¢ƒè‡ªåŠ¨æ¿€æ´»ï¼ˆé˜²æ­¢è¯¯æ“ä½œï¼‰"><a href="#1-ç¦æ­¢-Base-ç¯å¢ƒè‡ªåŠ¨æ¿€æ´»ï¼ˆé˜²æ­¢è¯¯æ“ä½œï¼‰" class="headerlink" title="1. ç¦æ­¢ Base ç¯å¢ƒè‡ªåŠ¨æ¿€æ´»ï¼ˆé˜²æ­¢è¯¯æ“ä½œï¼‰"></a>1. ç¦æ­¢ Base ç¯å¢ƒè‡ªåŠ¨æ¿€æ´»ï¼ˆé˜²æ­¢è¯¯æ“ä½œï¼‰</h3><p>Base ç¯å¢ƒåªåº”è¯¥ç”¨æ¥ç®¡ç† conda æœ¬èº«ï¼ˆå‡çº§ condaã€åˆ›å»ºæ–°ç¯å¢ƒï¼‰ï¼Œ<strong>æ°¸è¿œä¸è¦</strong>åœ¨ Base é‡Œå®‰è£…ä½ çš„å¼€å‘åŒ…ï¼ˆnumpy, pandas ç­‰ï¼‰ã€‚</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda config <span class="literal">--set</span> auto_activate_base false</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em>æ•ˆæœï¼šä¸‹æ¬¡æ‰“å¼€ç»ˆç«¯ï¼Œå¦‚æœä½ ä¸ä¸»åŠ¨ <code>conda activate</code>ï¼Œå°±ä¸ä¼šè¿›å…¥ä»»ä½•ç¯å¢ƒï¼Œé¿å…ä½ è¿·è¿·ç³Šç³ŠæŠŠåŒ…çŠ¶é”™ä½ç½®ã€‚</em></p><h3 id="2-é…ç½®ä¸‹è½½åŠ é€Ÿï¼ˆå¦‚æœä½ åœ¨å›½å†…ï¼‰"><a href="#2-é…ç½®ä¸‹è½½åŠ é€Ÿï¼ˆå¦‚æœä½ åœ¨å›½å†…ï¼‰" class="headerlink" title="2. é…ç½®ä¸‹è½½åŠ é€Ÿï¼ˆå¦‚æœä½ åœ¨å›½å†…ï¼‰"></a>2. é…ç½®ä¸‹è½½åŠ é€Ÿï¼ˆå¦‚æœä½ åœ¨å›½å†…ï¼‰</h3><p>ç”±äº Miniforge é»˜è®¤è¿æ¥çš„æ˜¯å›½å¤–çš„ <code>conda-forge</code>ï¼Œä¸‹è½½é€Ÿåº¦å¯èƒ½å¾ˆæ…¢ã€‚æˆ‘ä»¬å¯ä»¥é…ç½®æ¸…åå¤§å­¦æˆ–åŒ—äº¬å¤–å›½è¯­å¤§å­¦çš„é•œåƒæºã€‚</p><p><em>(å¦‚æœä½ æœ‰ç§‘å­¦ä¸Šç½‘ç¯å¢ƒä¸”ç½‘é€Ÿå¾ˆå¿«ï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥)</em></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ æ¸…åæºçš„ conda-forge é¢‘é“</span></span><br><span class="line">conda config <span class="literal">--add</span> channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda<span class="literal">-forge</span>/</span><br><span class="line"><span class="comment"># è®¾ç½®é¢‘é“ä¼˜å…ˆçº§ï¼ˆä¿è¯ä¼˜å…ˆä½¿ç”¨é•œåƒï¼‰</span></span><br><span class="line">conda config <span class="literal">--set</span> channel_priority strict</span><br><span class="line"><span class="comment"># éªŒè¯é…ç½®</span></span><br><span class="line">conda config <span class="literal">--show</span> channels</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="ç¬¬äº”æ­¥ï¼šå®æˆ˜æ¼”ç»ƒâ€”â€”åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªç®—æ³•ç¯å¢ƒ"><a href="#ç¬¬äº”æ­¥ï¼šå®æˆ˜æ¼”ç»ƒâ€”â€”åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªç®—æ³•ç¯å¢ƒ" class="headerlink" title="ç¬¬äº”æ­¥ï¼šå®æˆ˜æ¼”ç»ƒâ€”â€”åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªç®—æ³•ç¯å¢ƒ"></a>ç¬¬äº”æ­¥ï¼šå®æˆ˜æ¼”ç»ƒâ€”â€”åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªç®—æ³•ç¯å¢ƒ</h2><p>ä¸ºäº†éªŒè¯ä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿåˆ›å»ºä¸€ä¸ªç”¨äºç®—æ³•å¼€å‘çš„ç¯å¢ƒã€‚</p><ol><li><strong>åˆ›å»ºç¯å¢ƒï¼š</strong></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªåä¸º algo_dev çš„ç¯å¢ƒï¼ŒæŒ‡å®š python 3.9 (å¾ˆå¤šç®—æ³•åº“å¯¹ 3.9 æ”¯æŒæœ€ç¨³)</span></span><br><span class="line">conda create <span class="literal">-n</span> algo_dev python=<span class="number">3.9</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li><strong>æ¿€æ´»ç¯å¢ƒï¼š</strong></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda activate algo_dev</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em>æ­¤æ—¶å‘½ä»¤è¡Œå‰ç¼€ä¼šä» <code>(base)</code> å˜æˆ <code>(algo_dev)</code>ã€‚</em><br>3. <strong>å®‰è£…åŸºç¡€åŒ…ï¼š</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… numpy å’Œ pandas</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šmamba æ˜¯ miniforge è‡ªå¸¦çš„åŠ é€Ÿå·¥å…·ï¼Œå‘½ä»¤ç”¨æ³•å’Œ conda ä¸€æ¨¡ä¸€æ ·ï¼Œä½†å¿«å¾—å¤š</span></span><br><span class="line">mamba install numpy pandas matplotlib</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li><strong>æ¸…ç†ç¯å¢ƒï¼ˆæ¼”ç¤ºï¼‰ï¼š</strong></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€€å‡ºç¯å¢ƒ</span></span><br><span class="line">conda deactivate</span><br><span class="line"><span class="comment"># åˆ é™¤ç¯å¢ƒï¼ˆå¦‚æœä»¥åä¸éœ€è¦äº†ï¼‰</span></span><br><span class="line"><span class="comment"># conda remove -n algo_dev --all</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="ç¬¬å…­æ­¥ï¼šè¿æ¥-IDE-VS-Code"><a href="#ç¬¬å…­æ­¥ï¼šè¿æ¥-IDE-VS-Code" class="headerlink" title="ç¬¬å…­æ­¥ï¼šè¿æ¥ IDE (VS Code)"></a>ç¬¬å…­æ­¥ï¼šè¿æ¥ IDE (VS Code)</h2><p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ è‚¯å®šä¸ä¼šä¸€ç›´ç”¨é»‘æ¡†æ¡†å†™ä»£ç ã€‚æ¨èå®‰è£… <strong>VS Code</strong> (é€šè¿‡å®˜ç½‘ä¸‹è½½å®‰è£…å³å¯ï¼Œè¿™ä¸ªä¸æ±¡æŸ“ç¯å¢ƒ)ã€‚</p><p><strong>å¦‚ä½•è®© VS Code è¯†åˆ«ä½ çš„ Miniforge ç¯å¢ƒï¼Ÿ</strong></p><ol><li>ç”¨ VS Code æ‰“å¼€ä½ çš„ä»£ç æ–‡ä»¶å¤¹ã€‚</li><li>æ‰“å¼€ä¸€ä¸ª <code>.py</code> æ–‡ä»¶ã€‚</li><li>ç‚¹å‡»å³ä¸‹è§’çš„ Python ç‰ˆæœ¬å·ï¼ˆæˆ–è€…æŒ‰ <code>Ctrl+Shift+P</code> è¾“å…¥ <code>Python: Select Interpreter</code>ï¼‰ã€‚</li><li>VS Code é€šå¸¸ä¼šè‡ªåŠ¨æ‰«æåˆ° <code>...\miniforge3\envs\algo_dev\python.exe</code>ã€‚</li><li>å¦‚æœæ²¡æœ‰æ‰«æåˆ°ï¼Œç‚¹å‡» â€œEnter interpreter pathâ€ï¼Œæ‰‹åŠ¨æ‰¾åˆ°ä½  Miniforge å®‰è£…ç›®å½•ä¸‹çš„ <code>envs</code> æ–‡ä»¶å¤¹å³å¯ã€‚</li></ol><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç°åœ¨ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ª<strong>æå…¶å¹²å‡€ã€ä¸“ä¸šã€å¯ç§»æ¤</strong>çš„ Windows Python å¼€å‘åº•åº§ï¼š</p><ul><li><strong>ç³»ç»Ÿ PATHï¼š</strong> å¹²å‡€ï¼ˆæ—  Pythonï¼‰ã€‚</li><li><strong>æ³¨å†Œè¡¨ï¼š</strong> å¹²å‡€ã€‚</li><li><strong>ä¾èµ–ç®¡ç†ï¼š</strong> å…¨éƒ¨åœ¨ <code>miniforge3</code> æ–‡ä»¶å¤¹å†…é—­ç¯ã€‚</li><li><strong>æœªæ¥æ‰©å±•ï¼š</strong> éœ€è¦ C++ ç¼–è¯‘å™¨ï¼Ÿ<code>conda create -n cpp_env</code> ç„¶å <code>mamba install compilers</code> å³å¯ï¼Œäº’ä¸å¹²æ‰°ã€‚</li></ul><h1 id="é…ç½®é‡åˆ°çš„é—®é¢˜"><a href="#é…ç½®é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é…ç½®é‡åˆ°çš„é—®é¢˜"></a>é…ç½®é‡åˆ°çš„é—®é¢˜</h1><h2 id="VScode-çš„ç»ˆç«¯-æ‰¾ä¸åˆ°-è™šæ‹Ÿç¯å¢ƒçš„python"><a href="#VScode-çš„ç»ˆç«¯-æ‰¾ä¸åˆ°-è™šæ‹Ÿç¯å¢ƒçš„python" class="headerlink" title="VScode çš„ç»ˆç«¯ æ‰¾ä¸åˆ° è™šæ‹Ÿç¯å¢ƒçš„python"></a>VScode çš„ç»ˆç«¯ æ‰¾ä¸åˆ° è™šæ‹Ÿç¯å¢ƒçš„python</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PS D:\STARY\Task&gt; A:/Miniforge/Miniforge3/Scripts/activate</span><br><span class="line">PS D:\STARY\Task&gt; conda activate whaltze</span><br><span class="line">conda : æ— æ³•å°†â€œcondaâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°ã€‚è¯·æ£€æŸ¥åç§°çš„æ‹¼å†™ï¼Œå¦‚æœåŒ…æ‹¬è·¯å¾„ï¼Œè¯·ç¡®ä¿è·¯å¾„æ­£ç¡®ï¼Œç„¶åå†è¯•ä¸€æ¬¡ã€‚</span><br><span class="line">æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 1</span><br><span class="line">+ conda activate whaltze</span><br><span class="line">+ ~~~~~</span><br><span class="line">    + CategoryInfo          : ObjectNotFound: (conda:String) [], CommandNotFoundException</span><br><span class="line">    + FullyQualifiedErrorId : CommandNotFoundException</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„åˆå§‹åŒ–-PowerShell"><a href="#ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„åˆå§‹åŒ–-PowerShell" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„åˆå§‹åŒ– PowerShell"></a>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„åˆå§‹åŒ– PowerShell</h3><p>ç›´æ¥å¤åˆ¶ä»¥ä¸‹å‘½ä»¤ï¼ˆè¯·æ ¹æ®ä½ çš„å®é™…å®‰è£…è·¯å¾„è°ƒæ•´ï¼‰å¹¶åœ¨ç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp; <span class="string">&quot;A:\Miniforge\Miniforge3\condabin\conda.bat&quot;</span> init powershell</span><br></pre></td></tr></table></figure><p><strong>è§£é‡Š</strong>ï¼š<br>æ­¤å‘½ä»¤é€šè¿‡ Conda å®‰è£…ç›®å½•ä¸‹çš„ <code>conda.bat</code> è„šæœ¬åˆå§‹åŒ– PowerShellï¼Œä½¿å…¶èƒ½å¤Ÿè¯†åˆ« Conda å‘½ä»¤ã€‚</p><hr><h3 id="ç¬¬äºŒæ­¥ï¼šä¿®æ”¹-PowerShell-è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆå¿…éœ€ï¼‰"><a href="#ç¬¬äºŒæ­¥ï¼šä¿®æ”¹-PowerShell-è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆå¿…éœ€ï¼‰" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ PowerShell è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆå¿…éœ€ï¼‰"></a>ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ PowerShell è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆå¿…éœ€ï¼‰</h3><p>å³ä½¿åˆå§‹åŒ–æˆåŠŸï¼Œè‹¥ Windows ç¦æ­¢åŠ è½½é…ç½®æ–‡ä»¶ï¼Œä¸‹æ¬¡æ‰“å¼€ç»ˆç«¯ä»ä¼šæŠ¥é”™ã€‚<br>åœ¨å½“å‰ç»ˆç«¯ä¸­ç»§ç»­è¾“å…¥ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> <span class="literal">-ExecutionPolicy</span> RemoteSigned <span class="literal">-Scope</span> CurrentUser</span><br></pre></td></tr></table></figure><hr><blockquote><p>å‘½ä»¤è¯¦è§£ï¼š<code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser</code></p></blockquote><p>å¯ä»¥å°†è¯¥å‘½ä»¤æ‹†è§£ä¸ºä¸‰éƒ¨åˆ†ç†è§£ï¼š</p><ol><li><p><strong><code>Set-ExecutionPolicy</code></strong>ï¼ˆè®¾ç½®æ‰§è¡Œç­–ç•¥ï¼‰  </p><ul><li><strong>å«ä¹‰</strong>ï¼šä¿®æ”¹ PowerShell çš„å®‰å…¨è§„åˆ™ã€‚  </li><li><strong>èƒŒæ™¯</strong>ï¼šWindows é»˜è®¤ç­–ç•¥ä¸º <code>Restricted</code>ï¼ˆå—é™ï¼‰ï¼Œå³<strong>ç¦æ­¢è¿è¡Œä»»ä½•è„šæœ¬æ–‡ä»¶</strong>ã€‚  </li><li><strong>åæœ</strong>ï¼šConda å¯åŠ¨æ—¶éœ€è¦è¿è¡Œè„šæœ¬ï¼ˆå¦‚ <code>profile.ps1</code>ï¼‰ï¼Œå› æ­¤è¢«ç³»ç»Ÿæ‹¦æˆªã€‚</li></ul></li><li><p><strong><code>-ExecutionPolicy RemoteSigned</code></strong>ï¼ˆç­–ç•¥è®¾ä¸ºï¼šè¿œç¨‹ç­¾åï¼‰  </p><ul><li><strong>å«ä¹‰</strong>ï¼šæ–°è§„åˆ™çš„å…·ä½“å†…å®¹ã€‚  </li><li><strong><code>RemoteSigned</code> è§„åˆ™</strong>ï¼š  <ul><li><strong>æœ¬åœ°åˆ›å»ºçš„è„šæœ¬</strong>ï¼ˆå¦‚è‡ªå·±ç¼–å†™æˆ– Conda ç”Ÿæˆçš„ï¼‰ï¼šå…è®¸ç›´æ¥è¿è¡Œï¼Œæ— éœ€ç­¾åã€‚  </li><li><strong>ä»äº’è”ç½‘ä¸‹è½½çš„è„šæœ¬</strong>ï¼šå¿…é¡»æœ‰å—ä¿¡ä»»å‘å¸ƒè€…çš„æ•°å­—ç­¾åæ–¹å¯è¿è¡Œã€‚</li></ul></li><li><strong>ä½œç”¨</strong>ï¼šåœ¨ä¿éšœå¼€å‘ä¾¿åˆ©ï¼ˆå…è®¸ä½¿ç”¨ Condaã€Python ç­‰å·¥å…·ï¼‰çš„åŒæ—¶ï¼Œé˜²æ­¢è‡ªåŠ¨è¿è¡Œæ¶æ„è„šæœ¬ã€‚æ­¤ä¸ºå¼€å‘è€…å¸¸ç”¨è®¾ç½®ã€‚</li></ul></li><li><p><strong><code>-Scope CurrentUser</code></strong>ï¼ˆèŒƒå›´ï¼šä»…å½“å‰ç”¨æˆ·ï¼‰  </p><ul><li><strong>å«ä¹‰</strong>ï¼šè¯¥è§„åˆ™ä»…å¯¹å½“å‰ç™»å½•çš„ Windows ç”¨æˆ·ç”Ÿæ•ˆã€‚  </li><li><strong>ä¼˜ç‚¹</strong>ï¼š  <ul><li><strong>å®‰å…¨æ€§é«˜</strong>ï¼šä¸å½±å“å…¶ä»–ç”¨æˆ·ã€‚  </li><li><strong>é€šå¸¸æ— éœ€ç®¡ç†å‘˜æƒé™</strong>ï¼šå¯ç›´æ¥ä¿®æ”¹ï¼ˆè‹¥ç”µè„‘ç®¡æ§ä¸¥æ ¼ï¼Œå¯èƒ½ä»éœ€ææƒï¼‰ã€‚</li></ul></li></ul></li></ol><hr><h2 id="è™šæ‹Ÿç¯å¢ƒæ‰¾ä¸åˆ°pip"><a href="#è™šæ‹Ÿç¯å¢ƒæ‰¾ä¸åˆ°pip" class="headerlink" title="è™šæ‹Ÿç¯å¢ƒæ‰¾ä¸åˆ°pip"></a>è™šæ‹Ÿç¯å¢ƒæ‰¾ä¸åˆ°pip</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">where pip</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰ååº”</p><blockquote><p>where æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼š å®ƒåªåœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ PATH é‡Œå»ä¸€ä¸ªä¸ªæ–‡ä»¶å¤¹ç¿»æ‰¾åç¼€ä¸º .exe, .bat ç­‰çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-Command pip</span><br></pre></td></tr></table></figure><p>æˆåŠŸæ˜¾ç¤º ç¡®å®åœ¨è™šæ‹Ÿç¯å¢ƒä¸­</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ROSå¤§ä½œä¸šã€‘åŸºäºCameraçš„äººè„¸æ£€æµ‹è¯†åˆ«</title>
      <link href="/2025/11/03/%E3%80%90ROS%E5%A4%A7%E4%BD%9C%E4%B8%9A%E3%80%91%E5%9F%BA%E4%BA%8ECamera%E7%9A%84%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B%E8%AF%86%E5%88%AB/"/>
      <url>/2025/11/03/%E3%80%90ROS%E5%A4%A7%E4%BD%9C%E4%B8%9A%E3%80%91%E5%9F%BA%E4%BA%8ECamera%E7%9A%84%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h1 id="Ubuntu-dlib-opencvæ‘„åƒå¤´å®æ—¶äººè„¸è¯†åˆ«ï¼ˆå«è®­ç»ƒäººè„¸åº“ï¼‰"><a href="#Ubuntu-dlib-opencvæ‘„åƒå¤´å®æ—¶äººè„¸è¯†åˆ«ï¼ˆå«è®­ç»ƒäººè„¸åº“ï¼‰" class="headerlink" title="Ubuntu+dlib+opencvæ‘„åƒå¤´å®æ—¶äººè„¸è¯†åˆ«ï¼ˆå«è®­ç»ƒäººè„¸åº“ï¼‰"></a>Ubuntu+dlib+opencvæ‘„åƒå¤´å®æ—¶äººè„¸è¯†åˆ«ï¼ˆå«è®­ç»ƒäººè„¸åº“ï¼‰</h1><blockquote><p>å‚è€ƒæ–‡çŒ® <a href="https://blog.csdn.net/ffcjjhv/article/details/84637986">Ubuntu+dlib+opencvæ‘„åƒå¤´å®æ—¶äººè„¸è¯†åˆ«ï¼ˆå«è®­ç»ƒäººè„¸åº“ï¼‰</a></p></blockquote><h2 id="Face-Recognition-dlib"><a href="#Face-Recognition-dlib" class="headerlink" title="Face_Recognition_dlib"></a>Face_Recognition_dlib</h2><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul><li>Ubuntu 16.04</li><li>opencv 3.0 for python3.6 <code>pip install opencv-python</code></li><li>dlib 19.16</li></ul><h3 id="æ¨¡å‹ä¸‹è½½"><a href="#æ¨¡å‹ä¸‹è½½" class="headerlink" title="æ¨¡å‹ä¸‹è½½"></a>æ¨¡å‹ä¸‹è½½</h3><ul><li><p>äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨ <code>predictor_path=&quot;shape_predictor_68_face_landmarks.dat&quot;</code></p></li><li><p>äººè„¸è¯†åˆ«æ¨¡å‹ <code>face_rec_model_path = &quot;dlib_face_recognition_resnet_model_v1.dat&quot;</code></p></li><li><p>å«äººè„¸åº“<code>candidate-face</code>ä¸­äººè„¸ä¸åŒè¡¨æƒ…çš„æµ‹è¯•æ•°æ®é›† <code>test-face.zip</code> è§£å‹åä¸ä¸Šè¿°æ–‡ä»¶å‡ç½®äºæ ¹ç›®å½•ä¸‹</p></li></ul><p>ä¸‹è½½åœ°å€ï¼šç™¾åº¦äº‘ç›˜ <a href="https://pan.baidu.com/s/1h01sfvf5KWU6_7c2-i5HTQ">https://pan.baidu.com/s/1h01sfvf5KWU6_7c2-i5HTQ</a></p><h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><h4 id="è®­ç»ƒäººè„¸åº“ç‰¹å¾"><a href="#è®­ç»ƒäººè„¸åº“ç‰¹å¾" class="headerlink" title="è®­ç»ƒäººè„¸åº“ç‰¹å¾"></a>è®­ç»ƒäººè„¸åº“ç‰¹å¾</h4><p>è¿è¡Œ <code>python candidate_train.py</code> è·å¾—äººè„¸åº“ç‰¹å¾ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨ <code>candidates.npy</code> ä¸ <code>candidates.txt</code> ä¸­ã€‚</p><p><code>candidate_train.py</code>æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os,dlib,numpy</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨</span></span><br><span class="line">predictor_path = <span class="string">&quot;shape_predictor_68_face_landmarks.dat&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.äººè„¸è¯†åˆ«æ¨¡å‹</span></span><br><span class="line">face_rec_model_path = <span class="string">&quot;dlib_face_recognition_resnet_model_v1.dat&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å€™é€‰äººè„¸æ–‡ä»¶å¤¹</span></span><br><span class="line">faces_folder_path = <span class="string">&quot;candidate-face&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.éœ€è¯†åˆ«çš„äººè„¸</span></span><br><span class="line">img_path = <span class="string">&quot;test-face/0001_IR_allleft.jpg&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.è¯†åˆ«ç»“æœå­˜æ”¾æ–‡ä»¶å¤¹</span></span><br><span class="line">faceRect_path = <span class="string">&quot;faceRec&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.åŠ è½½æ­£è„¸æ£€æµ‹å™¨</span></span><br><span class="line">detector = dlib.get_frontal_face_detector()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åŠ è½½äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨</span></span><br><span class="line">sp = dlib.shape_predictor(predictor_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åŠ è½½äººè„¸è¯†åˆ«æ¨¡å‹</span></span><br><span class="line">facerec = dlib.face_recognition_model_v1(face_rec_model_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å€™é€‰äººè„¸æè¿°å­list</span></span><br><span class="line"></span><br><span class="line">candidates = []</span><br><span class="line"></span><br><span class="line">filelist = os.listdir(faces_folder_path)</span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> fn <span class="keyword">in</span> filelist:</span><br><span class="line">        count = count+<span class="number">1</span></span><br><span class="line">descriptors = numpy.zeros(shape=(count,<span class="number">128</span>))</span><br><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> filelist:</span><br><span class="line">    f = os.path.join(faces_folder_path,file)</span><br><span class="line">    <span class="comment">#if os.path.splitext(file)[1] == &quot;.jpg&quot; #æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Processing file: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(f))</span><br><span class="line">    img = cv2.imread(f)</span><br><span class="line">    <span class="comment"># 1.äººè„¸æ£€æµ‹</span></span><br><span class="line">    dets = detector(img, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(dets):</span><br><span class="line">        <span class="comment"># 2.å…³é”®ç‚¹æ£€æµ‹</span></span><br><span class="line">        shape = sp(img, d)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 3.æè¿°å­æå–ï¼Œ128Då‘é‡</span></span><br><span class="line">        face_descriptor = facerec.compute_face_descriptor(img, shape)</span><br><span class="line">        <span class="comment"># è½¬æ¢ä¸ºnumpy array</span></span><br><span class="line">        v = numpy.array(face_descriptor)</span><br><span class="line"></span><br><span class="line">        descriptors[n] = v</span><br><span class="line"></span><br><span class="line">        <span class="comment"># descriptors.append(v)</span></span><br><span class="line">        candidates.append(os.path.splitext(file)[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    n += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> d <span class="keyword">in</span> dets:</span><br><span class="line">        <span class="comment"># print(&quot;faceRec locate:&quot;,d)</span></span><br><span class="line">        <span class="comment"># print(type(d))</span></span><br><span class="line">        <span class="comment"># ä½¿ç”¨opencvåœ¨åŸå›¾ä¸Šç”»å‡ºäººè„¸ä½ç½®</span></span><br><span class="line">        left_top = (dlib.rectangle.left(d), dlib.rectangle.top(d))</span><br><span class="line">        right_bottom = (dlib.rectangle.right(d), dlib.rectangle.bottom(d))</span><br><span class="line">        cv2.rectangle(img, left_top, right_bottom, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># cv2.imwrite(os.path.join(faceRect_path,file), img)</span></span><br><span class="line"></span><br><span class="line">numpy.save(<span class="string">&#x27;candidates.npy&#x27;</span>,descriptors)</span><br><span class="line">file= <span class="built_in">open</span>(<span class="string">&#x27;candidates.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> candidate <span class="keyword">in</span> candidates:</span><br><span class="line">    file.write(candidate)</span><br><span class="line">    file.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure><h4 id="äººè„¸è¯†åˆ«æµ‹è¯•"><a href="#äººè„¸è¯†åˆ«æµ‹è¯•" class="headerlink" title="äººè„¸è¯†åˆ«æµ‹è¯•"></a>äººè„¸è¯†åˆ«æµ‹è¯•</h4><p>è¿è¡Œ <code>python facerec_68point.py</code> å¾—åˆ°è¯†åˆ«ç»“æœ <code>all-face-result.jpg</code>ã€‚</p><p><code>facerec_68point.py</code>æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> dlib</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾…æ£€æµ‹å›¾ç‰‡</span></span><br><span class="line">img_path = <span class="string">&quot;all-face.jpg&quot;</span></span><br><span class="line"><span class="comment"># äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨</span></span><br><span class="line">predictor_path=<span class="string">&quot;shape_predictor_68_face_landmarks.dat&quot;</span></span><br><span class="line"><span class="comment"># äººè„¸è¯†åˆ«æ¨¡å‹</span></span><br><span class="line">face_rec_model_path = <span class="string">&quot;dlib_face_recognition_resnet_model_v1.dat&quot;</span></span><br><span class="line"><span class="comment"># å€™é€‰äººæ–‡ä»¶</span></span><br><span class="line">candidate_npydata_path = <span class="string">&quot;candidates.npy&quot;</span></span><br><span class="line">candidate_path = <span class="string">&quot;candidates.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ­£è„¸æ£€æµ‹å™¨</span></span><br><span class="line">detector = dlib.get_frontal_face_detector()</span><br><span class="line"><span class="comment"># åŠ è½½äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨</span></span><br><span class="line">sp = dlib.shape_predictor(predictor_path)</span><br><span class="line"><span class="comment"># åŠ è½½äººè„¸è¯†åˆ«æ¨¡å‹</span></span><br><span class="line">facerec = dlib.face_recognition_model_v1(face_rec_model_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å€™é€‰äººè„¸æè¿°å­list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å€™é€‰äººæ•°æ®</span></span><br><span class="line">npy_data=numpy.load(candidate_npydata_path)</span><br><span class="line">descriptors=npy_data.tolist()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å€™é€‰äººåå•</span></span><br><span class="line">candidate = []</span><br><span class="line">file=<span class="built_in">open</span>(candidate_path, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">list_read = file.readlines()</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> list_read:</span><br><span class="line">    name = name.strip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    candidate.append(name)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Processing file: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(img_path))</span><br><span class="line">img = cv2.imread(img_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.äººè„¸æ£€æµ‹</span></span><br><span class="line">dets = detector(img, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Number of faces detected: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(dets)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(dets):</span><br><span class="line">    <span class="comment"># 2.å…³é”®ç‚¹æ£€æµ‹</span></span><br><span class="line">    shape = sp(img, d)</span><br><span class="line">    face_descriptor = facerec.compute_face_descriptor(img, shape)</span><br><span class="line">    d_test2 = numpy.array(face_descriptor)</span><br><span class="line">    <span class="comment"># è®¡ç®—æ¬§å¼è·ç¦»</span></span><br><span class="line">    dist = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> descriptors:</span><br><span class="line">        dist_ = numpy.linalg.norm(i - d_test2)</span><br><span class="line">        dist.append(dist_)</span><br><span class="line">    num = dist.index(<span class="built_in">min</span>(dist))  <span class="comment"># è¿”å›æœ€å°å€¼</span></span><br><span class="line"></span><br><span class="line">    left_top = (dlib.rectangle.left(d), dlib.rectangle.top(d))</span><br><span class="line">    right_bottom = (dlib.rectangle.right(d), dlib.rectangle.bottom(d))</span><br><span class="line">    cv2.rectangle(img, left_top, right_bottom, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>, cv2.LINE_AA)</span><br><span class="line">    text_point = (dlib.rectangle.left(d), dlib.rectangle.top(d) - <span class="number">5</span>)</span><br><span class="line">    cv2.putText(img, candidate[num], text_point, cv2.FONT_HERSHEY_PLAIN, <span class="number">2.0</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>, <span class="number">1</span>)  <span class="comment"># æ ‡å‡ºface</span></span><br><span class="line"></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;all-face-result.jpg&#x27;</span>, img)</span><br><span class="line"></span><br><span class="line"><span class="comment"># cv2.imshow(&quot;img&quot;,img) # è½¬æˆï¼¢ï¼§ï¼²æ˜¾ç¤º</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cv2.waitKey(0)</span></span><br><span class="line"><span class="comment"># cv2.destroyAllWindows()</span></span><br></pre></td></tr></table></figure><h4 id="å®æ—¶äººè„¸è¯†åˆ«"><a href="#å®æ—¶äººè„¸è¯†åˆ«" class="headerlink" title="å®æ—¶äººè„¸è¯†åˆ«"></a>å®æ—¶äººè„¸è¯†åˆ«</h4><p>è¿è¡Œ <code>this_is_who_camera.py</code> æ‰“å¼€æ‘„åƒå¤´è¿›è¡Œå®æ—¶çš„äººè„¸è¯†åˆ«ã€‚</p><p><code>this_is_who_camera.py</code>æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> dlib,numpy </span><br><span class="line"><span class="keyword">import</span> cv2          </span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨</span></span><br><span class="line">predictor_path = <span class="string">&quot;shape_predictor_68_face_landmarks.dat&quot;</span></span><br><span class="line"><span class="comment"># 2.äººè„¸è¯†åˆ«æ¨¡å‹</span></span><br><span class="line">face_rec_model_path = <span class="string">&quot;dlib_face_recognition_resnet_model_v1.dat&quot;</span></span><br><span class="line"><span class="comment"># 3.å€™é€‰äººæ–‡ä»¶</span></span><br><span class="line">candidate_npydata_path = <span class="string">&quot;candidates.npy&quot;</span></span><br><span class="line">candidate_path = <span class="string">&quot;candidates.txt&quot;</span></span><br><span class="line"><span class="comment"># 4.å‚¨å­˜æˆªå›¾ç›®å½•</span></span><br><span class="line">path_screenshots = <span class="string">&quot;screenShots/&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½æ­£è„¸æ£€æµ‹å™¨</span></span><br><span class="line">detector = dlib.get_frontal_face_detector()</span><br><span class="line"><span class="comment"># åŠ è½½äººè„¸å…³é”®ç‚¹æ£€æµ‹å™¨</span></span><br><span class="line">sp = dlib.shape_predictor(predictor_path)</span><br><span class="line"><span class="comment"># åŠ è½½äººè„¸è¯†åˆ«æ¨¡å‹</span></span><br><span class="line">facerec = dlib.face_recognition_model_v1(face_rec_model_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å€™é€‰äººè„¸æè¿°å­list</span></span><br><span class="line"><span class="comment"># è¯»å–å€™é€‰äººæ•°æ®</span></span><br><span class="line">npy_data=numpy.load(candidate_npydata_path)</span><br><span class="line">descriptors=npy_data.tolist()</span><br><span class="line"><span class="comment"># å€™é€‰äººåå•</span></span><br><span class="line">candidate = []</span><br><span class="line">file=<span class="built_in">open</span>(candidate_path, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">list_read = file.readlines()</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> list_read:</span><br><span class="line">    name = name.strip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    candidate.append(name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º cv2 æ‘„åƒå¤´å¯¹è±¡</span></span><br><span class="line">cv2.namedWindow(<span class="string">&quot;camera&quot;</span>, <span class="number">1</span>)</span><br><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">cap.<span class="built_in">set</span>(<span class="number">3</span>, <span class="number">480</span>)</span><br><span class="line"><span class="comment"># æˆªå›¾ screenshots çš„è®¡æ•°å™¨</span></span><br><span class="line">cnt = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> (cap.isOpened()):  <span class="comment">#isOpened()  æ£€æµ‹æ‘„åƒå¤´æ˜¯å¦å¤„äºæ‰“å¼€çŠ¶æ€</span></span><br><span class="line">    ret, img = cap.read()  <span class="comment">#æŠŠæ‘„åƒå¤´è·å–çš„å›¾åƒä¿¡æ¯ä¿å­˜ä¹‹imgå˜é‡</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="literal">True</span>:       <span class="comment">#å¦‚æœæ‘„åƒå¤´è¯»å–å›¾åƒæˆåŠŸ</span></span><br><span class="line">        <span class="comment"># æ·»åŠ æç¤º</span></span><br><span class="line">        cv2.putText(img, <span class="string">&quot;press &#x27;S&#x27;: screenshot&quot;</span>, (<span class="number">20</span>, <span class="number">400</span>), cv2.FONT_HERSHEY_PLAIN, <span class="number">1</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">1</span>, cv2.LINE_AA)</span><br><span class="line">        cv2.putText(img, <span class="string">&quot;press &#x27;Q&#x27;: quit&quot;</span>, (<span class="number">20</span>, <span class="number">450</span>), cv2.FONT_HERSHEY_PLAIN, <span class="number">1</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">1</span>, cv2.LINE_AA)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># img_gray = cv2.cvtColor(im_rd, cv2.COLOR_RGB2GRAY)</span></span><br><span class="line">        dets = detector(img, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(dets) != <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># æ£€æµ‹åˆ°äººè„¸</span></span><br><span class="line">            <span class="keyword">for</span> k, d <span class="keyword">in</span> <span class="built_in">enumerate</span>(dets):</span><br><span class="line">                <span class="comment"># å…³é”®ç‚¹æ£€æµ‹</span></span><br><span class="line">                shape = sp(img, d)</span><br><span class="line">                <span class="comment"># éå†æ‰€æœ‰ç‚¹åœˆå‡ºæ¥</span></span><br><span class="line">                <span class="keyword">for</span> pt <span class="keyword">in</span> shape.parts():</span><br><span class="line">                    pt_pos = (pt.x, pt.y)</span><br><span class="line">                    cv2.circle(img, pt_pos, <span class="number">2</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">1</span>)</span><br><span class="line">                face_descriptor = facerec.compute_face_descriptor(img, shape)</span><br><span class="line">                d_test2 = numpy.array(face_descriptor)</span><br><span class="line">                <span class="comment"># è®¡ç®—æ¬§å¼è·ç¦»</span></span><br><span class="line">                dist = []</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> descriptors:</span><br><span class="line">                    dist_ = numpy.linalg.norm(i - d_test2)</span><br><span class="line">                    dist.append(dist_)</span><br><span class="line">                num = dist.index(<span class="built_in">min</span>(dist))  <span class="comment"># è¿”å›æœ€å°å€¼</span></span><br><span class="line"></span><br><span class="line">                left_top = (dlib.rectangle.left(d), dlib.rectangle.top(d))</span><br><span class="line">                right_bottom = (dlib.rectangle.right(d), dlib.rectangle.bottom(d))</span><br><span class="line">                cv2.rectangle(img, left_top, right_bottom, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>, cv2.LINE_AA)</span><br><span class="line">                text_point = (dlib.rectangle.left(d), dlib.rectangle.top(d) - <span class="number">5</span>)</span><br><span class="line">                cv2.putText(img, candidate[num][<span class="number">0</span>:<span class="number">4</span>], text_point, cv2.FONT_HERSHEY_PLAIN, <span class="number">2.0</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">1</span>, <span class="number">1</span>)  <span class="comment"># æ ‡å‡ºface</span></span><br><span class="line"></span><br><span class="line">            cv2.putText(img, <span class="string">&quot;facesNum: &quot;</span> + <span class="built_in">str</span>(<span class="built_in">len</span>(dets)), (<span class="number">20</span>, <span class="number">50</span>),  cv2.FONT_HERSHEY_PLAIN, <span class="number">1.5</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>, cv2.LINE_AA)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># æ²¡æœ‰æ£€æµ‹åˆ°äººè„¸</span></span><br><span class="line">            cv2.putText(img, <span class="string">&quot;facesNum:0&quot;</span>, (<span class="number">20</span>, <span class="number">50</span>),  cv2.FONT_HERSHEY_PLAIN, <span class="number">1.5</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>, cv2.LINE_AA)</span><br><span class="line"></span><br><span class="line">        k = cv2.waitKey(<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># æŒ‰ä¸‹ &#x27;s&#x27; é”®ä¿å­˜</span></span><br><span class="line">        <span class="keyword">if</span> k == <span class="built_in">ord</span>(<span class="string">&#x27;s&#x27;</span>):</span><br><span class="line">            cnt += <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(path_screenshots + <span class="string">&quot;screenshot&quot;</span> + <span class="string">&quot;_&quot;</span> + <span class="built_in">str</span>(cnt) + <span class="string">&quot;_&quot;</span> + time.strftime(<span class="string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>, time.localtime()) + <span class="string">&quot;.jpg&quot;</span>)</span><br><span class="line">            cv2.imwrite(path_screenshots + <span class="string">&quot;screenshot&quot;</span> + <span class="string">&quot;_&quot;</span> + <span class="built_in">str</span>(cnt) + <span class="string">&quot;_&quot;</span> + time.strftime(<span class="string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>, time.localtime()) + <span class="string">&quot;.jpg&quot;</span>, img)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŒ‰ä¸‹ &#x27;q&#x27; é”®é€€å‡º</span></span><br><span class="line">        <span class="keyword">if</span> k == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        cv2.imshow(<span class="string">&quot;camera&quot;</span>, img)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡Šæ”¾æ‘„åƒå¤´</span></span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><ul><li><p>æ¯æ¬¡äººè„¸åº“<code>candidate-face</code>ä¸­åŠ å…¥æ–°çš„äººè„¸æ•°æ®ï¼Œå‡éœ€è¿è¡Œ<code>python candidate_train.py</code></p></li><li><p><code>python facerec_68point.py</code>æ£€æµ‹çš„æ˜¯ä¸äººè„¸åº“ä¸­æœ€ç›¸ä¼¼çš„</p></li><li><p>æä¾› <code>this_is_who.py</code> è¿›è¡Œåœ¨<code>test-face</code>æ–‡ä»¶å¤¹ä¸­çš„æ‰¹é‡æµ‹è¯•ï¼Œæµ‹è¯•ç»“æœå­˜äº<code>faceRec</code>æ–‡ä»¶å¤¹ï¼Œè¯†åˆ«é”™è¯¯ç»“æœå­˜äº<code>faceRec_ERROR</code></p></li><li><p>æœ€è¿‘çš„é¡¹ç›®æ˜¯åœ¨çº¢å¤–äººè„¸å›¾åƒä¸Šè¿›è¡Œçš„ï¼Œäººè„¸ä¸å¤ªæ¸…æ™°ï¼Œå¦‚æœæ˜¯æ­£å¸¸æ‘„åƒå¤´æ•ˆæœåº”è¯¥ä¼šæ›´å¥½</p></li></ul><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><ul><li><p><code>python facerec_68point.py</code>åœ¨å•å¼ ä¸Šçš„æµ‹è¯•ç»“æœï¼š</p></li><li><p><code>this_is_who.py</code>åœ¨test-faceæ–‡ä»¶å¤¹ä¸­çš„æ‰¹é‡æµ‹è¯•ç»“æœï¼š</p></li><li><p><code>this_is_who_camera.py</code>å®æ—¶æ£€æµ‹æ•ˆæœï¼š</p></li></ul><h3 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h3><p><a href="https://github.com/zj19941113/Face_Recognition_dlib">https://github.com/zj19941113/Face_Recognition_dlib</a></p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/ffcjjhv/article/details/84637986">https://blog.csdn.net/ffcjjhv/article/details/84637986</a></p><h2 id="ä¼˜åŒ–ç¨‹åº"><a href="#ä¼˜åŒ–ç¨‹åº" class="headerlink" title="ä¼˜åŒ–ç¨‹åº"></a>ä¼˜åŒ–ç¨‹åº</h2><blockquote><p>åŠ å…¥ROSèŠ‚ç‚¹ å¯¹æ‘„åƒå¤´å¸§ç‡è¿›è¡Œæé«˜ æé«˜å®æ—¶æ€§</p></blockquote><p>å¯åŠ¨launch</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch face_detection_dlib face_detection.launch</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> ROS </tag>
            
            <tag> å¤§ä½œä¸š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuç³»ç»Ÿç½‘å¡é©±åŠ¨ä¿®å¤</title>
      <link href="/2025/10/24/Ubuntu%E7%B3%BB%E7%BB%9F%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%E4%BF%AE%E5%A4%8D/"/>
      <url>/2025/10/24/Ubuntu%E7%B3%BB%E7%BB%9F%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%E4%BF%AE%E5%A4%8D/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡åŸºäºUbuntu 20.04ç³»ç»Ÿç‰ˆæœ¬ Intel AX211ç½‘å¡</p></blockquote><h1 id="æ€è·¯æ­¥éª¤"><a href="#æ€è·¯æ­¥éª¤" class="headerlink" title="æ€è·¯æ­¥éª¤"></a>æ€è·¯æ­¥éª¤</h1><ul><li>åˆ¤æ–­è¿æ¥ä¸ä¸Š WiFi çš„åŸå› æ˜¯ NetworkManager é…ç½®é—®é¢˜ è¿˜æ˜¯ ç¼ºå°‘ç½‘å¡é©±åŠ¨ã€‚</li><li>æŸ¥çœ‹æ— çº¿ç½‘å¡å‹å·ï¼Œç¡®è®¤æ˜¯å¦ä¸º Intel AX211ã€‚</li><li>æ£€æŸ¥ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬æ˜¯å¦é«˜äº 5.14ï¼Œè‹¥ä¸è¶³åˆ™å‡çº§å†…æ ¸ä»¥æ”¯æŒ AX211 é©±åŠ¨ã€‚</li><li>ä¸‹è½½é€‚é… AX211 çš„é©±åŠ¨å›ºä»¶åŒ…ã€‚</li><li>è§£å‹å›ºä»¶åŒ…å¹¶å°†æ‰€æœ‰ AX211 ç›¸å…³é©±åŠ¨æ–‡ä»¶å¤åˆ¶åˆ° &#x2F;lib&#x2F;firmware&#x2F; ç›®å½•ä¸­ã€‚</li><li>é‡å¯ç³»ç»Ÿï¼ŒåŠ è½½æ–°é©±åŠ¨ï¼Œç¡®è®¤ WiFi åŠŸèƒ½æ¢å¤æ­£å¸¸ã€‚</li></ul><h1 id="åˆ¤æ–­è¿ä¸ä¸Š-æ²¡æœ‰WIFIå›¾æ ‡çš„åŸå› "><a href="#åˆ¤æ–­è¿ä¸ä¸Š-æ²¡æœ‰WIFIå›¾æ ‡çš„åŸå› " class="headerlink" title="åˆ¤æ–­è¿ä¸ä¸Š &#x2F; æ²¡æœ‰WIFIå›¾æ ‡çš„åŸå› "></a>åˆ¤æ–­è¿ä¸ä¸Š &#x2F; æ²¡æœ‰WIFIå›¾æ ‡çš„åŸå› </h1><p>æ£€æŸ¥æ— çº¿ç½‘å¡è®¾å¤‡çŠ¶æ€</p><p>æŸ¥çœ‹ç½‘ç»œè®¾å¤‡åˆ—è¡¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmcli dev</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœåˆ—å‡ºçš„è®¾å¤‡çŠ¶æ€å…¨æ˜¯ æœªç®¡ç†ï¼ˆunmanagedï¼‰ï¼Œè¯´æ˜ç½‘ç»œè®¾å¤‡ä¸å—NetworkManagerç½‘ç»œç®¡ç†å™¨ç®¡ç†,éœ€è¦é‡æ–°é…ç½® ç½‘ç»œç®¡ç†å™¨ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å…¶æœªæ­£å¸¸é…ç½®å¯¼è‡´äº†è¿ä¸ä¸ŠWIFI</p></blockquote><p>é‡æ–°é…ç½® ç½‘ç»œç®¡ç†å™¨ NetworkManager<br>æ¸…ç©º &#x2F;etc&#x2F;network&#x2F;interfaces é…ç½®</p><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ &#x2F;etc&#x2F;network&#x2F;interfaces æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/network/interfaces</span><br></pre></td></tr></table></figure><p>ä»…ä¿ç•™ä»¥ä¸‹å†…å®¹ï¼Œå…¶ä»–åˆ é™¤ï¼ŒæŒ‰ <code>ctrl+o</code> ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br></pre></td></tr></table></figure><p>é‡å¯ NetworkManager æœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart NetworkManager</span><br></pre></td></tr></table></figure><p>é‡å¯ï¼Œç„¶åå†æŸ¥çœ‹ç½‘ç»œè®¾å¤‡åˆ—è¡¨ä¿¡æ¯</p><p>å¦‚æœï¼Œé‡å¯åï¼Œæ— çº¿ç½‘å¡è®¾å¤‡ä»ç„¶æ˜¯ æœªç®¡ç†ï¼ˆunmanagedï¼‰ï¼Œåˆ™åˆæ­¥åˆ¤æ–­é—®é¢˜åœ¨äº NetworkManager æ²¡æœ‰ æ— çº¿ç½‘å¡ çš„é©±åŠ¨ï¼Œæ— æ³•è¯†åˆ«æ— çº¿ç½‘å¡ï¼Œè€Œé NetworkManager çš„é…ç½®å‡ºé”™</p><h1 id="æ›´æ–°æ— çº¿ç½‘å¡é©±åŠ¨"><a href="#æ›´æ–°æ— çº¿ç½‘å¡é©±åŠ¨" class="headerlink" title="æ›´æ–°æ— çº¿ç½‘å¡é©±åŠ¨"></a>æ›´æ–°æ— çº¿ç½‘å¡é©±åŠ¨</h1><p>æŸ¥çœ‹æ— çº¿ç½‘å¡å‹å·</p><p>æ¨èåˆ‡æ¢åˆ° windows ç³»ç»Ÿï¼Œåœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­æŸ¥çœ‹æ— çº¿ç½‘å¡å‹å·</p><p>æŸ¥æ‰¾ç½‘å¡é©±åŠ¨çš„å†…æ ¸éœ€æ±‚</p><p>æˆ‘çš„æ— çº¿ç½‘å¡å‹å·ä¸º Intel AX211</p><p>å‰å¾€ è‹±ç‰¹å°”Â®æ— çº¿é€‚é…å™¨çš„ Linux* æ”¯æŒ æŸ¥çœ‹å†…æ ¸éœ€æ±‚</p><p>æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure><p>åªè¦å†…æ ¸ç‰ˆæœ¬ å¤§äºç­‰äº5.14 å³å¯</p><p>ä¸‹è½½ AX211 æ— çº¿ç½‘å¡é©±åŠ¨</p><p>å‰å¾€ é€‚ç”¨äº Linux* çš„è‹±ç‰¹å°”Â® æ— çº¿ Wi-Fi é©±åŠ¨ç¨‹åº ä¸‹è½½æ‰€éœ€é©±åŠ¨</p><blockquote><p><a href="https://www.intel.com/content/www/us/en/support/articles/000005511/wireless.html">wireless</a><br><a href="https://gitlab.com/kernel-firmware/linux-firmware">linux-firmware</a></p></blockquote><p>ç‚¹å‡»æœ€ä¸‹æ–¹é“¾æ¥</p><p>ç‚¹å‡» download é“¾æ¥ä¸‹è½½å›ºä»¶åŒ…</p><p>è¿™é‡Œï¼Œå¦‚æœubuntuç³»ç»Ÿé‡Œä¸‹è½½çš„æ…¢ï¼Œå¯ä»¥è€ƒè™‘åˆ‡å›windowsä¸‹è½½åæ‹·è´åˆ°Uç›˜ä¸­ï¼Œå†æ‹·è´åˆ°ubunutuä¸­</p><p>å®‰è£…é©±åŠ¨</p><p>è®²ä¸€ä¸‹æ€è·¯ï¼š<br>è‹±ç‰¹å°”å›ºä»¶åŒ…åŒ…å«å¤§é‡æ— çº¿ç½‘å¡é©±åŠ¨ï¼Œæˆ‘ä»¬åªéœ€ AX211 çš„é©±åŠ¨ã€‚é€šè¿‡è§£å‹å®˜æ–¹å›ºä»¶åŒ…ï¼Œå¤åˆ¶æ‰€æœ‰ä»¥ iwlwifi ä¸ºå‰ç¼€çš„é©±åŠ¨æ–‡ä»¶åˆ° Ubuntu å›ºä»¶åº“ï¼ˆè¿™äº›æ–‡ä»¶æ˜¯ AX211 åŠå…¶ç›¸å…³ç½‘å¡çš„é©±åŠ¨ï¼‰ï¼Œç¡®ä¿ AX211 é©±åŠ¨è¢«è¯†åˆ«ï¼ˆé©±åŠ¨å¯å¤šä¸å¯å°‘ï¼Œå¤šä½™çš„é©±åŠ¨å¢å¼ºå…¼å®¹æ€§ï¼Œæ— å½±å“ï¼‰ã€‚</p><p>å…ˆæ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…å’Œä¾èµ–åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><p>å†åœ¨å›ºä»¶åŒ…æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œè§£å‹å‹ç¼©åŒ…ï¼Œå¹¶å°†å›ºä»¶ç§»åŠ¨åˆ°ubuntuçš„å›ºä»¶åº“ï¼Œä»¥ä¾›æ— çº¿ç½‘å¡ç®¡ç†å™¨å¯ä»¥è¯†åˆ«AX211ç½‘å¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf linux-firmware-a19bb447e57a0caa2bcc1ddbda0476c1df2eï¼ˆè¿™é‡Œå¡«ä½ çš„å›ºä»¶å‹ç¼©åŒ…åï¼Œå¯ä»¥ç”¨tabè‡ªåŠ¨è¡¥å…¨ï¼‰</span><br><span class="line">cd linux-firmware-a19bb447e57a0caa2bcc1ddbda0476c1df2e098a/ï¼ˆè¿›å…¥è§£å‹åçš„å›ºä»¶åŒ…æ–‡ä»¶å¤¹ï¼‰</span><br><span class="line">sudo cp iwlwifi-* /lib/firmware/ï¼ˆå¤åˆ¶æ‰€æœ‰ AX211 ç›¸å…³çš„é©±åŠ¨åˆ°ubuntuçš„å›ºä»¶åº“ï¼‰</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œé‡å¯ï¼</p><h1 id="WiFi-å›¾æ ‡å‡ºç°ååˆè‡ªåŠ¨æ¶ˆå¤±"><a href="#WiFi-å›¾æ ‡å‡ºç°ååˆè‡ªåŠ¨æ¶ˆå¤±" class="headerlink" title="WiFi å›¾æ ‡å‡ºç°ååˆè‡ªåŠ¨æ¶ˆå¤±"></a>WiFi å›¾æ ‡å‡ºç°ååˆè‡ªåŠ¨æ¶ˆå¤±</h1><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ Ubuntu 20.04 ç³»ç»Ÿä¸­ï¼ŒæˆåŠŸå®‰è£… Intel AX211 ç½‘å¡é©±åŠ¨åï¼Œæœ€åˆ WiFi å›¾æ ‡æ˜¾ç¤ºæ­£å¸¸ï¼Œç½‘ç»œè¿æ¥ä¹Ÿå¯æ­£å¸¸ä½¿ç”¨ã€‚ç„¶è€Œï¼Œä¸€æ®µæ—¶é—´åï¼ŒWiFi å›¾æ ‡çªç„¶æ¶ˆå¤±ï¼Œæ— æ³•è¿æ¥æ— çº¿ç½‘ç»œ</p><h2 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h2><p>WiFi å›¾æ ‡è‡ªåŠ¨æ¶ˆå¤±çš„åŸå› æ˜¯ Ubuntu åœ¨æ‰§è¡Œ sudo apt update &amp;&amp; sudo apt upgrade æ—¶ï¼Œé»˜è®¤å¯ç”¨äº†å†…æ ¸è‡ªåŠ¨å‡çº§æœåŠ¡ï¼ˆunattended-upgradesï¼‰ï¼Œå¯¼è‡´å†…æ ¸ä» 5.15.0-67-generic å‡çº§è‡³ 5.15.0-130-genericã€‚ç”±äºæ–°å†…æ ¸ä¸ AX211 ç½‘å¡é©±åŠ¨ï¼ˆiwlwifiï¼‰ä¸å…¼å®¹ï¼Œé©±åŠ¨åŠ è½½å¤±è´¥ï¼Œå›ºä»¶æ–‡ä»¶æ— æ³•æ­£ç¡®åŠ è½½ï¼Œä¸”å†…æ ¸æ¨¡å—ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œæœ€ç»ˆå¯¼è‡´æ— çº¿ç½‘å¡æ— æ³•æ­£å¸¸å·¥ä½œï¼ŒWiFi å›¾æ ‡æ¶ˆå¤±ã€‚</p><blockquote><p>psï¼šå¯ä»¥ä½¿ç”¨ uname -r å‘½ä»¤æ£€æŸ¥å½“å‰å†…æ ¸ç‰ˆæœ¬ï¼Œå¦‚æœä¸ WiFi æ­£å¸¸å·¥ä½œæ—¶çš„å†…æ ¸ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œåˆ™å¾ˆå¯èƒ½æ˜¯ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°åï¼Œå†…æ ¸å‡çº§å¯¼è‡´æ–°ç‰ˆæœ¬ä¸ AX211 ç½‘å¡é©±åŠ¨ä¸å…¼å®¹ï¼Œä»è€Œå½±å“ WiFi åŠŸèƒ½</p></blockquote><h2 id="å›æ»šåˆ°æ—§å†…æ ¸ç‰ˆæœ¬"><a href="#å›æ»šåˆ°æ—§å†…æ ¸ç‰ˆæœ¬" class="headerlink" title="å›æ»šåˆ°æ—§å†…æ ¸ç‰ˆæœ¬"></a>å›æ»šåˆ°æ—§å†…æ ¸ç‰ˆæœ¬</h2><p>é‡å¯åï¼Œåœ¨å¼•å¯¼ç•Œé¢é€‰æ‹© â€œUbuntu çš„é«˜çº§é€‰é¡¹â€ è¿›å…¥ GRUB èœå•ï¼Œç„¶åé€‰æ‹©åŸæ¥çš„å†…æ ¸ç‰ˆæœ¬ (5.15.0-67-generic) è¿›è¡Œå¯åŠ¨ï¼Œå¹¶æµ‹è¯• WiFi åŠŸèƒ½æ˜¯å¦æ¢å¤æ­£å¸¸ã€‚</p><p>psï¼šå¦‚æœå›é€€åˆ°æ—§å†…æ ¸å WiFi åŠŸèƒ½æ¢å¤æ­£å¸¸ï¼Œå¯ç»§ç»­è¿›è¡Œåç»­æ“ä½œï¼Œä»¥é˜²æ­¢ç³»ç»Ÿå†æ¬¡è‡ªåŠ¨å‡çº§å¯¼è‡´é—®é¢˜å¤ç°</p><h2 id="é”å®šå½“å‰å†…æ ¸ç‰ˆæœ¬"><a href="#é”å®šå½“å‰å†…æ ¸ç‰ˆæœ¬" class="headerlink" title="é”å®šå½“å‰å†…æ ¸ç‰ˆæœ¬"></a>é”å®šå½“å‰å†…æ ¸ç‰ˆæœ¬</h2><p>ä½¿ç”¨ apt-mark hold é”å®šä¸å½“å‰å†…æ ¸ç›¸å…³çš„æ‰€æœ‰åŒ…ï¼Œé˜²æ­¢å®ƒä»¬è¢«è‡ªåŠ¨æ›´æ–°æˆ–æ›¿æ¢ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-mark hold linux-image-5.15.0-67-generic</span><br><span class="line">sudo apt-mark hold linux-headers-5.15.0-67-generic</span><br><span class="line">sudo apt-mark hold linux-modules-5.15.0-67-generic</span><br><span class="line">sudo apt-mark hold linux-modules-extra-5.15.0-67-generic</span><br></pre></td></tr></table></figure><h2 id="éªŒè¯é”å®šçŠ¶æ€"><a href="#éªŒè¯é”å®šçŠ¶æ€" class="headerlink" title="éªŒè¯é”å®šçŠ¶æ€"></a>éªŒè¯é”å®šçŠ¶æ€</h2><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰è¢«é”å®šçš„åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-mark showhold</span><br></pre></td></tr></table></figure><p>åº”è¯¥è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">linux-headers-5.15.0-67-generic</span><br><span class="line">linux-image-5.15.0-67-generic</span><br><span class="line">linux-modules-5.15.0-67-generic</span><br><span class="line">linux-modules-extra-5.15.0-67-generic</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸Šè¿°åŒ…éƒ½åœ¨åˆ—è¡¨ä¸­ï¼Œè¯´æ˜é”å®šæˆåŠŸ</p><h2 id="ä¿®æ”¹-GRUB-é…ç½®"><a href="#ä¿®æ”¹-GRUB-é…ç½®" class="headerlink" title="ä¿®æ”¹ GRUB é…ç½®"></a>ä¿®æ”¹ GRUB é…ç½®</h2><p>æ‰“å¼€ GRUB é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/default/grub</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°ï¼šGRUB_DEFAULT&#x3D;0ï¼Œä¿®æ”¹ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DEFAULT=&quot;1&gt;2&quot;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ â€œ1&gt;2â€ éœ€æ ¹æ® GRUB å¯åŠ¨èœå•çš„å®é™…é€‰é¡¹ è¿›è¡Œè°ƒæ•´ï¼š</p><ul><li>1&gt; ï¼šä»£è¡¨ â€œUbuntu çš„é«˜çº§é€‰é¡¹â€ï¼ˆåœ¨ GRUB ä¸»èœå•ä¸­çš„ ç¬¬äºŒè¡Œï¼Œç´¢å¼• 1ï¼‰</li><li>2 ï¼šä»£è¡¨ linux-image-5.15.0-67-genericï¼ˆåœ¨ é«˜çº§é€‰é¡¹èœå•ä¸­çš„ç¬¬ä¸‰ä¸ªé€‰é¡¹ï¼Œç´¢å¼• 2ï¼‰</li></ul><blockquote><p>psï¼šç”±äºä¸åŒç³»ç»Ÿçš„ GRUB èœå•ç»“æ„å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œè¯·æ ¹æ®è‡ªå·±çš„ GRUB å¯åŠ¨ç•Œé¢ é€‰é¡¹é¡ºåºè°ƒæ•´ GRUB_DEFAULT çš„å€¼ï¼Œç¡®ä¿æ­£ç¡®æŒ‡å‘ æ—§å†…æ ¸ç‰ˆæœ¬</p></blockquote><p>5.æ›´æ–° GRUB é…ç½®<br>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿ GRUB é…ç½®æ›´æ”¹ç”Ÿæ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-grub</span><br></pre></td></tr></table></figure><p>6.é‡æ–°å¯åŠ¨ï¼Œå¹¶éªŒè¯å†…æ ¸ç‰ˆæœ¬æ˜¯å¦æ­£å¸¸åˆ‡æ¢</p><blockquote><p>æœ¬æ–‡å‚è€ƒæ–‡çŒ® <a href="https://blog.csdn.net/AbaAbaxxx_/article/details/145312522">ã€Ubuntu 20.04ã€‘AX211ç½‘å¡é©±åŠ¨å®‰è£… Wifiå›¾æ ‡æ¶ˆå¤±</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROSè¯¾ç¨‹ç¬”è®°</title>
      <link href="/2025/10/17/ROS%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
      <url>/2025/10/17/ROS%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä»¥ Ubuntu20.04 ä¸ºåŸºç¡€ ROS1 Neotic ç‰ˆæœ¬ è®°å½•åšä¸»å­¦ä¹ è¿‡ç¨‹</p></blockquote><h1 id="ä¸€äº›æŠ¥é”™è®°å½•"><a href="#ä¸€äº›æŠ¥é”™è®°å½•" class="headerlink" title="ä¸€äº›æŠ¥é”™è®°å½•"></a>ä¸€äº›æŠ¥é”™è®°å½•</h1><h2 id="roscd-No-such-package-stack"><a href="#roscd-No-such-package-stack" class="headerlink" title="roscd :No such package&#x2F;stack"></a>roscd :No such package&#x2F;stack</h2><blockquote><p>æ²¡æœ‰source ROS</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source devel/setup.bash</span><br></pre></td></tr></table></figure><h1 id="roscore"><a href="#roscore" class="headerlink" title="roscore"></a>roscore</h1><blockquote><p>å¯åŠ¨ ROS èŠ‚ç‚¹å‰è¦å¯åŠ¨roscore </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roscore</span><br></pre></td></tr></table></figure><h1 id="ROS-bag"><a href="#ROS-bag" class="headerlink" title="ROS bag"></a>ROS bag</h1><p>å°†æ•°æ®è¿›è¡Œå­˜å‚¨ è®°å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rosbag record [topic-1] [topic-2] -o [bag_name] #è®°å½•æŒ‡å®štopic åˆ°åŒ…</span><br><span class="line">rosbag play [bag_name] ##å›æ”¾å·²æœ‰åŒ…æ–‡ä»¶</span><br><span class="line">rostopic echo -p /topic_name &gt; data.txt #è®°å½•æŒ‡å®štopicåˆ°txtæ–‡ä»¶</span><br></pre></td></tr></table></figure><h1 id="ROS-Community-Level-ROSç¤¾åŒºçº§"><a href="#ROS-Community-Level-ROSç¤¾åŒºçº§" class="headerlink" title="ROS Community Level ROSç¤¾åŒºçº§"></a>ROS Community Level ROSç¤¾åŒºçº§</h1><ul><li>Distribution </li><li>Repositories</li><li>The ROS Wiki</li><li>Bug ticket</li><li></li></ul><h1 id="å¦‚ä½•ç¼–å†™ROSçš„ç¬¬ä¸€ä¸ªç¨‹åºhello-world"><a href="#å¦‚ä½•ç¼–å†™ROSçš„ç¬¬ä¸€ä¸ªç¨‹åºhello-world" class="headerlink" title="å¦‚ä½•ç¼–å†™ROSçš„ç¬¬ä¸€ä¸ªç¨‹åºhello_world"></a>å¦‚ä½•ç¼–å†™ROSçš„ç¬¬ä¸€ä¸ªç¨‹åºhello_world</h1><blockquote><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/64561055">çŸ¥ä¹æ–‡ç« </a></p></blockquote><hr><h2 id="1-å·¥ä½œç©ºé—´çš„åˆ›å»º"><a href="#1-å·¥ä½œç©ºé—´çš„åˆ›å»º" class="headerlink" title="1. å·¥ä½œç©ºé—´çš„åˆ›å»º"></a>1. å·¥ä½œç©ºé—´çš„åˆ›å»º</h2><p>æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°ä¸»ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ~/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºå·¥ä½œç©ºé—´æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">mkdir</span> catkin_ws</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥catkin_wså¹¶åˆ›å»ºsrcæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">cd</span> catkin_ws</span><br><span class="line"><span class="built_in">mkdir</span> src</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–srcç›®å½•ï¼Œç”ŸæˆCMakeLists.txt</span></span><br><span class="line"><span class="built_in">cd</span> src</span><br><span class="line">catkin_init_workspace</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›å·¥ä½œç©ºé—´æ ¹ç›®å½•å¹¶ç¼–è¯‘</span></span><br><span class="line"><span class="built_in">cd</span> ~/catkin_ws</span><br><span class="line">catkin_make</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¯å¢ƒå˜é‡ï¼Œä½¿å·¥ä½œç©ºé—´ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="built_in">source</span> devel/setup.bash</span><br></pre></td></tr></table></figure><p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼ŒROSå·¥ä½œç©ºé—´å°±åˆ›å»ºå¥½äº†ã€‚</p><hr><h2 id="2-åŠŸèƒ½åŒ…çš„åˆ›å»º"><a href="#2-åŠŸèƒ½åŒ…çš„åˆ›å»º" class="headerlink" title="2. åŠŸèƒ½åŒ…çš„åˆ›å»º"></a>2. åŠŸèƒ½åŒ…çš„åˆ›å»º</h2><p>ç»§ç»­åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥srcç›®å½•å¹¶åˆ›å»ºåä¸ºhello_worldçš„åŠŸèƒ½åŒ…</span></span><br><span class="line"><span class="built_in">cd</span> ~/catkin_ws/src/</span><br><span class="line">catkin_create_pkg hello_world</span><br></pre></td></tr></table></figure><p>åŠŸèƒ½åŒ…å‘½åè§„èŒƒï¼š</p><ul><li>åªå…è®¸ä½¿ç”¨å°å†™å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿</li><li>é¦–å­—ç¬¦å¿…é¡»ä¸ºå°å†™å­—æ¯</li></ul><p>åˆ›å»ºæˆåŠŸåï¼Œä¼šåœ¨<code>~/catkin_ws/src/</code>ä¸‹çœ‹åˆ°<code>hello_world</code>æ–‡ä»¶å¤¹ã€‚</p><hr><h2 id="3-åŠŸèƒ½åŒ…çš„æºä»£ç ç¼–å†™"><a href="#3-åŠŸèƒ½åŒ…çš„æºä»£ç ç¼–å†™" class="headerlink" title="3. åŠŸèƒ½åŒ…çš„æºä»£ç ç¼–å†™"></a>3. åŠŸèƒ½åŒ…çš„æºä»£ç ç¼–å†™</h2><p>åœ¨<code>hello_world</code>ç›®å½•ä¸‹æ–°å»º<code>my_hello_world_node.cpp</code>æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ros/ros.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  ros::<span class="built_in">init</span>(argc, argv, <span class="string">&quot;hello_node&quot;</span>);</span><br><span class="line">  ros::NodeHandle nh;</span><br><span class="line">  <span class="built_in">ROS_INFO_STREAM</span>(<span class="string">&quot;hello world!!!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç è§£æï¼š</p><ul><li><code>#include &quot;ros/ros.h&quot;</code>ï¼šå¼•å…¥ROS C++å®¢æˆ·ç«¯åº“</li><li><code>ros::init</code>ï¼šåˆå§‹åŒ–ROSèŠ‚ç‚¹ï¼Œå‘½åä¸º<code>hello_node</code></li><li><code>ros::NodeHandle nh</code>ï¼šå£°æ˜èŠ‚ç‚¹å¥æŸ„ï¼Œåˆå§‹åŒ–å¿…éœ€</li><li><code>ROS_INFO_STREAM</code>ï¼šæ‰“å°ä¿¡æ¯â€œhello world!!!â€</li></ul><hr><h2 id="4-åŠŸèƒ½åŒ…çš„ç¼–è¯‘é…ç½®"><a href="#4-åŠŸèƒ½åŒ…çš„ç¼–è¯‘é…ç½®" class="headerlink" title="4. åŠŸèƒ½åŒ…çš„ç¼–è¯‘é…ç½®"></a>4. åŠŸèƒ½åŒ…çš„ç¼–è¯‘é…ç½®</h2><h3 id="ä¿®æ”¹CMakeLists-txt"><a href="#ä¿®æ”¹CMakeLists-txt" class="headerlink" title="ä¿®æ”¹CMakeLists.txt"></a>ä¿®æ”¹CMakeLists.txt</h3><p>ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€<code>CMakeLists.txt</code>ï¼š</p><ul><li><p>åœ¨<code>find_package</code>ä¸­æ·»åŠ <code>roscpp</code>ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">find_package</span>(catkin REQUIRED COMPONENTS roscpp)</span><br></pre></td></tr></table></figure></li><li><p>å–æ¶ˆ<code>include_directories</code>ä¸­çš„æ³¨é‡Šï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include_directories</span>(</span><br><span class="line">  <span class="variable">$&#123;catkin_INCLUDE_DIRS&#125;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_executable</span>(my_hello_world_node ~/catkin_ws/src/hello_world/my_hello_world_node.cpp)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(my_hello_world_node <span class="variable">$&#123;catkin_LIBRARIES&#125;</span>)</span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¿®æ”¹package-xml"><a href="#ä¿®æ”¹package-xml" class="headerlink" title="ä¿®æ”¹package.xml"></a>ä¿®æ”¹package.xml</h3><p>åœ¨<code>&lt;buildtool_depend&gt;catkin&lt;/buildtool_depend&gt;</code>ä¸‹æ–¹æ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build_depend</span>&gt;</span>roscpp<span class="tag">&lt;/<span class="name">build_depend</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build_export_depend</span>&gt;</span>roscpp<span class="tag">&lt;/<span class="name">build_export_depend</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exec_depend</span>&gt;</span>roscpp<span class="tag">&lt;/<span class="name">exec_depend</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="5-åŠŸèƒ½åŒ…çš„ç¼–è¯‘"><a href="#5-åŠŸèƒ½åŒ…çš„ç¼–è¯‘" class="headerlink" title="5. åŠŸèƒ½åŒ…çš„ç¼–è¯‘"></a>5. åŠŸèƒ½åŒ…çš„ç¼–è¯‘</h2><h3 id="ç¼–è¯‘æ‰€æœ‰åŠŸèƒ½åŒ…"><a href="#ç¼–è¯‘æ‰€æœ‰åŠŸèƒ½åŒ…" class="headerlink" title="ç¼–è¯‘æ‰€æœ‰åŠŸèƒ½åŒ…"></a>ç¼–è¯‘æ‰€æœ‰åŠŸèƒ½åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/catkin_ws/</span><br><span class="line">catkin_make</span><br></pre></td></tr></table></figure><h3 id="ä»…ç¼–è¯‘æŒ‡å®šåŠŸèƒ½åŒ…"><a href="#ä»…ç¼–è¯‘æŒ‡å®šåŠŸèƒ½åŒ…" class="headerlink" title="ä»…ç¼–è¯‘æŒ‡å®šåŠŸèƒ½åŒ…"></a>ä»…ç¼–è¯‘æŒ‡å®šåŠŸèƒ½åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/catkin_ws/</span><br><span class="line">catkin_make -DCATKIN_WHITELIST_PACKAGES=<span class="string">&quot;hello_world&quot;</span></span><br></pre></td></tr></table></figure><hr><h2 id="6-åŠŸèƒ½åŒ…çš„å¯åŠ¨è¿è¡Œ"><a href="#6-åŠŸèƒ½åŒ…çš„å¯åŠ¨è¿è¡Œ" class="headerlink" title="6. åŠŸèƒ½åŒ…çš„å¯åŠ¨è¿è¡Œ"></a>6. åŠŸèƒ½åŒ…çš„å¯åŠ¨è¿è¡Œ</h2><h3 id="å¯åŠ¨ROSæ ¸å¿ƒ"><a href="#å¯åŠ¨ROSæ ¸å¿ƒ" class="headerlink" title="å¯åŠ¨ROSæ ¸å¿ƒ"></a>å¯åŠ¨ROSæ ¸å¿ƒ</h3><p>æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roscore</span><br></pre></td></tr></table></figure><h3 id="è¿è¡ŒèŠ‚ç‚¹"><a href="#è¿è¡ŒèŠ‚ç‚¹" class="headerlink" title="è¿è¡ŒèŠ‚ç‚¹"></a>è¿è¡ŒèŠ‚ç‚¹</h3><p>æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ï¼Œæ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/catkin_ws/</span><br><span class="line"><span class="built_in">source</span> devel/setup.bash</span><br><span class="line">rosrun hello_world my_hello_world_node</span><br></pre></td></tr></table></figure><p>å¦‚æœçœ‹åˆ°è¾“å‡º <code>hello world!!!</code>ï¼Œè¯´æ˜ç¨‹åºæˆåŠŸè¿è¡Œå¹¶è‡ªåŠ¨ç»“æŸã€‚</p><hr><blockquote><p>ä»¥ä¸Šå³ä¸ºåœ¨ROSä¸­ç¼–å†™å¹¶è¿è¡Œç¬¬ä¸€ä¸ªHello Worldç¨‹åºçš„å®Œæ•´æµç¨‹ã€‚</p></blockquote><h1 id="è¯­éŸ³è¯†åˆ«åŠè¯­éŸ³åˆæˆ"><a href="#è¯­éŸ³è¯†åˆ«åŠè¯­éŸ³åˆæˆ" class="headerlink" title="è¯­éŸ³è¯†åˆ«åŠè¯­éŸ³åˆæˆ"></a>è¯­éŸ³è¯†åˆ«åŠè¯­éŸ³åˆæˆ</h1><h2 id="è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰"><a href="#è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰" class="headerlink" title="è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰"></a>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰</h2><h2 id="è¯­éŸ³è¯†åˆ«ç®€ä»‹"><a href="#è¯­éŸ³è¯†åˆ«ç®€ä»‹" class="headerlink" title="è¯­éŸ³è¯†åˆ«ç®€ä»‹"></a>è¯­éŸ³è¯†åˆ«ç®€ä»‹</h2><h2 id="è¯­éŸ³åˆæˆåŸç†ç®€ä»‹"><a href="#è¯­éŸ³åˆæˆåŸç†ç®€ä»‹" class="headerlink" title="è¯­éŸ³åˆæˆåŸç†ç®€ä»‹"></a>è¯­éŸ³åˆæˆåŸç†ç®€ä»‹</h2><h2 id="åº”ç”¨å®ä¾‹"><a href="#åº”ç”¨å®ä¾‹" class="headerlink" title="åº”ç”¨å®ä¾‹"></a>åº”ç”¨å®ä¾‹</h2><h3 id="è¿è¡Œ-sound-play-åŠŸèƒ½åŒ…"><a href="#è¿è¡Œ-sound-play-åŠŸèƒ½åŒ…" class="headerlink" title="è¿è¡Œ sound_play åŠŸèƒ½åŒ…"></a>è¿è¡Œ sound_play åŠŸèƒ½åŒ…</h3><p>ROSä¸è¯­éŸ³äº¤äº’æ•™ç¨‹-ROSä¸‹ä½¿ç”¨sound_playåŠŸèƒ½åŒ…</p><p>ä»‹ç»å¦‚ä½•ä½¿ç”¨sound_playå®ç°æ–‡æœ¬è½¬è¯­éŸ³ï¼ŒåŠŸèƒ½åŒ…audio-commonæä¾›äº†æ–‡æœ¬è½¬æ¢çš„åŠŸèƒ½åŒ…sound_play</p><p>å®‰è£…audio-commonå’Œç›¸å…³ä¾èµ–åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-noetic-audio-common</span><br><span class="line">sudo apt-get install libasound2</span><br><span class="line">sudo apt-get install mplayer</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ROSCORE</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roscore</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œå¹¶æµ‹è¯•sound_playä¸»èŠ‚ç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun sound_play soundplay_node.py</span><br></pre></td></tr></table></figure><p>æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ï¼Œè¾“å…¥éœ€è¦è½¬åŒ–æˆè¯­éŸ³çš„æ–‡æœ¬ä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun sound_play say.py &quot;Hello World.&quot;</span><br></pre></td></tr></table></figure><p>å‘å‡ºè¿™ä¸ªå£°éŸ³çš„äººå«kal_diphoneï¼Œå¦‚æœä¸å–œæ¬¢ï¼Œå¯ä»¥æ¢ä¸€ä¸ªäººæ¥è¯»</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install festvox-don</span><br><span class="line">rosrun sound_play say.py &quot;Welcome to my home&quot; voice_don_diphone</span><br></pre></td></tr></table></figure><h1 id="è§†è§‰è¯†åˆ«"><a href="#è§†è§‰è¯†åˆ«" class="headerlink" title="è§†è§‰è¯†åˆ«"></a>è§†è§‰è¯†åˆ«</h1><h2 id="OpenCV"><a href="#OpenCV" class="headerlink" title="OpenCV"></a>OpenCV</h2><h2 id="Point-Clouds"><a href="#Point-Clouds" class="headerlink" title="Point Clouds"></a>Point Clouds</h2><h2 id="PCL"><a href="#PCL" class="headerlink" title="PCL"></a>PCL</h2><h2 id="åº”ç”¨å®ä¾‹-1"><a href="#åº”ç”¨å®ä¾‹-1" class="headerlink" title="åº”ç”¨å®ä¾‹"></a>åº”ç”¨å®ä¾‹</h2><h3 id="äººè„¸è¯†åˆ«"><a href="#äººè„¸è¯†åˆ«" class="headerlink" title="äººè„¸è¯†åˆ«"></a>äººè„¸è¯†åˆ«</h3><ul><li><p>å°†robot_visionåŒ…æ”¾åœ¨å·¥ä½œç©ºé—´çš„srcæ–‡ä»¶å¤¹ä¸­å¹¶catkin_makeç¼–è¯‘</p></li><li><p>æ‰“å¼€ç»ˆç«¯è¾“å…¥ <code>roscd robot_vision/scripts</code></p></li><li><p>è¾“å…¥ <code>chmod 777 face_detector.py</code></p></li><li><p>é‡æ–°æ‰“å¼€ç»ˆç«¯è¾“å…¥ <code>roslaunch robot_vision usb_cam.launch</code></p></li><li><p>åœ¨å¦ä¸€ç»ˆç«¯è¾“å…¥ <code>roslaunch robot_vision face_detector.launch</code></p></li><li><p>æ–°å¼€ç»ˆç«¯è¾“å…¥ <code>rqt_image_view</code> ,é€‰æ‹© <code>/cv_bridge_image</code> , å‡ºç°äººè„¸ä¼šæœ‰ç»¿è‰²æ–¹æ¡†æ¡†é€‰</p></li></ul><h4 id="ä¸€äº›æŠ¥é”™"><a href="#ä¸€äº›æŠ¥é”™" class="headerlink" title="ä¸€äº›æŠ¥é”™"></a>ä¸€äº›æŠ¥é”™</h4><blockquote><p>ç¨‹åºåŒ…ä¸­ ä½¿ç”¨ python è€Œ noetic è‡ªå¸¦å®‰è£… python3 ä¿®æ”¹ <code>face_detector.py</code></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br></pre></td></tr></table></figure><p>python éƒ¨åˆ†è¯­æ³•å·²ä¸é€‚ç”¨ python3 ä¿®æ”¹ä¸ºå¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> CvBridgeError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span> (e)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¿è¡Œå³å¯</p><h1 id="å»ºå›¾çš„ä¸‰ç§æ–¹æ³•"><a href="#å»ºå›¾çš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="å»ºå›¾çš„ä¸‰ç§æ–¹æ³•"></a>å»ºå›¾çš„ä¸‰ç§æ–¹æ³•</h1><p>åœ°å›¾çš„ä¸‰ç§è¡¨ç¤ºæ–¹æ³•</p><ul><li>æ …æ ¼åœ°å›¾</li><li>ç‰¹å¾è¯†åˆ«(è§†è§‰)</li><li>æ‹“æ‰‘æ³•</li></ul><h1 id="SLAMæ–¹æ³•"><a href="#SLAMæ–¹æ³•" class="headerlink" title="SLAMæ–¹æ³•"></a>SLAMæ–¹æ³•</h1><ul><li>å¡å°”æ›¼æ»¤æ³¢ (Kalmann Filters SLAM)</li><li>ç²’å­æ»¤æ³¢ (Particle Filters SLAM)</li></ul><!-- - è´å¶æ–¯æ»¤æ³¢ (Bayes Filters SLAM) --><ul><li>åŸºäºå›¾è®ºæ–¹æ³•çš„SLAM (Graph-based SLAM)</li></ul><h1 id="ç‚¹äº‘-ï¼ˆPoint-Cloudsï¼‰"><a href="#ç‚¹äº‘-ï¼ˆPoint-Cloudsï¼‰" class="headerlink" title="ç‚¹äº‘  ï¼ˆPoint Cloudsï¼‰"></a>ç‚¹äº‘  ï¼ˆPoint Cloudsï¼‰</h1><p>ç‚¹äº‘åº“ PCLï¼ˆPoint Cloud Libraryï¼‰</p><h1 id="Turtlebot3-SLAM"><a href="#Turtlebot3-SLAM" class="headerlink" title="Turtlebot3_SLAM"></a>Turtlebot3_SLAM</h1><h2 id="ç›¸å…³ä¾èµ–å®‰è£…"><a href="#ç›¸å…³ä¾èµ–å®‰è£…" class="headerlink" title="ç›¸å…³ä¾èµ–å®‰è£…"></a>ç›¸å…³ä¾èµ–å®‰è£…</h2><h3 id="turtlebot3-package-å®‰è£…"><a href="#turtlebot3-package-å®‰è£…" class="headerlink" title="turtlebot3 package å®‰è£…"></a>turtlebot3 package å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-noetic-turtlebot3*</span><br></pre></td></tr></table></figure><p>é€‰æ‹©ç›¸å¯¹åº”çš„ROSç‰ˆæœ¬è¿›è¡Œå®‰è£…ï¼Œæœ¬æ–‡ä½¿ç”¨çš„æ˜¯noeticç‰ˆæœ¬ã€‚</p><h3 id="SLAMç®—æ³•åŒ…å®‰è£…"><a href="#SLAMç®—æ³•åŒ…å®‰è£…" class="headerlink" title="SLAMç®—æ³•åŒ…å®‰è£…"></a>SLAMç®—æ³•åŒ…å®‰è£…</h3><p>æœ¬æ–‡ä½¿ç”¨<code>gmapping</code>ç®—æ³•åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-noetic-gmapping</span><br></pre></td></tr></table></figure><p>navigationåŒ…å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-noetic-navigation</span><br></pre></td></tr></table></figure><h2 id="å»ºå›¾æ­¥éª¤"><a href="#å»ºå›¾æ­¥éª¤" class="headerlink" title="å»ºå›¾æ­¥éª¤"></a>å»ºå›¾æ­¥éª¤</h2><h3 id="1-åŠ è½½gazeboä»¿çœŸç¯å¢ƒ"><a href="#1-åŠ è½½gazeboä»¿çœŸç¯å¢ƒ" class="headerlink" title="1. åŠ è½½gazeboä»¿çœŸç¯å¢ƒ"></a>1. åŠ è½½gazeboä»¿çœŸç¯å¢ƒ</h3><p>æ‰“å¼€ç»ˆç«¯ï¼Œé¦–å…ˆå¯¼å…¥æœºå™¨äººæ¨¡å‹ï¼ˆæ¯æ¬¡æ‰“å¼€æ–°ç»ˆç«¯éƒ½è¦æ‰§è¡Œï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export TURTLEBOT3_MODEL=burger</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong>ï¼šTURTLEBOT3_MODEL æœ‰ <code>burger</code>, <code>waffle</code> æˆ– <code>waffle_pi</code> ä¸‰ç§å‹å·å¯é€‰<br>å¯ä»¥å°†è¯¥å‘½ä»¤æ·»åŠ åˆ°<code>~/.bashrc</code>æ–‡ä»¶æœ€åä¸€è¡Œï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡æ‰“å¼€ç»ˆç«¯éƒ½æ‰§è¡Œä¸€æ¬¡ï¼š</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export TURTLEBOT3_MODEL=burger</span><br></pre></td></tr></table></figure><p>å¯åŠ¨gazeboä»¿çœŸç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch turtlebot3_gazebo turtlebot3_house.launch</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ <code>turtlebot3_world</code>ï¼ˆturtlebot3ä¸­è‡ªå¸¦çš„åœ°å›¾ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch turtlebot3_gazebo turtlebot3_world.launch</span><br></pre></td></tr></table></figure><blockquote><p><strong>æç¤º</strong>ï¼šé¦–æ¬¡åŠ è½½gazeboä¼šä¸‹è½½æ¨¡å‹ï¼Œç”±äºè®¿é—®å®˜ç½‘å¯èƒ½ä¸‹è½½å¤±è´¥ï¼Œå»ºè®®äº‹å…ˆå°†å¸¸è§modelåŠ è½½åˆ°gazeboä¸­<br><em><strong>å°†æœ¬åœ°ä¸‹è½½çš„æ¨¡å‹æ”¾åœ¨ <code>$HOME/.gazebo/models</code>ç›®å½•ä¸‹</strong></em></p></blockquote><blockquote><p>å¦‚æœgazeboåŠ è½½å¤ªä¹…æ²¡æ‰“å¼€ åœ¨bashrcä¸­åŠ å…¥</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /usr/share/gazebo/setup.bash </span><br></pre></td></tr></table></figure><h3 id="2-å¯åŠ¨SLAMå»ºå›¾"><a href="#2-å¯åŠ¨SLAMå»ºå›¾" class="headerlink" title="2. å¯åŠ¨SLAMå»ºå›¾"></a>2. å¯åŠ¨SLAMå»ºå›¾</h3><p>æ‰“å¼€æ–°ç»ˆç«¯ï¼Œè¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch turtlebot3_slam turtlebot3_slam.launch slam_methods:=gmapping</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœç¬¬ä¸€æ¬¡è¿è¡ŒæŠ¥é”™ï¼ŒæŒ‰æç¤ºå®‰è£…gmappingå·¥å…·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-noetic-gmapping</span><br></pre></td></tr></table></figure></blockquote><p>æ­¤æ—¶å»ºå›¾ç®—æ³•å¼€å§‹è¿è¡Œï¼Œå¹¶æ‰“å¼€rvizç•Œé¢ã€‚</p><h3 id="3-é”®ç›˜æ§åˆ¶æœºå™¨äººç§»åŠ¨"><a href="#3-é”®ç›˜æ§åˆ¶æœºå™¨äººç§»åŠ¨" class="headerlink" title="3. é”®ç›˜æ§åˆ¶æœºå™¨äººç§»åŠ¨"></a>3. é”®ç›˜æ§åˆ¶æœºå™¨äººç§»åŠ¨</h3><p>æ‰“å¼€æ–°ç»ˆç«¯ï¼Œè¿è¡Œé”®ç›˜æ§åˆ¶èŠ‚ç‚¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch turtlebot3_teleop turtlebot3_teleop_key.launch</span><br></pre></td></tr></table></figure><p>æŒ‰<code>w</code>ã€<code>a</code>ã€<code>s</code>ã€<code>d</code>ç­‰æŒ‰é”®æ§åˆ¶æœºå™¨äººç§»åŠ¨ï¼Œè§‚å¯Ÿrvizä¸­base_linkçš„ç§»åŠ¨æ˜¯å¦ä¸€è‡´ï¼Œèµ°å®Œæˆ¿é—´å»ºç«‹å®Œæ•´åœ°å›¾ã€‚</p><h3 id="4-ä¿å­˜åœ°å›¾"><a href="#4-ä¿å­˜åœ°å›¾" class="headerlink" title="4. ä¿å­˜åœ°å›¾"></a>4. ä¿å­˜åœ°å›¾</h3><p>æ‰“å¼€æ–°ç»ˆç«¯ï¼Œä¿å­˜åœ°å›¾ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun map_server map_saver -f ~/catkin_ws/map/map_house</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun map_server map_saver -f ~/map</span><br></pre></td></tr></table></figure><h2 id="å¯¼èˆªæ­¥éª¤"><a href="#å¯¼èˆªæ­¥éª¤" class="headerlink" title="å¯¼èˆªæ­¥éª¤"></a>å¯¼èˆªæ­¥éª¤</h2><h3 id="1-å…³é—­ç›¸å…³ç¨‹åº"><a href="#1-å…³é—­ç›¸å…³ç¨‹åº" class="headerlink" title="1. å…³é—­ç›¸å…³ç¨‹åº"></a>1. å…³é—­ç›¸å…³ç¨‹åº</h3><p>å…³é—­é”®ç›˜æ§åˆ¶ç¨‹åºå’Œgmappingå»ºå›¾ç¨‹åºã€‚</p><h3 id="2-å¯åŠ¨å¯¼èˆª"><a href="#2-å¯åŠ¨å¯¼èˆª" class="headerlink" title="2. å¯åŠ¨å¯¼èˆª"></a>2. å¯åŠ¨å¯¼èˆª</h3><p>æ‰“å¼€æ–°ç»ˆç«¯ï¼Œè¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch turtlebot3_navigation turtlebot3_navigation.launch map_file:=$HOME/catkin_ws/map/map_house.yaml</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch turtlebot3_navigation turtlebot3_navigation.launch map_file:=$HOME/catkin_ws/map/map.yaml</span><br></pre></td></tr></table></figure><h3 id="3-åˆå§‹åŒ–ä½å§¿"><a href="#3-åˆå§‹åŒ–ä½å§¿" class="headerlink" title="3. åˆå§‹åŒ–ä½å§¿"></a>3. åˆå§‹åŒ–ä½å§¿</h3><p>ä½¿ç”¨rvizä¸­çš„<code>2D Pose Estimate</code>å·¥å…·åˆå§‹åŒ–æœºå™¨äººç›¸å¯¹äºåœ°å›¾çš„åˆå§‹ä½å§¿ï¼Œä½¿ç‚¹äº‘ä¸åœ°å›¾å¯¹é½ã€‚</p><h3 id="4-è®¾ç½®å¯¼èˆªç›®æ ‡"><a href="#4-è®¾ç½®å¯¼èˆªç›®æ ‡" class="headerlink" title="4. è®¾ç½®å¯¼èˆªç›®æ ‡"></a>4. è®¾ç½®å¯¼èˆªç›®æ ‡</h3><p>ä½¿ç”¨<code>2D Nav Goal</code>å·¥å…·è®¾ç½®ç›®æ ‡ä½å§¿ï¼Œæœºå™¨äººå³å¯è¿›è¡Œè‡ªä¸»å¯¼èˆªã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/yongbutuifei/article/details/120130348">https://blog.csdn.net/yongbutuifei/article/details/120130348</a></li><li><a href="https://blog.csdn.net/qq_45830323/article/details/119765075">https://blog.csdn.net/qq_45830323/article/details/119765075</a></li></ul><h1 id="åœ°å›¾å‚æ•°æ–‡ä»¶-map-house-yaml-ä»‹ç»"><a href="#åœ°å›¾å‚æ•°æ–‡ä»¶-map-house-yaml-ä»‹ç»" class="headerlink" title="åœ°å›¾å‚æ•°æ–‡ä»¶ map_house.yaml ä»‹ç»"></a>åœ°å›¾å‚æ•°æ–‡ä»¶ map_house.yaml ä»‹ç»</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">/home/whale/catkin_ws/map/map_house.pgm</span>  <span class="comment"># å­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="attr">resolution:</span> <span class="number">0.050000</span>                            <span class="comment"># åˆ†è¾¨ç‡  åœ°å›¾çš„åˆ†è¾¨ç‡ï¼Œç±³/åƒç´ </span></span><br><span class="line"><span class="attr">origin:</span> [<span class="number">-10.000000</span>, <span class="number">-10.000000</span>, <span class="number">0.000000</span>]      <span class="comment"># èµ·å§‹ç‚¹</span></span><br><span class="line"><span class="comment"># å›¾ä¸­å·¦ä¸‹è§’åƒç´ çš„äºŒç»´ä½å§¿ä¸º(x, yï¼Œåèˆª)ï¼Œåèˆªä¸ºé€†æ—¶é’ˆæ—‹è½¬(åèˆª=0è¡¨ç¤ºæ— æ—‹è½¬)ã€‚ç›®å‰ç³»ç»Ÿçš„è®¸å¤šéƒ¨åˆ†éƒ½å¿½ç•¥äº†åèˆªã€‚</span></span><br><span class="line"><span class="attr">negate:</span> <span class="number">0</span>                                       </span><br><span class="line"><span class="comment"># æ˜¯å¦åº”è¯¥é¢ å€’ ç™½è‡ªç”±/é»‘å ç”¨çš„è¯­ä¹‰(é˜ˆå€¼çš„è§£é‡Šä¸å—å½±å“)ï¼ˆæ­¤å¤„ä¸ºä¸é¢ å€’ä¸ºfalseï¼‰   </span></span><br><span class="line"><span class="attr">occupied_thresh:</span> <span class="number">0.65</span>                          </span><br><span class="line"><span class="comment"># é˜ˆå€¼ (æ¦‚ç‡) è¶…è¿‡è¿™ä¸ªæ•°å€¼å°±è®¤ä¸ºæ˜¯éšœç¢ å ç”¨æ¦‚ç‡å¤§äºæ­¤é˜ˆå€¼çš„åƒç´ è¢«è®¤ä¸ºå·²å®Œå…¨å ç”¨ã€‚</span></span><br><span class="line"><span class="attr">free_thresh:</span> <span class="number">0.196</span> <span class="comment"># å ç”¨ç‡å°äºæ­¤é˜ˆå€¼çš„åƒç´ è¢«è®¤ä¸ºæ˜¯å®Œå…¨ç©ºé—²çš„</span></span><br></pre></td></tr></table></figure><h1 id="è·¯å¾„è§„åˆ’"><a href="#è·¯å¾„è§„åˆ’" class="headerlink" title="è·¯å¾„è§„åˆ’"></a>è·¯å¾„è§„åˆ’</h1><h1 id="è¿åŠ¨è§„åˆ’ï¼ˆMotion-Planningï¼‰"><a href="#è¿åŠ¨è§„åˆ’ï¼ˆMotion-Planningï¼‰" class="headerlink" title="è¿åŠ¨è§„åˆ’ï¼ˆMotion Planningï¼‰"></a>è¿åŠ¨è§„åˆ’ï¼ˆMotion Planningï¼‰</h1><h2 id="è¿åŠ¨è§„åˆ’å’Œè½¨è¿¹è§„åˆ’çš„åŒºåˆ«"><a href="#è¿åŠ¨è§„åˆ’å’Œè½¨è¿¹è§„åˆ’çš„åŒºåˆ«" class="headerlink" title="è¿åŠ¨è§„åˆ’å’Œè½¨è¿¹è§„åˆ’çš„åŒºåˆ«"></a>è¿åŠ¨è§„åˆ’å’Œè½¨è¿¹è§„åˆ’çš„åŒºåˆ«</h2><ul><li>è¿åŠ¨è§„åˆ’ä¸»è¦ç”¨äºæœºæ¢°è‡‚ ç±»äººæœºå™¨äººç­‰é¢†åŸŸï¼Œå¤šä¸º6ç»´åº¦</li><li>è½¨è¿¹è§„åˆ’ä¸»è¦ç”¨äºæ— äººè½¦ æ— äººæœºç­‰é¢†åŸŸï¼Œå¤šä¸º3ç»´åº¦</li></ul><h2 id="ä¸»æµè¿åŠ¨è§„åˆ’ç®—æ³•"><a href="#ä¸»æµè¿åŠ¨è§„åˆ’ç®—æ³•" class="headerlink" title="ä¸»æµè¿åŠ¨è§„åˆ’ç®—æ³•"></a>ä¸»æµè¿åŠ¨è§„åˆ’ç®—æ³•</h2><ul><li>Rapidly-exploringRandomTrees (RRT)</li><li>ProbabilisticRoadmap (PRM)</li></ul><h2 id="Moveit-Noetic-å®‰è£…ä¸é…ç½®æŒ‡å—"><a href="#Moveit-Noetic-å®‰è£…ä¸é…ç½®æŒ‡å—" class="headerlink" title="Moveit Noetic å®‰è£…ä¸é…ç½®æŒ‡å—"></a>Moveit Noetic å®‰è£…ä¸é…ç½®æŒ‡å—</h2><h3 id="ç›¸å…³æ–‡æ¡£"><a href="#ç›¸å…³æ–‡æ¡£" class="headerlink" title="ç›¸å…³æ–‡æ¡£"></a>ç›¸å…³æ–‡æ¡£</h3><ul><li><p><a href="http://docs.ros.org/en/melodic/api/moveit_tutorials/html/doc/setup_assistant/setup_assistant_tutorial.html">Moveit Tutorials</a></p></li><li><p><a href="http://wiki.ros.org/franka_description">Franka Description</a></p></li></ul><h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><h4 id="1-å®‰è£…-Moveit-Noetic"><a href="#1-å®‰è£…-Moveit-Noetic" class="headerlink" title="(1) å®‰è£… Moveit Noetic"></a>(1) å®‰è£… Moveit Noetic</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install ros-noetic-moveit</span><br></pre></td></tr></table></figure><h4 id="2-è®¾ç½®ç¯å¢ƒå˜é‡å¹¶å®‰è£…-Franka-æè¿°åŒ…"><a href="#2-è®¾ç½®ç¯å¢ƒå˜é‡å¹¶å®‰è£…-Franka-æè¿°åŒ…" class="headerlink" title="(2) è®¾ç½®ç¯å¢ƒå˜é‡å¹¶å®‰è£… Franka æè¿°åŒ…"></a>(2) è®¾ç½®ç¯å¢ƒå˜é‡å¹¶å®‰è£… Franka æè¿°åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Franka æè¿°åŒ…</span></span><br><span class="line"><span class="built_in">source</span> /opt/ros/noetic/setup.bash</span><br><span class="line"><span class="built_in">sudo</span> apt-get install ros-noetic-franka-description</span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-franka-ros</span><br><span class="line"><span class="comment"># å…¶ä»–ä¾èµ–åŒ…</span></span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-moveit</span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-moveit-planners-ompl</span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-moveit-fake-controller-manager</span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-moveit-simple-controller-manager</span><br><span class="line"><span class="comment"># å®‰è£… MoveIt ç›¸å…³å¯è§†åŒ–å·¥å…·</span></span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-moveit-visual-tools</span><br><span class="line"><span class="built_in">sudo</span> apt install ros-noetic-moveit-ros-visualization</span><br></pre></td></tr></table></figure><h4 id="3-ç”Ÿæˆå¹¶é…ç½®-Moveit-å·¥ä½œç©ºé—´"><a href="#3-ç”Ÿæˆå¹¶é…ç½®-Moveit-å·¥ä½œç©ºé—´" class="headerlink" title="(3) ç”Ÿæˆå¹¶é…ç½® Moveit å·¥ä½œç©ºé—´"></a>(3) ç”Ÿæˆå¹¶é…ç½® Moveit å·¥ä½œç©ºé—´</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/ws_moveit/src</span><br><span class="line"><span class="built_in">cd</span> ~/ws_moveit/src</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‹éš†å¿…è¦çš„ä»£ç åº“</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> -b noetic-devel https://github.com/ros-planning/moveit_tutorials.git</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/ros-planning/panda_moveit_config.git -b noetic-devel</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> -b noetic-devel https://github.com/frankaemika/franka_ros.git</span><br></pre></td></tr></table></figure><h4 id="4-å¯åŠ¨-Moveit-Setup-Assistant"><a href="#4-å¯åŠ¨-Moveit-Setup-Assistant" class="headerlink" title="(4) å¯åŠ¨ Moveit Setup Assistant"></a>(4) å¯åŠ¨ Moveit Setup Assistant</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch moveit_setup_assistant setup_assistant.launch</span><br></pre></td></tr></table></figure><h3 id="Gazebo-é›†æˆ"><a href="#Gazebo-é›†æˆ" class="headerlink" title="Gazebo é›†æˆ"></a>Gazebo é›†æˆ</h3><h4 id="å¯åŠ¨-Gazebo-ç¯å¢ƒ"><a href="#å¯åŠ¨-Gazebo-ç¯å¢ƒ" class="headerlink" title="å¯åŠ¨ Gazebo ç¯å¢ƒ"></a>å¯åŠ¨ Gazebo ç¯å¢ƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch gazebo_ros empty_world.launch paused:=<span class="literal">true</span> use_sim_time:=<span class="literal">false</span> gui:=<span class="literal">true</span> throttled:=<span class="literal">false</span> recording:=<span class="literal">false</span> debug:=<span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="åœ¨-Gazebo-ä¸­åŠ è½½æœºæ¢°è‡‚æ¨¡å‹"><a href="#åœ¨-Gazebo-ä¸­åŠ è½½æœºæ¢°è‡‚æ¨¡å‹" class="headerlink" title="åœ¨ Gazebo ä¸­åŠ è½½æœºæ¢°è‡‚æ¨¡å‹"></a>åœ¨ Gazebo ä¸­åŠ è½½æœºæ¢°è‡‚æ¨¡å‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun gazebo_ros spawn_model -file /home/whale/ws_moveit/src/hand.urdf -urdf -x 0 -y 0 -z 1 -model panda</span><br></pre></td></tr></table></figure><h3 id="é‡è¦è·¯å¾„"><a href="#é‡è¦è·¯å¾„" class="headerlink" title="é‡è¦è·¯å¾„"></a>é‡è¦è·¯å¾„</h3><ul><li>Panda Moveit é…ç½®æ–‡ä»¶å¤¹ä½ç½®ï¼š<code>/home/whale/ws_moveit/src/panda_moveit_config</code></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> ROS </tag>
            
            <tag> å¤§ä½œä¸š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¯¾è®¾ã€‘DELTAæœºå™¨äºº</title>
      <link href="/2025/04/29/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
      <url>/2025/04/29/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸ºç¬”è€…å¤§äºŒä¸‹å­¦æœŸ æœºæ¢°åŸç† è¯¾ç¨‹è®¾è®¡ DELTA ä¸Šä½æœºå¼€å‘è¿‡ç¨‹</p></blockquote><h1 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h1><p>ä½¿ç”¨æœ¬æ•™ç¨‹å‰ è¯·ç¡®ä¿ å·²æ­£ç¡®é…ç½® ubuntu22.04ç‰©ç†æœº ä»¥åŠ Anaconda3 ç¯å¢ƒ</p><h1 id="Vscode-æ–¹æ³•"><a href="#Vscode-æ–¹æ³•" class="headerlink" title="Vscode æ–¹æ³•"></a>Vscode æ–¹æ³•</h1><blockquote><p>å‚è€ƒæ–‡çŒ® <a href="https://blog.csdn.net/qq_38089394/article/details/136578957">ubuntu22.04 pyside6 vscode å®‰è£…ä¸é…ç½®</a></p></blockquote><h2 id="åˆ›å»º-DELTA-ROBOT-å·¥ä½œç©ºé—´-å®‰è£…-pyside6-designer"><a href="#åˆ›å»º-DELTA-ROBOT-å·¥ä½œç©ºé—´-å®‰è£…-pyside6-designer" class="headerlink" title="åˆ›å»º DELTA-ROBOT å·¥ä½œç©ºé—´ å®‰è£… pyside6-designer"></a>åˆ›å»º DELTA-ROBOT å·¥ä½œç©ºé—´ å®‰è£… pyside6-designer</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">conda --v</span><br><span class="line">conda info --envs</span><br><span class="line">conda create --name delta_robot python=3.8</span><br><span class="line">conda activate delta_robot</span><br><span class="line"></span><br><span class="line">pip install pyside6</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">sudo</span> pip3 install pyside6</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">sudo</span> pip3 install pyside6 -i https://pypi.tuna.tsinghua.edu.cn/simple</span> </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">conda deactivate</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">conda remove --name delta_robot --all</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœ‰æŠ¥é”™ å®‰è£…ä»¥ä¸‹ä¾èµ–åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y libxcb-cursor0 libxcb1-dev libx11-xcb1</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨-pyside6-designer"><a href="#å¯åŠ¨-pyside6-designer" class="headerlink" title="å¯åŠ¨ pyside6-designer"></a>å¯åŠ¨ pyside6-designer</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyside6-designer</span><br></pre></td></tr></table></figure><h2 id="vscode-æ’ä»¶å®‰è£…"><a href="#vscode-æ’ä»¶å®‰è£…" class="headerlink" title="vscode æ’ä»¶å®‰è£…"></a>vscode æ’ä»¶å®‰è£…</h2><ul><li>Python</li><li>Python debuggerï¼Œ</li><li>Pylance</li><li>PYQT Integration</li></ul><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image.png" alt=" "></p><h2 id="é…ç½®PYQT-Integrationæ’ä»¶"><a href="#é…ç½®PYQT-Integrationæ’ä»¶" class="headerlink" title="é…ç½®PYQT Integrationæ’ä»¶"></a>é…ç½®PYQT Integrationæ’ä»¶</h2><p>è¿›å…¥<code>PYQT Integrationæ’ä»¶ </code>çš„è®¾ç½®</p><p>é…ç½®ä»¥ä¸‹å››é¡¹</p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-1.png" alt=" "></p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-2.png" alt=" "></p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-3.png" alt=" "></p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-4.png" alt=" "></p><p>å…·ä½“é…ç½®ä¿¡æ¯éƒ½æ˜¯å…·ä½“æ–‡ä»¶çš„å…¨è·¯å¾„ï¼Œé™¤äº†æœ€åçš„Pathï¼Œå…¶ä»–éƒ½æœ‰é»˜è®¤çš„ï¼Œéƒ½æ˜¯pyqt5çš„ï¼Œpyside6éƒ½æ¢äº†åå­—ï¼Œå…·ä½“æ˜¯ï¼š</p><ul><li>pylupdateï¼špyside6-lupdate</li><li>pyrccï¼špyside6-rcc </li><li>pyuicï¼špyside6-uic</li><li>qtdesignerï¼špyside6-designer</li></ul><blockquote><p>ä½¿ç”¨  <code>whereis</code> æŒ‡ä»¤æŸ¥æ‰¾çœŸå®è·¯å¾„åå¡«å…¥ï¼Œä½¿ç”¨  <code>Ctrl+Shift+C</code> å¤åˆ¶ç»ˆç«¯é‡Œçš„æ–‡æœ¬</p></blockquote><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-5.png" alt=" "></p><p>å¡«å…¥è®¾ç½®ä¸­ç›¸å¯¹åº”çš„ä½ç½®</p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-6.png" alt=" "></p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-7.png" alt=" "></p><blockquote><p>å‚æ•°è§£é‡Š   </p></blockquote><ul><li>pyside6-rcc  ç¼–è¯‘èµ„æºæ–‡ä»¶çš„ï¼Œå¯ä»¥æ”¹åé¢çš„Filepathé…ç½®æ¥ä¿®æ”¹è½¬æ¢åçš„æ–‡ä»¶åï¼Œç¬”è€…è¿™é‡Œæ²¡æ”¹</li><li>pyside6-uic  å°†UIç•Œé¢ç¼–è¯‘æˆpythonä»£ç çš„ï¼Œæ”¹ç•Œé¢åå¿…é¡»ç¼–è¯‘ä¸€æ¬¡æ›´æ–°çš„ï¼Œå¯ä»¥ä¿®æ”¹åé¢çš„Filpathé…ç½®ä¿®æ”¹è½¬æ¢åçš„æ–‡ä»¶åï¼Œè¿™é‡Œæ²¡æ”¹ï¼Œ<br>é»˜è®¤ç¼–è¯‘åä¸º Ui_&lt;uiæ–‡ä»¶å&gt;.py</li></ul><p>æµ‹è¯•æ•ˆæœå¦‚å›¾</p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-8.png" alt=" "></p><h2 id="å®‰è£…-Python3-æ‰“åŒ…ç¨‹åº"><a href="#å®‰è£…-Python3-æ‰“åŒ…ç¨‹åº" class="headerlink" title="å®‰è£… Python3 æ‰“åŒ…ç¨‹åº"></a>å®‰è£… Python3 æ‰“åŒ…ç¨‹åº</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></table></figure><p>ä¸¤ç§æ‰“åŒ…æ–¹å¼</p><ul><li>pyinstaller xxx.pyï¼Œç”Ÿæˆæ‰§è¡Œæ–‡ä»¶ï¼Œé™„å¸¦ä¸€ä¸ªæ–‡ä»¶å¤¹</li><li>pyinstaller -F xxx.pyï¼Œ åˆæˆä¸€ä¸ªï¼Œå•ä¸ªæ–‡ä»¶åœ¨å…¶ä»–æœºå™¨ä¸Šå¯è¿è¡Œ</li></ul><p>æ‰“åŒ…åï¼Œå°†æºç æ‰“åŒ…æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œæ–‡ä»¶    </p><blockquote><p>æ³¨æ„ pyinstalleråªæ˜¯å°†ä»£ç æ‰“åŒ…æˆæœ¬å¹³å°çš„æ‰§è¡Œæ–‡ä»¶ï¼Œä¸ä¼šäº¤å‰ç¼–è¯‘æˆå…¶ä»–å¹³å°ç¨‹åºçš„ã€‚æœ‰çš„blogå†™çš„ubuntuæ‰“åŒ…æˆexeï¼Œä½†è¿™å°±æ˜¯ä¸€ä¸ªè¯´æ³•ï¼Œä¸æ˜¯çœŸçš„æ‰“åŒ…æˆwindowså¹³å°çš„.exeæ–‡ä»¶</p></blockquote><p>æ‰“åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -F test.py </span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚å›¾<br><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-9.png" alt=" "></p><h2 id="å®‰è£…éƒ¨åˆ†åŒ…æŒ‡ä»¤"><a href="#å®‰è£…éƒ¨åˆ†åŒ…æŒ‡ä»¤" class="headerlink" title="å®‰è£…éƒ¨åˆ†åŒ…æŒ‡ä»¤"></a>å®‰è£…éƒ¨åˆ†åŒ…æŒ‡ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">pip install pyserial</span><br><span class="line">pip install numpy</span><br><span class="line">pip install scipy</span><br><span class="line">pip install opencv-python</span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">[æ’å…¥èƒŒæ™¯å›¾](https://blog.csdn.net/m0_46657126/article/details/124460022)</span><br><span class="line"></span><br><span class="line">[æ’å…¥æ‘„åƒå¤´](https://blog.csdn.net/WYKB_Mr_Q/article/details/129827685)</span><br><span class="line"></span><br><span class="line">ç›´æ¥ç¼–å†™UI.pyæ–‡ä»¶ </span><br><span class="line"></span><br><span class="line">ä½ç½®åæ ‡ å·¦ä¸Šè§’ä¸ºåŸç‚¹</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">self.pushButton.setGeometry(QRect(xï¼Œyï¼Œlenthï¼Œhigh))</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é…ç½®UIæŒ‰é’®æ§½å‡½æ•°</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨UI.pyæ–‡ä»¶ä¸­ï¼Œåœ¨setupUiå‡½æ•°ä¸­ï¼Œæ‰¾åˆ°æŒ‰é’®ï¼Œæ·»åŠ ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œå¦‚ï¼š</span></span><br><span class="line">```python</span><br><span class="line">self.pushButton.clicked.connect(self.button_click)</span><br></pre></td></tr></table></figure><p>åœ¨UI.pyæ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">button_click</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æŒ‰é’®è¢«ç‚¹å‡»äº†&quot;</span>)</span><br></pre></td></tr></table></figure><h1 id="é…ç½®ä¸²å£é€šä¿¡"><a href="#é…ç½®ä¸²å£é€šä¿¡" class="headerlink" title="é…ç½®ä¸²å£é€šä¿¡"></a>é…ç½®ä¸²å£é€šä¿¡</h1><h1 id="å®æœºè°ƒè¯•"><a href="#å®æœºè°ƒè¯•" class="headerlink" title="å®æœºè°ƒè¯•"></a>å®æœºè°ƒè¯•</h1><h2 id="ä¸æ˜¾ç¤ºttUSBä¸²å£"><a href="#ä¸æ˜¾ç¤ºttUSBä¸²å£" class="headerlink" title="ä¸æ˜¾ç¤ºttUSBä¸²å£"></a>ä¸æ˜¾ç¤ºttUSBä¸²å£</h2><p>æ’å…¥CH340 ubuntuä¸­ä¸æ˜¾ç¤º ttyUSBæ¥å£</p><p>æ’æŸ¥å‘ç° brlttyï¼ˆç›²æ–‡ç»ˆç«¯æœåŠ¡ï¼‰ å ç”¨ å½±å“ä¸²å£è¯†åˆ«</p><p>æ‰‹åŠ¨æš‚åœæœåŠ¡ æ— æœåé€‰æ‹©åˆ é™¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœæ­¢å½“å‰æœåŠ¡</span></span><br><span class="line">sudo systemctl stop brltty-udev.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¦ç”¨å¼€æœºè‡ªå¯</span></span><br><span class="line">sudo systemctl disable brltty-udev.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç§»é™¤brlttyè½¯ä»¶åŒ…ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">sudo apt remove brltty</span><br></pre></td></tr></table></figure><p>é‡æ–°æ‹”æ’ä¸²å£çº¿ï¼ŒæˆåŠŸè¯†åˆ«</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /dev/ttyUSB*</span><br></pre></td></tr></table></figure><h2 id="è™šæ‹Ÿä¸²å£"><a href="#è™šæ‹Ÿä¸²å£" class="headerlink" title="è™šæ‹Ÿä¸²å£"></a>è™šæ‹Ÿä¸²å£</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls /dev/pts/*   # æŸ¥çœ‹ä¸²å£</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯åŠ¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 virtualPort.py </span><br><span class="line">python3 rx.py </span><br></pre></td></tr></table></figure><p>å¯åŠ¨ä¸²å£åˆ›å»ºä¸²å£å¯¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socat -d -d pty,raw,echo=0 pty,raw,echo=0</span><br></pre></td></tr></table></figure><p>ç›‘å¬ä¸²å£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /dev/pts/X  # æ›¿æ¢Xä¸ºå®é™…ç«¯å£å·</span><br></pre></td></tr></table></figure><p>æ¨¡æ‹Ÿä¸‹ä½æœºå‘é€åæ ‡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -ne &quot;\x40\x01\x00\x00\x00\x00\x00\x00\x00\xcb\xae\xe0\xcd\xa1\xe6\x23\x21&quot; &gt; /dev/pts/7</span><br></pre></td></tr></table></figure><h1 id="Pycharm-æ–¹æ³•"><a href="#Pycharm-æ–¹æ³•" class="headerlink" title="Pycharm æ–¹æ³•"></a>Pycharm æ–¹æ³•</h1><h2 id="åˆ›å»º-DELTA-ROBOT-å·¥ä½œç©ºé—´-å®‰è£…-PYQT5"><a href="#åˆ›å»º-DELTA-ROBOT-å·¥ä½œç©ºé—´-å®‰è£…-PYQT5" class="headerlink" title="åˆ›å»º DELTA-ROBOT å·¥ä½œç©ºé—´ å®‰è£… PYQT5"></a>åˆ›å»º DELTA-ROBOT å·¥ä½œç©ºé—´ å®‰è£… PYQT5</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">conda --v</span><br><span class="line">conda info --envs</span><br><span class="line">conda create --name delta_robot python=3.8</span><br><span class="line">conda activate delta_robot</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… pyqt5</span></span><br><span class="line">pip install pyqt5</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç½‘ç»œé—®é¢˜å¯ç”¨(ç¬”è€…è¿™é‡Œå·²ç»è¿æ¥ä¸ä¸Šè±†ç“£äº†)</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pip install PyQt5 -i https://pypi.douban.com/simple</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…å¸¸ç”¨çš„å·¥å…·åŒ…</span></span><br><span class="line">pip install PyQt5-tools</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pip install PyQt5-tools -i https://pypi.douban.com/simple</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">conda deactivate</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">conda remove --name delta_robot --all</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åœ¨-Pycharm-ä¸­é…ç½®-QtDesigner"><a href="#åœ¨-Pycharm-ä¸­é…ç½®-QtDesigner" class="headerlink" title="åœ¨ Pycharm ä¸­é…ç½® QtDesigner"></a>åœ¨ Pycharm ä¸­é…ç½® QtDesigner</h2><blockquote><p>è™šæ‹Ÿç¯å¢ƒä¸­ä¸‹è½½çš„åº“ï¼Œéƒ½åœ¨è¿™ä¸ªè·¯å¾„ä¸‹</p></blockquote><p><code>/home/whale/anaconda3/envs/delta_robot/lib/python3.8/site-packages</code></p><p>ç„¶åï¼Œåˆšåˆšå®‰è£…çš„å·¥å…·åŒ…ä¸­ï¼Œå°±æœ‰ QtDesignerï¼Œè·¯å¾„å¦‚ä¸‹</p><p><code>/home/whale/anaconda3/envs/delta_robot/lib/python3.8/site-packages/qt5_applications/Qt/bin/designer</code></p><p>QtDesigner å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡ç•Œé¢ï¼Œå¹¶ä¿å­˜ä¸º ui æ–‡ä»¶</p><p>æ‰“å¼€ Pycharm æ–°å»ºä¸€ä¸ªé¡¹ç›® delta_robot</p><p>æ–‡ä»¶ â†’ è®¾ç½® â†’ å·¥å…· â†’ å¤–éƒ¨å·¥å…· â†’ ç‚¹å‡» + å·</p><h1 id="å¯¼å‡º-å¯¼å…¥ç¯å¢ƒ"><a href="#å¯¼å‡º-å¯¼å…¥ç¯å¢ƒ" class="headerlink" title="å¯¼å‡º å¯¼å…¥ç¯å¢ƒ"></a>å¯¼å‡º å¯¼å…¥ç¯å¢ƒ</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯¼å‡º</span></span><br><span class="line">conda env export &gt; delta_robot.yaml</span><br><span class="line">pip freeze &gt; requirements.txt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯¼å…¥</span></span><br><span class="line">conda env create -f delta_robot.yaml</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h1><blockquote><p>ç¡®ä¿ç¯å¢ƒé…ç½®ä¸ä¸Šè¿°ä¸€è‡´ï¼Œè§£å‹ç¬”è€…ç¨‹åºæ–‡ä»¶ï¼Œç”¨ç›¸å…³IDEæ‰“å¼€å·¥ä½œç©ºé—´</p></blockquote><p>è¿æ¥æ§åˆ¶æ¿ä¸²å£ã€æ‘„åƒå¤´ç­‰å¿…è¦å¤–è®¾</p><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 main.py</span><br></pre></td></tr></table></figure><p>å³å¯çœ‹åˆ°UIç•Œé¢ï¼Œæ ¹æ®æ‰€ç»™æ–‡æ¡£ï¼ˆè§é™„ä»¶ï¼‰è¿›è¡Œï¼Œå³å¯è¿åŠ¨DELTAæœºå™¨äºº</p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-11.png" alt=" "></p><p><img src="/images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91DELTA%E6%9C%BA%E5%99%A8%E4%BA%BA/image-10.png" alt=" "></p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> è¯¾è®¾ </tag>
            
            <tag> DELTA </tag>
            
            <tag> æœºå™¨äºº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­</title>
      <link href="/2025/03/02/%E7%AE%97%E6%B3%95%E7%BB%84%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%9F%B9%E8%AE%AD/"/>
      <url>/2025/03/02/%E7%AE%97%E6%B3%95%E7%BB%84%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%9F%B9%E8%AE%AD/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸º2024å¹´ç¦å·å¤§å­¦robomatseræµ®èˆŸæ¹¿åœ°æˆ˜é˜Ÿè§†è§‰ç»„åŸ¹è®­æ–‡æ¡£,å¦‚æœ‰é”™è¯¯è¯·è”ç³»<strong>2260274457(QQ)</strong></p></blockquote><h1 id="ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­"><a href="#ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­" class="headerlink" title="ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­"></a>ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­</h1><blockquote><p>æœ¬èŠ‚è¯¾ä¸»è¦è®²è§£ <code>OpenCV</code> çš„ä½¿ç”¨ æ–¹é¢åŒå­¦ä»¬å¿«é€Ÿå…¥é—¨ æ­å»ºç¯å¢ƒ(ä¼—æ‰€å‘¨çŸ¥,å¥½çš„ç¯å¢ƒæ˜¯æˆåŠŸçš„ä¸€åŠ) ä¸ºæ ¡èµ›å‡†å¤‡(æ ¡èµ›å…è®¸èƒ½åŠ›å¼ºçš„åŒå­¦ä¸Š <code>YOLO</code>, å¯è‡ªè¡Œå­¦ä¹  æœ¬ç»“è¯¾å°†ç•¥å¸¦è€Œè¿‡ ä¸ºåæœŸå¤§ä½œä¸šä½œé“ºå«)</p></blockquote><hr><h2 id="What-is-OpenCV"><a href="#What-is-OpenCV" class="headerlink" title="What is OpenCV"></a>What is OpenCV</h2><p><code>OpenCV</code> å…¨ç§° <code>Open Source Computer Vision Library</code> æ˜¯ä¸–ç•Œä¸Šè‘—åçš„å¼€æºè®¡ç®—æœºè§†è§‰è½¯ä»¶åº“ã€‚åœ¨å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰ä»¥åŠæœºå™¨å­¦ä¹ ç­‰æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨, OpenCVä¸»è¦ç”±Cå‡½æ•°å’Œå°‘é‡C++ç±»æ„æˆï¼Œä½†åŒæ—¶æä¾›Pythonã€Javaå’ŒMATLABç­‰å¤šç§è¯­è¨€çš„æ¥å£, å¹¿æ³›è¢«å¤§ä¼—ä½¿ç”¨ </p><blockquote><p>åœ¨ RoboMaster ç«æŠ€ä¸­ ä¸»è¦é€šè¿‡ OpenCV äº¦æˆ–æ˜¯ YOLO å®ç°å¯¹ è£…ç”²æ¿çš„è¯†åˆ« å®ç°è‡ªç„</p></blockquote><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="ä¸€é”®å®‰è£…"><a href="#ä¸€é”®å®‰è£…" class="headerlink" title="ä¸€é”®å®‰è£…"></a>ä¸€é”®å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libopencv-dev</span><br></pre></td></tr></table></figure><p>æ€•éº»çƒ¦çš„å¯ä»¥ä¸€é”®å®‰è£… è‡ªåŠ¨è·å–OpenCV4æ‰€éœ€çš„åº“æ–‡ä»¶ å¤§æ¦‚2ä¸ªå°æ—¶ </p><h3 id="æºç ä¸‹è½½"><a href="#æºç ä¸‹è½½" class="headerlink" title="æºç ä¸‹è½½"></a>æºç ä¸‹è½½</h3><h4 id="ä¸‹è½½å‹ç¼©åŒ…"><a href="#ä¸‹è½½å‹ç¼©åŒ…" class="headerlink" title="ä¸‹è½½å‹ç¼©åŒ…"></a>ä¸‹è½½å‹ç¼©åŒ…</h4><p>è¿›å…¥ <a href="https://opencv.org/releases/">opencvå®˜ç½‘</a>ï¼Œä¸‹è½½Sourceså‹ç¼©åŒ…</p><h4 id="å®‰è£…ä¾èµ–é¡¹"><a href="#å®‰è£…ä¾èµ–é¡¹" class="headerlink" title="å®‰è£…ä¾èµ–é¡¹"></a>å®‰è£…ä¾èµ–é¡¹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential libgtk2.0-dev libjpeg-dev  libtiff5-dev libopenexr-dev libtbb-dev</span><br><span class="line">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libgtk-3-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev pkg-config</span><br></pre></td></tr></table></figure><p>å…¶å®ä¾èµ–è¿˜æœ‰å¾ˆå¤š, å¯¹ç›®å‰æ¯”èµ›é¡¹ç›®æ¥è¯´ è¿™äº›è¶³å¤Ÿ</p><h4 id="cmake-make"><a href="#cmake-make" class="headerlink" title="cmake &amp;&amp; make"></a>cmake &amp;&amp; make</h4><p>å°†æºä»£ç è§£å‹åˆ°homeç›®å½•ä¸‹ï¼Œåˆ›å»ºbuildæ–‡ä»¶å¤¹ï¼Œç”¨cmakeæ£€æŸ¥ä¾èµ–é¡¹æ˜¯å¦å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd opencv-4.5.4/  # æ­¤å¤„ä¸ºè‡ªå·±å®‰è£…çš„ç‰ˆæœ¬</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake .. -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local/lib/opencv4.5.4 -D OPENCV_GENERATE_PKGCONFIG=ON</span><br></pre></td></tr></table></figure><ul><li><p><code>CMAKE_INSTALL_PREFIX</code> æ˜¯ opencv çš„å®‰è£…åœ°å€ã€‚ä¸ºä¾¿äºåç»­å¼€å‘ opencv å¤šç‰ˆæœ¬å…±å­˜ï¼Œå°† opencv ä¸åŒç‰ˆæœ¬å®‰æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­ï¼ˆç¼–è¯‘å…¶ä»–ç‰ˆæœ¬æ—¶æŠŠ opencv4.5.4 æ”¹æˆç›¸åº”çš„ç‰ˆæœ¬åå³å¯ï¼‰ï¼Œç›®çš„æ˜¯åˆ†å¼€ä½¿ç”¨ opencv å„ç‰ˆæœ¬</p></li><li><p><code>OPENCV_GENERATE_PKGCONFIG</code> å¼ºçƒˆå»ºè®®è®¾ç½®ä¸ºONã€‚<br>opencv4 é»˜è®¤ä¸ç”Ÿæˆ .pc æ–‡ä»¶ï¼Œæ‰€ä»¥åŠ ä¸Šè¿™å¥ç”¨äºç”Ÿæˆ opencv4.pc æ–‡ä»¶ï¼Œæ”¯æŒ <code>pkg-config --modversion opencv4</code> å‘½ä»¤ï¼Œä»è€Œå¯ä»¥æœç´¢åˆ° opencv ç‰ˆæœ¬ã€‚</p></li></ul><p>cmakeæ£€æŸ¥å®Œæˆï¼Œå°±ä¼šæ˜¾ç¤ºé…ç½®å’Œç”Ÿæˆå·²ç»“æŸ ç„¶åæˆ‘ä»¬ç”¨ <code>make</code>ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make -j8</span><br></pre></td></tr></table></figure><blockquote><p>-j8å°±æ˜¯å¼€å¯8çº¿ç¨‹è¿›è¡Œç¼–è¯‘ï¼ˆ-jåé¢çš„å‚æ•°å°±æ˜¯ä½¿ç”¨çš„çº¿ç¨‹æ•°é‡ï¼‰ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚è¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹æ¯”è¾ƒæ¼«é•¿ï¼Œä¸­é—´å¯èƒ½ä¼šå‡ºç°å„ç§warningçš„æç¤ºï¼Œä½†åªè¦æœ€å100%å°±OK æ ¹æ®è‡ªå·±ç”µè„‘æƒ…å†µåˆç†é€‰æ‹©</p></blockquote><p>ç¼–è¯‘æˆåŠŸåè¿è¡Œ make installå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h4><p>ä¿®æ”¹ <code>~/.bashrc</code> æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc </span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾åŠ ä¸Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">OpenCV 4.5.4</span></span><br><span class="line">export PKG_CONFIG_PATH=/usr/local/lib/opencv4.5.4/lib/pkgconfig  </span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/lib/opencv4.5.4/lib</span><br></pre></td></tr></table></figure><p>sourceç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>è¾“å…¥å‘½ä»¤æŸ¥çœ‹opencvç‰ˆæœ¬ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg-config opencv4 --modversion</span><br></pre></td></tr></table></figure><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image.png" alt=" "></p><blockquote><p>éœ€è¦æŸ¥çœ‹å…¶ä»–ç‰ˆæœ¬çš„ æŠŠopencv4 æ”¹æˆ opencv å³å¯</p></blockquote><p>ä¹Ÿå¯ä»¥è¯•è¿è¡Œ ä¾‹å­ç¨‹åº </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~/opencv-4.6.0/samples/cpp/example_cmake #ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”ä¸‹è½½çš„ç‰ˆæœ¬å·ç </span><br><span class="line">cmake .</span><br><span class="line">make</span><br><span class="line">./opencv_example</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>è¿™é‡Œä¹Ÿå¯ä»¥è¿è¡Œæˆ‘æä¾›çš„æµ‹è¯•ç¨‹åº</p><p>æ–°å»º <code>detect.py</code> å†™å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;armor.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å›¾åƒæ˜¯å¦æˆåŠŸè¯»å–</span></span><br><span class="line"><span class="keyword">if</span> image <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å›¾åƒè¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒ</span></span><br><span class="line">    gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œç°åº¦å›¾åƒ</span></span><br><span class="line">    cv2.imshow(<span class="string">&#x27;Original Image&#x27;</span>, image)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;Gray Image&#x27;</span>, gray_image)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç­‰å¾…æŒ‰é”®æŒ‰ä¸‹ï¼Œç„¶åå…³é—­æ‰€æœ‰çª—å£</span></span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿å­˜ç°åº¦å›¾åƒ</span></span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;armor_gray.png&#x27;</span>, gray_image)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œ <code>python3 detect.py</code> å¾—åˆ°å¦‚ä¸‹å›¾ç‰‡ å°±è¯æ˜æˆåŠŸäº†!!! (æ’’èŠ±)</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-3.png" alt=" "></p><p>ç»†å¿ƒçš„åŒå­¦ åº”è¯¥ä¹Ÿæ³¨æ„åˆ° åœ¨æ–‡ä»¶å¤¹å†…å¤šäº†ä¸€ä¸ªæ–°æ–‡ä»¶</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ armor_gray<span class="selector-class">.jpg</span></span><br><span class="line">â”œâ”€â”€ armor<span class="selector-class">.png</span></span><br><span class="line">â””â”€â”€ detect.py</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ OpenCV ç¯å¢ƒå°±ç®—æ­å»ºå®Œæˆäº† åç»­æœ‰ç›¸å…³éœ€æ±‚çš„åŒå­¦ ä¹Ÿå¯ä»¥é€šè¿‡ å®‰è£…ä¸åŒç‰ˆæœ¬<code>cv</code>æˆ–è€…ä½¿ç”¨ Anaconda å»ç®¡ç†ä¸åŒçš„pythonç‰ˆæœ¬ç­‰ä¸åŒç¯å¢ƒ,ä»¥é€‚åº”ä¸åŒçš„å·¥ä½œç¯å¢ƒ<br>ä½†å€¼å¾—æ³¨æ„çš„æ˜¯condaæœ‰æ—¶å€™é¢ä¸´ä¸€äº›å’Œé¡¹ç›®å†²çªçš„åœ°æ–¹ ä¼šæŠ¥é”™ æ­¤æ—¶éœ€è¦å®Œå…¨é€€å‡ºcondaç¯å¢ƒ(åŒ…æ‹¬base)</p><hr><h2 id="å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡"><a href="#å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡" class="headerlink" title="å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡"></a>å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡</h2><h3 id="å›¾åƒçš„ç©ºé—´è¡¨ç¤º"><a href="#å›¾åƒçš„ç©ºé—´è¡¨ç¤º" class="headerlink" title="å›¾åƒçš„ç©ºé—´è¡¨ç¤º"></a>å›¾åƒçš„ç©ºé—´è¡¨ç¤º</h3><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-6.png" alt=" "></p><blockquote><p>æ‘˜è‡ª Rafeal C.Gonzalez(æ‹‰æ–å°”Â·C. å†ˆè¨é›·æ–¯) Richard E.Woods(ç†æŸ¥å¾·Â·E. ä¼å…¹) è€å¸ˆçš„è‘—ä½œ Digital Image Processing,Fourth Edition(æ•°å­—å›¾åƒå¤„ç† ç¬¬å››ç‰ˆ)</p></blockquote><p><strong>å›¾åƒåœ¨è®¡ç®—æœºä¸­æ˜¯ä¸€ä¸ªäºŒç»´ç¦»æ•£ä¿¡å·ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºçŸ©é˜µå½¢å¼</strong></p><p>$$<br>I(x, y) \in \mathbb{R}^{M \times N}<br>$$</p><p>å…¶ä¸­ $x$ å’Œ $y$ æ˜¯åƒç´ åæ ‡ï¼Œ$M$ å’Œ $N$ æ˜¯å›¾åƒçš„é«˜åº¦å’Œå®½åº¦ã€‚å¯¹äºå½©è‰²å›¾åƒï¼Œé€šå¸¸ä½¿ç”¨ä¸‰é€šé“ $RGB$ï¼š</p><p>$$<br>I(x, y) &#x3D; [R(x, y), G(x, y), B(x, y)]<br>$$</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-4.png" alt=" "></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-5.png" alt=" "></p><blockquote><p>ä»è¿™æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå›¾åƒçš„æ•°æ®ä¸åŒäºè‡ªç„¶ç•Œä¸­è¿ç»­çš„å›¾åƒè‰²å½© è€Œæ˜¯ä¸€ä¸ªä¸ªç¦»æ•£çš„åƒç´ ç‚¹ æ„å‘³ç€ä¸€ä¸ªå›¾åƒä¸­ å­˜å‚¨ä¸€ä¸ªåƒç´ æ‰€ç”¨çš„ä½æ•°(bit)è¶Šå¤š ä¹Ÿå°±æ˜¯å¸¸è¯´çš„ä½æ·±è¶Šé«˜ å›¾åƒå°±è¶Šæ¸…æ™° æ‰€è¡¨è¾¾çš„ä¿¡æ¯å°±è¶Šä¸°å¯Œ</p></blockquote><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-17.png"></p><p>æˆ‘ä»¬åæœŸä¸»è¦ä½¿ç”¨çš„ç°åº¦å›¾åƒ æ˜¯ä¸€ä¸ªå•é€šé“å›¾åƒ åªç”¨ ä¸€ä½è¡¨ç¤º å³åªæœ‰0å’Œ1 è¡¨ç¤ºé»‘å’Œç™½ è™½ç„¶åœ¨è§†è§‰ä¸Šä¸å¦‚å½©è‰²å›¾åƒåŒ…å«ä¿¡æ¯å¤š ä½†åœ¨å¤„ç†ä¸Šç°åº¦å›¾åƒæ›´ç®€å•æ›´ä¾¿æ·ä¹Ÿæ›´è¿…é€Ÿ</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-18.png" alt=" "></p><h3 id="å›¾åƒçš„é¢œè‰²ç©ºé—´"><a href="#å›¾åƒçš„é¢œè‰²ç©ºé—´" class="headerlink" title="å›¾åƒçš„é¢œè‰²ç©ºé—´"></a>å›¾åƒçš„é¢œè‰²ç©ºé—´</h3><h4 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h4><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-8.png" alt=" "></p><ul><li><strong>RGB</strong>ï¼ˆRed, Green, Blueï¼‰åŸºäºåŠ è‰²åŸç†,æ˜¯æœ€å¸¸ç”¨çš„é¢œè‰²æ¨¡å‹ï¼Œ</li><li>å…¶ä¸­æ¯ä¸ªåƒç´ ç”±ä¸‰ä¸ªé€šé“ç»„æˆï¼Œå–å€¼èŒƒå›´é€šå¸¸ä¸º <code>[0, 255]</code>ï¼ˆ8ä½å›¾åƒï¼‰ã€‚</li></ul><p>$$<br>\text{Image} &#x3D; (R, G, B)&#x3D;\left( \frac{r}{255}, \frac{g}{255}, \frac{b}{255} \right), \quad R,G,B \in [0, 255]<br>$$</p><p>ç™½è‰² RGB(255,255,255)<br>é»‘è‰² RGB(0,0,0)</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-7.png"></p><p><code>cd Test2</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒï¼ˆOpenCVé»˜è®¤è¯»å–ä¸ºBGRæ ¼å¼ï¼‰</span></span><br><span class="line">img_bgr = cv2.imread(<span class="string">&quot;image.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # è½¬æ¢ä¸ºRGBæ ¼å¼</span></span><br><span class="line">img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†ç¦»RGBé€šé“</span></span><br><span class="line">r, g, b = cv2.split(img_rgb)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶RGBé€šé“</span></span><br><span class="line">img_red = cv2.merge([r, g, b])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;Original Image&quot;</span>, img_bgr)</span><br><span class="line">cv2.imshow(<span class="string">&quot;Red Image&quot;</span>, img_red)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p>è“è‰²å’Œçº¢è‰²å‘ç”Ÿè°ƒæ¢</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/%E6%88%AA%E5%9B%BE%202025-02-23%2001-01-30.png"></p><h4 id="HSV-HSLé¢œè‰²ç©ºé—´"><a href="#HSV-HSLé¢œè‰²ç©ºé—´" class="headerlink" title="HSV&#x2F;HSLé¢œè‰²ç©ºé—´"></a>HSV&#x2F;HSLé¢œè‰²ç©ºé—´</h4><ul><li><strong>HSV</strong>ï¼ˆHue, Saturation, Valueï¼‰å’Œ <strong>HSL</strong>ï¼ˆHue, Saturation, Lightnessï¼‰æ˜¯é¢å‘è§†è§‰æ„ŸçŸ¥çš„é¢œè‰²æ¨¡å‹,ä¹Ÿä¼šæ˜¯æˆ‘ä»¬ä»¥åç»å¸¸ä½¿ç”¨çš„é¢œè‰²ç©ºé—´ã€‚</li></ul><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-9.png" alt=" "></p><ul><li><strong>Hueï¼ˆè‰²ç›¸ï¼‰</strong>ï¼šé¢œè‰²ç±»å‹ï¼Œè§’åº¦èŒƒå›´ <code>[0Â°, 360Â°)</code>ï¼Œåœ¨OpenCVä¸­æ˜ å°„ä¸º <code>[0, 179]</code>ï¼ˆ8ä½å›¾åƒï¼‰ã€‚</li><li><strong>Saturationï¼ˆé¥±å’Œåº¦ï¼‰</strong>ï¼šé¢œè‰²çº¯åº¦ï¼ŒèŒƒå›´ <code>[0, 1]</code>ï¼ˆOpenCVä¸­æ˜ å°„ä¸º <code>[0, 255]</code>ï¼‰ã€‚</li><li><strong>Value(æ˜åº¦)</strong> æˆ– <strong>Lightness(äº®åº¦)</strong> ï¼šé¢œè‰²æ˜æš—ç¨‹åº¦ï¼ŒèŒƒå›´ <code>[0, 1]</code>ï¼ˆOpenCVä¸­æ˜ å°„ä¸º <code>[0, 255]</code>ï¼‰ã€‚</li></ul><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-13.png" alt=" "></p><blockquote><p>ç™½è‰² HSV(0,0,1)<br>é»‘è‰² HSV(0,0,0)</p></blockquote><p><strong>RGBåˆ°HSVçš„è½¬æ¢å…¬å¼</strong>ï¼ˆæ ‡å‡†åŒ–åˆ° [0,1]ï¼‰ï¼š</p><ol><li><p>è®¡ç®—æœ€å¤§å€¼ $ C_{\text{max}} &#x3D; \max(R, G, B) $ å’Œæœ€å°å€¼ $ C_{\text{min}} &#x3D; \min(R, G, B) $ã€‚</p></li><li><p>è®¡ç®—å·®å€¼ $ \Delta &#x3D; C_{\text{max}} - C_{\text{min}} $ã€‚</p></li><li><p><strong>Hue</strong>ï¼š</p><span> $$H = \begin{cases}0^\circ & \text{if } \Delta = 0 \\60^\circ \times \left( \frac{G - B}{\Delta} +0 \right) & \text{if } C_{\text{max}} = R \\60^\circ \times \left( \frac{B - R}{\Delta} + 2 \right) & \text{if } C_{\text{max}} = G \\60^\circ \times \left( \frac{R - G}{\Delta} + 4 \right) & \text{if } C_{\text{max}} = B\end{cases}$$</span></li></ol><p> <strong>Saturation</strong>ï¼š</p>   <span>    $$   S =    \begin{cases}   0 & \text{if } C_{\text{max}} = 0 \\   \frac{\Delta}{C_{\text{max}}} & \text{else}   \end{cases}   $$ **Value**ï¼š   $$   V = C_{\text{max}}   $$   </span><p><code>cd Test3</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">img_bgr = cv2.imread(<span class="string">&#x27;image.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºHSVé¢œè‰²ç©ºé—´ï¼ˆæ³¨æ„OpenCVä¸­HèŒƒå›´ä¸º[0,179]ï¼ŒS/Vä¸º[0,255]ï¼‰</span></span><br><span class="line">img_hsv = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2HSV)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†ç¦»HSVé€šé“</span></span><br><span class="line">h, s, v = cv2.split(img_hsv)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šæå–çº¢è‰²åŒºåŸŸï¼ˆHâ‰ˆ0æˆ–Hâ‰ˆ180é™„è¿‘ï¼‰</span></span><br><span class="line">lower_red1 = np.array([<span class="number">0</span>, <span class="number">50</span>, <span class="number">50</span>])</span><br><span class="line">upper_red1 = np.array([<span class="number">10</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">lower_red2 = np.array([<span class="number">170</span>, <span class="number">50</span>, <span class="number">50</span>])</span><br><span class="line">upper_red2 = np.array([<span class="number">180</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">mask_red = cv2.inRange(img_hsv, lower_red1, upper_red1) | cv2.inRange(img_hsv, lower_red2, upper_red2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œçº¢è‰²æ©è†œ</span></span><br><span class="line">cv2.imshow(<span class="string">&#x27;Original Image&#x27;</span>, img_bgr)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;Red Mask&#x27;</span>, mask_red)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å¾…æŒ‰é”®ï¼Œç„¶åå…³é—­æ‰€æœ‰çª—å£</span></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-14.png" alt=" "></p><p><strong>æ€»ç»“</strong></p><table><thead><tr><th>é¢œè‰²ç©ºé—´</th><th>é€šé“å«ä¹‰</th><th>ä¸»è¦åº”ç”¨</th></tr></thead><tbody><tr><td>RGB&#x2F;BGR</td><td>çº¢ã€ç»¿ã€è“</td><td>å›¾åƒæ˜¾ç¤ºä¸å­˜å‚¨</td></tr><tr><td>HSV&#x2F;HSL</td><td>è‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦&#x2F;äº®åº¦</td><td>é¢œè‰²åˆ†å‰²ã€æ»¤é•œ</td></tr></tbody></table><p><strong>OpenCVé¢œè‰²ç©ºé—´é€šç”¨è½¬æ¢å‡½æ•°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šcv2.cvtColor(src, code)</span></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šBGRè½¬ç°åº¦å›¾</span></span><br><span class="line">img_gray = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¯æŒçš„è½¬æ¢ä»£ç åŒ…æ‹¬ï¼š</span></span><br><span class="line"><span class="comment"># COLOR_BGR2RGB, COLOR_BGR2HSV, COLOR_BGR2LAB, COLOR_BGR2YUVç­‰</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd Test4</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">img_bgr = cv2.imread(<span class="string">&quot;image.png&quot;</span>)</span><br><span class="line">img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºä¸åŒé¢œè‰²ç©ºé—´</span></span><br><span class="line">img_hsv = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2HSV)</span><br><span class="line">img_lab = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2LAB)</span><br><span class="line">img_ycrcb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2YCrCb)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯è§†åŒ–</span></span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>,<span class="number">10</span>))</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>), plt.imshow(img_rgb), plt.title(<span class="string">&quot;RGB&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>), plt.imshow(img_hsv), plt.title(<span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>), plt.imshow(img_lab), plt.title(<span class="string">&quot;LAB&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>), plt.imshow(img_ycrcb), plt.title(<span class="string">&quot;YCbCr&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ol><li><strong>é€šé“èŒƒå›´</strong>ï¼šOpenCVä¸­ä¸åŒé¢œè‰²ç©ºé—´çš„é€šé“èŒƒå›´å¯èƒ½ä¸åŒï¼ˆå¦‚HSVçš„Hé€šé“ä¸º <code>[0,179]</code>ï¼‰ã€‚</li><li><strong>æ•°æ®ç±»å‹</strong>ï¼šé¢œè‰²ç©ºé—´è½¬æ¢å‰éœ€ç¡®ä¿å›¾åƒä¸º <code>float32</code> æˆ– <code>uint8</code> ç±»å‹ã€‚</li><li><strong>é¢œè‰²å¤±çœŸ</strong>ï¼šå¤šæ¬¡é¢œè‰²ç©ºé—´è½¬æ¢å¯èƒ½å¯¼è‡´ç²¾åº¦æŸå¤±ã€‚</li></ol><h3 id="å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ"><a href="#å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ" class="headerlink" title="å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ"></a>å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ</h3><h4 id="è†¨èƒ€ä¸è…èš€"><a href="#è†¨èƒ€ä¸è…èš€" class="headerlink" title="è†¨èƒ€ä¸è…èš€"></a>è†¨èƒ€ä¸è…èš€</h4><p>å¯¹å›¾åƒå½¢æ€å­¦ç‰¹å¾ æœ€åŸºç¡€çš„å°±æ˜¯ <strong>è†¨èƒ€</strong>ï¼ˆDilationï¼‰å’Œ <strong>è…èš€</strong>ï¼ˆErosionï¼‰ã€‚</p><ul><li><strong>è†¨èƒ€</strong>ï¼ˆDilationï¼‰ï¼š<br>$$<br>A \oplus B &#x3D; { z | (\hat{B})_z \cap A \neq \emptyset }<br>$$</li><li><strong>è…èš€</strong>ï¼ˆErosionï¼‰ï¼š<br>$$<br>A \ominus B &#x3D; { z | (B)_z \subseteq A }<br>$$<br>å…¶ä¸­ $B$ æ˜¯ç»“æ„å…ƒç´ ã€‚</li></ul><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-15.png"></p><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>), np.uint8)</span><br><span class="line">dilated = cv2.dilate(img, kernel)</span><br><span class="line">eroded = cv2.erode(img, kernel)</span><br></pre></td></tr></table></figure><p><strong>å¼€è¿ç®—ä¸é—­è¿ç®—</strong></p><ul><li>å¼€è¿ç®—ï¼šå…ˆè…èš€åè†¨èƒ€ï¼ˆå»é™¤å°ç‰©ä½“ï¼‰ã€‚</li><li>é—­è¿ç®—ï¼šå…ˆè†¨èƒ€åè…èš€ï¼ˆå¡«å……å°å­”ï¼‰ã€‚</li></ul><p>ä¸€æ¬¡è†¨èƒ€ä¸€æ¬¡è…èš€ ä¿æŒä½“ç§¯ä¸å˜</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-12.png"></p><h4 id="æ»¤æ³¢å·ç§¯"><a href="#æ»¤æ³¢å·ç§¯" class="headerlink" title="æ»¤æ³¢å·ç§¯"></a>æ»¤æ³¢å·ç§¯</h4><p>å›¾åƒæ»¤æ³¢çš„æ ¸å¿ƒæ˜¯å·ç§¯è¿ç®—ã€‚ç»™å®šå›¾åƒ $I(x, y)$ å’Œå·ç§¯æ ¸ $K(i, j)$ï¼Œå·ç§¯å…¬å¼ä¸ºï¼š<br>$$<br>(I * K)(x, y) &#x3D; \sum_{i&#x3D;-a}^{a} \sum_{j&#x3D;-b}^{b} I(x-i, y-j) \cdot K(i, j)<br>$$<br>å…¶ä¸­ $K$ çš„å¤§å°ä¸º $(2a+1) \times (2b+1)$ã€‚</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-10.png"></p><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">kernel = np.array([[<span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">5</span>, -<span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>]])  <span class="comment"># é”åŒ–å·ç§¯æ ¸</span></span><br><span class="line">filtered = cv2.filter2D(img, -<span class="number">1</span>, kernel)</span><br></pre></td></tr></table></figure><h3 id="é«˜æ–¯æ»¤æ³¢"><a href="#é«˜æ–¯æ»¤æ³¢" class="headerlink" title="é«˜æ–¯æ»¤æ³¢"></a>é«˜æ–¯æ»¤æ³¢</h3><p>é«˜æ–¯æ ¸çš„æ•°å­¦å…¬å¼ï¼ˆæ ‡å‡†å·®ä¸º $\sigma$ï¼š<br>$$<br>K(i, j) &#x3D; \frac{1}{2\pi\sigma^2} e^{-\frac{i^2 + j^2}{2\sigma^2}}<br>$$<br>ç¦»æ•£åŒ–åï¼Œç”Ÿæˆé«˜æ–¯æ ¸çŸ©é˜µã€‚</p><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blur = cv2.GaussianBlur(img, (<span class="number">5</span>,<span class="number">5</span>), sigmaX=<span class="number">1.5</span>)</span><br></pre></td></tr></table></figure><h3 id="Sobelç®—å­è¾¹ç¼˜æ£€æµ‹"><a href="#Sobelç®—å­è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="Sobelç®—å­è¾¹ç¼˜æ£€æµ‹"></a>Sobelç®—å­è¾¹ç¼˜æ£€æµ‹</h3><p>Sobelç®—å­çš„æ°´å¹³å’Œå‚ç›´å·ç§¯æ ¸ï¼š</p><span>$$K_x = \begin{bmatrix}-1 & 0 & 1 \\-2 & 0 & 2 \\-1 & 0 & 1\end{bmatrix}, \quadK_y = \begin{bmatrix}-1 & -2 & -1 \\0 & 0 & 0 \\1 & 2 & 1\end{bmatrix}$$æ¢¯åº¦å¹…å€¼è®¡ç®—ï¼š$$G = \sqrt{G_x^2 + G_y^2}$$</span><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grad_x = cv2.Sobel(img, cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>, ksize=<span class="number">3</span>)</span><br><span class="line">grad_y = cv2.Sobel(img, cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>, ksize=<span class="number">3</span>)</span><br><span class="line">grad = np.sqrt(grad_x**<span class="number">2</span> + grad_y**<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="å›¾åƒæ’å€¼"><a href="#å›¾åƒæ’å€¼" class="headerlink" title="å›¾åƒæ’å€¼"></a>å›¾åƒæ’å€¼</h3><p>åœ¨ç¼©æ”¾æˆ–æ—‹è½¬æ—¶ï¼Œåƒç´ ä½ç½®å¯èƒ½éæ•´æ•°ï¼Œéœ€æ’å€¼ã€‚å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li><p><strong>åŒçº¿æ€§æ’å€¼</strong>ï¼š</p><p>$$<br>I(x, y) &#x3D; (1 - \alpha)(1 - \beta) I_{00} + \alpha(1 - \beta) I_{10} + (1 - \alpha)\beta I_{01} + \alpha\beta I_{11}<br>$$</p><p>å…¶ä¸­ $$\alpha &#x3D; x - \lfloor x \rfloor$$  $$\beta &#x3D; y - \lfloor y \rfloor$$</p></li></ul><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resized = cv2.resize(img, <span class="literal">None</span>, fx=<span class="number">2</span>, fy=<span class="number">2</span>, interpolation=cv2.INTER_LINEAR)</span><br></pre></td></tr></table></figure><h2 id="armor-detect"><a href="#armor-detect" class="headerlink" title="armor_detect"></a>armor_detect</h2><p>è¿™æ˜¯Roboasteræ¯”èµ›ä¸­å¸¸è§çš„è£…ç”²æ¿å›¾å½¢</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TB    A[Robomasterè£…ç”²æ¿è¯†åˆ«] --&gt; B[å›¾åƒé¢„å¤„ç†];    B --&gt; B1[é€‰å–é¢œè‰²é€šé“é˜ˆå€¼åŒºé—´];    B --&gt; B2[äºŒå€¼åŒ–];    B --&gt; B3[å½¢æ€å­¦æ“ä½œ];    B --&gt; B4[è¾¹ç¼˜æ£€æµ‹];    B --&gt; B5[...];    B1 --&gt; C[ç­›é€‰çŸ©å½¢];    B2 --&gt; C;    B3 --&gt; C;    B4 --&gt; C;    B5 --&gt; C;    C --&gt; C1[æŸ¥æ‰¾è½®å»“];    C1 --&gt; C2[ç­›é€‰é™¤å»éƒ¨åˆ†çŸ©å½¢];    C2 --&gt; D[åˆ¤æ–­æ˜¯å¦ä¸ºè£…ç”²æ¿];    D --&gt; E[éå†çŸ©å½¢ï¼Œä¸¤ä¸¤ç»„åˆåˆ¤æ–­];    E --&gt; F[è¯†åˆ«è£…ç”²æ¿];    F --&gt; F1[è£…ç”²æ¿ä¸­å¿ƒç›¸å¯¹ç”»é¢ä¸­å¿ƒåæ ‡];  </pre></div><p>è§‚å¯Ÿå›¾å½¢å¯ä»¥çœ‹åˆ°</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-1.png" alt=" "></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-2.png" alt=" "></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-16.png" alt=" "></p><h2 id="OpenCV"><a href="#OpenCV" class="headerlink" title="OpenCV !"></a>OpenCV !</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libopencv-dev</span><br></pre></td></tr></table></figure><p>ç¡®ä¿ç¯å¢ƒå·²ç»æ­å»º æœ¬èŠ‚è¯¾åŸºäºç”¨ OpenCV åœ¨å±å¹•å³ä¸Šè§’ç»˜åˆ¶çŸ©å½¢ä¸ºæ¡ˆä¾‹ å¸¦å¤§å®¶äº†è§£åŸºæœ¬çš„æ“ä½œæ€è·¯</p><blockquote><p>æ¼”ç¤ºæ‘„åƒå¤´æ­è½½ USB å…¨åŸŸéƒ¨æ‘„åƒå¤´ è¿›è¡Œæ‰«æ æœ‰æ¡ä»¶çš„åŒå­¦å¯ä»¥è´­ä¹°ç±»ä¼¼USBé©±åŠ¨æ‘„åƒå¤´ ä½¿ç”¨ç”µè„‘è‡ªå¸¦æ‘„åƒå¤´ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„</p></blockquote><h3 id="å®‰è£…-usb-camæ‘„åƒå¤´é©±åŠ¨"><a href="#å®‰è£…-usb-camæ‘„åƒå¤´é©±åŠ¨" class="headerlink" title="å®‰è£… usb_camæ‘„åƒå¤´é©±åŠ¨"></a>å®‰è£… usb_camæ‘„åƒå¤´é©±åŠ¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-humble-usb_cam </span><br></pre></td></tr></table></figure><p>cheese èŒ„å­</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cheese </span><br><span class="line">cheese  # è¿è¡ŒèŒ„å­</span><br></pre></td></tr></table></figure><p>è¿è¡Œ <code>red_circle_detect.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æ‘„åƒå¤´</span></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">2</span>) <span class="comment"># æ•°å­—æ ¹æ®è‡ªå·±æ‘„åƒå¤´ç¡®å®šç¼–å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># è¯»å–è§†é¢‘å¸§</span></span><br><span class="line">    ret, frame = cap.read()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ret:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•è·å–è§†é¢‘å¸§&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†å›¾åƒè½¬æ¢ä¸ºHSVé¢œè‰²ç©ºé—´ï¼ˆæ›´å¥½çš„é¢œè‰²åˆ†ç¦»ï¼‰</span></span><br><span class="line">    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å®šä¹‰çº¢è‰²çš„HSVèŒƒå›´ï¼ˆéœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰</span></span><br><span class="line">    lower_red1 = np.array([<span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>])</span><br><span class="line">    upper_red1 = np.array([<span class="number">10</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">    lower_red2 = np.array([<span class="number">160</span>, <span class="number">100</span>, <span class="number">100</span>])</span><br><span class="line">    upper_red2 = np.array([<span class="number">180</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆ›å»ºçº¢è‰²æ©è†œ</span></span><br><span class="line">    mask1 = cv2.inRange(hsv, lower_red1, upper_red1)</span><br><span class="line">    mask2 = cv2.inRange(hsv, lower_red2, upper_red2)</span><br><span class="line">    mask = cv2.bitwise_or(mask1, mask2)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å›¾åƒé¢„å¤„ç†</span></span><br><span class="line">    mask = cv2.erode(mask, <span class="literal">None</span>, iterations=<span class="number">2</span>)</span><br><span class="line">    mask = cv2.dilate(mask, <span class="literal">None</span>, iterations=<span class="number">2</span>)</span><br><span class="line">    mask = cv2.GaussianBlur(mask, (<span class="number">9</span>, <span class="number">9</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># éœå¤«åœ†æ£€æµ‹</span></span><br><span class="line">    circles = cv2.HoughCircles(mask, cv2.HOUGH_GRADIENT, dp=<span class="number">1.2</span>, minDist=<span class="number">100</span>,</span><br><span class="line">                              param1=<span class="number">50</span>, param2=<span class="number">30</span>, minRadius=<span class="number">20</span>, maxRadius=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¦‚æœæ£€æµ‹åˆ°åœ†å½¢</span></span><br><span class="line">    <span class="keyword">if</span> circles <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        circles = np.<span class="built_in">round</span>(circles[<span class="number">0</span>, :]).astype(<span class="string">&quot;int&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># éå†æ‰€æœ‰æ£€æµ‹åˆ°çš„åœ†</span></span><br><span class="line">        <span class="keyword">for</span> (x, y, r) <span class="keyword">in</span> circles:</span><br><span class="line">            <span class="comment"># ç»˜åˆ¶åœ†å½¢å’Œä¸­å¿ƒç‚¹</span></span><br><span class="line">            cv2.circle(frame, (x, y), r, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">4</span>)</span><br><span class="line">            cv2.circle(frame, (x, y), <span class="number">2</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">3</span>)</span><br><span class="line">            <span class="comment"># æ˜¾ç¤ºåœ†å¿ƒåæ ‡</span></span><br><span class="line">            cv2.putText(frame, <span class="string">f&quot;(<span class="subst">&#123;x&#125;</span>, <span class="subst">&#123;y&#125;</span>)&quot;</span>, (x-<span class="number">50</span>, y-<span class="number">20</span>),</span><br><span class="line">                       cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºç»“æœ</span></span><br><span class="line">    cv2.imshow(<span class="string">&quot;Frame&quot;</span>, frame)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Mask&quot;</span>, mask)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŒ‰qé€€å‡º</span></span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡Šæ”¾èµ„æº</span></span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p>éšæ‰‹ç”»ä¸€å¼ å›¾æ£€éªŒä¸€ä¸‹</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-20.png" alt=" "></p><p>å¯ä»¥çœ‹åˆ°å›¾ç‰‡ä¸Šå­˜åœ¨ä¸åŒé¢œè‰²çš„å¹²æ‰° ä»¥åŠå½¢æ€çš„å¹²æ‰° ä¸¤è€…éƒ½éœ€è¦è€ƒè™‘</p><p>çœ‹çœ‹æ£€æµ‹ç»“æœ</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/result.png"></p><p>æ­£ç¡®åˆ†ç¦»å‡ºäº†çº¢è‰²éƒ¨åˆ†</p><p>è€Œä¸”å›¾å½¢åˆ¤æ–­æ­£ç¡® æ²¡æœ‰è¯¯åˆ¤çŸ©å½¢</p><blockquote><p>ä½†åœ¨å®é™…æ¯”èµ›ä¸­ å¯èƒ½å—åˆ°å…‰ç…§ç­‰å› ç´ å½±å“ ä»¥åŠå°çƒé¢œè‰²å¤šæ · å¯èƒ½æ²¡æœ‰å¦‚æ­¤é²œæ˜ç‰¹å¾ç­‰ç­‰ è¿™éƒ½ä¼šå½±å“æˆ‘ä»¬è¯†åˆ«çš„ç»“æœ è¿™é‡Œæä¾›ä¸€ä¸ªç®€å•çš„æ ·ä¾‹æ€è·¯ è¿˜æœ‰å¾ˆå¤šåœ°æ–¹å¯ä»¥ä¼˜åŒ–</p></blockquote><h2 id="ä½œä¸š"><a href="#ä½œä¸š" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h2><ul><li><p>åŸºäºOpenCVç¼–å†™è¯†åˆ«ç¨‹åº è¯†åˆ«ç»¿è‰²ä¸‰è§’å½¢ (è¯†åˆ«ç¯å¢ƒè‡ªå·±ç»˜å›¾,è¶Šèƒ½é€‚åº”å¤æ‚ç¯å¢ƒ,ä½œä¸šè¯„åˆ†è¶Šé«˜)</p></li><li><p>ROSä¸OpenCVçš„è½¬æ¢</p><ul><li>ä»¥ROSåŠŸèƒ½åŒ…çš„å½¢å¼ç¼–å†™èŠ‚ç‚¹å®æ—¶è®¢é˜…æ‘„åƒå¤´å‘å¸ƒçš„å›¾åƒè¯é¢˜æ¶ˆæ¯å¹¶å°†ROSå›¾åƒæ¶ˆæ¯è½¬æ¢ä¸ºOpenCVå›¾åƒ</li><li>åœ¨å›¾åƒå³ä¸Šè§’ç»˜åˆ¶çŸ©å½¢ï¼Œå†å°†OpenCVå›¾åƒè½¬æ¢å›ROSå›¾åƒæ¶ˆæ¯é‡æ–°å‘å¸ƒåˆ°ä¸€ä¸ªæ–°çš„è¯é¢˜</li><li>ç”¨rvizæˆ–è€…rqt_image_viewæ˜¾ç¤ºå›¾åƒæ¶ˆæ¯</li></ul></li></ul><p>ä½œä¸šå‡è¦æ±‚æä¾› æºç¨‹åºå’Œå®ä¾‹å›¾åƒ READMEè®²è§£è¿è¡Œè¿‡ç¨‹ (å¯å¼•ç”¨å›¾ç‰‡å±•ç¤º) æˆªæ­¢äº <strong>2025å¹´3æœˆ29æ—¥æ™š24ç‚¹</strong></p><p><strong>æ ·ä¾‹</strong></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-21.png" alt=" "></p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/7.png" alt=" "></p><h2 id="æ ¡èµ›"><a href="#æ ¡èµ›" class="headerlink" title="æ ¡èµ›"></a>æ ¡èµ›</h2><p><img src="/images/%E7%AE%97%E6%B3%95%E7%BB%84%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%9F%B9%E8%AE%AD/image.png" alt="alt text"></p><p><img src="/images/%E7%AE%97%E6%B3%95%E7%BB%84%E7%AC%AC%E4%B8%89%E6%AC%A1%E5%9F%B9%E8%AE%AD/image-1.png" alt="alt text"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Robomaster </tag>
            
            <tag> è§†è§‰ç»„åŸ¹è®­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RM2025å¯¼èˆªè°ƒè¯•</title>
      <link href="/2025/02/14/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/"/>
      <url>/2025/02/14/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢è®°å½•è°ƒè¯•è¿‡ç¨‹,æ–¹ä¾¿åç»­æ’æŸ¥é”™è¯¯<br>åŸºäº æ·±åŒ—è« é™ˆä½¬å¼€æº<br><a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_sentry_nav">pb2025_sentry_nav</a><br><a href="https://github.com/SMBU-PolarBear-Robotics-Team/rmu_gazebo_simulator">rmu_gazebo_simulator</a></p></blockquote><h1 id="ä¸Šåœºï¼"><a href="#ä¸Šåœºï¼" class="headerlink" title="ä¸Šåœºï¼"></a>ä¸Šåœºï¼</h1><h2 id="å»ºå›¾"><a href="#å»ºå›¾" class="headerlink" title="å»ºå›¾"></a>å»ºå›¾</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch pb2025_nav_bringup rm_sentry_reality_launch.py \</span><br><span class="line">slam:=True \</span><br><span class="line">use_robot_state_pub:=True</span><br></pre></td></tr></table></figure><p>å»ºå›¾åä¿å­˜åœ°å›¾åˆ°å½“å‰ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run nav2_map_server map_saver_cli -f rmul_2025 --ros-args -r __ns:=/red_standard_robot1</span><br></pre></td></tr></table></figure><p>å°†å…¶ä¸­çš„ <code>rmul_2025.pgm</code> å’Œ <code>rmul_2025.yaml</code> ä¿å­˜è‡³äº mapä¸­<br>ç»ˆæ­¢ç¨‹åº åœ¨pointlio&#x2F;PCDä¸­ç”Ÿæˆ scans.pcd å‘½åä¸ºrmul_2025 æ”¾ç½®äº reality&#x2F;PCDä¸­ </p><p>é‡æ–°ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release</span><br></pre></td></tr></table></figure><h2 id="ä¿®å›¾"><a href="#ä¿®å›¾" class="headerlink" title="ä¿®å›¾"></a>ä¿®å›¾</h2><h2 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h2><h1 id="æµ·åº·-SDK-å†²çª"><a href="#æµ·åº·-SDK-å†²çª" class="headerlink" title="æµ·åº· SDK å†²çª"></a>æµ·åº· SDK å†²çª</h1><p>[&#x2F;usr&#x2F;bin&#x2F;ld: ..&#x2F;..&#x2F;lib&#x2F;libpcl_io.so.1.8.0: undefined reference to &#96;libusb_set_optionâ€˜é”™è¯¯è§£å†³-æµ·åº·æ‘„åƒå¤´SDK](<a href="https://blog.csdn.net/weixin_45646976/article/details/134856249">https://blog.csdn.net/weixin_45646976/article/details/134856249</a>)</p><p>åˆ é™¤ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/opt/MVS/lib/64/libusb-1.0.so.0</span><br><span class="line">/opt/MVS/lib/32/libusb-1.0.so.0</span><br></pre></td></tr></table></figure><h1 id="ä»¿çœŸ"><a href="#ä»¿çœŸ" class="headerlink" title="ä»¿çœŸ"></a>ä»¿çœŸ</h1><h2 id="ä¸‹è½½-Ignition-Fortress"><a href="#ä¸‹è½½-Ignition-Fortress" class="headerlink" title="ä¸‹è½½ Ignition: Fortress"></a>ä¸‹è½½ Ignition: Fortress</h2><p>ä¸‹è½½å¯¹åº”Gazeboä»¿çœŸç‰ˆæœ¬</p><p><a href="https://gazebosim.org/docs/fortress/install_ubuntu/">å®˜ç½‘æ•™ç¨‹</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install lsb-release gnupg</span><br><span class="line">sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg</span><br><span class="line">echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main&quot; | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ignition-fortress</span><br></pre></td></tr></table></figure><p>åˆ é™¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove ignition-fortress &amp;&amp; sudo apt autoremove</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-small-icp"><a href="#å®‰è£…-small-icp" class="headerlink" title="å®‰è£… small_icp"></a>å®‰è£… small_icp</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y libeigen3-dev libomp-dev</span><br><span class="line"></span><br><span class="line">git clone https://github.com/koide3/small_gicp.git</span><br><span class="line">cd small_gicp</span><br><span class="line">mkdir build &amp;&amp; cd build</span><br><span class="line">cmake .. -DCMAKE_BUILD_TYPE=Release &amp;&amp; make -j</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h2 id="å…‹éš†-pb2025-sentry-nav"><a href="#å…‹éš†-pb2025-sentry-nav" class="headerlink" title="å…‹éš† pb2025_sentry_nav"></a>å…‹éš† pb2025_sentry_nav</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --recursive https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_sentry_nav.git src/pb2025_sentry_nav</span><br></pre></td></tr></table></figure><h2 id="ä¸‹è½½å…ˆéªŒç‚¹äº‘"><a href="#ä¸‹è½½å…ˆéªŒç‚¹äº‘" class="headerlink" title="ä¸‹è½½å…ˆéªŒç‚¹äº‘"></a>ä¸‹è½½å…ˆéªŒç‚¹äº‘</h2><p><a href="https://flowus.cn/lihanchen/share/87f81771-fc0c-4e09-a768-db01f4c136f4?code=4PP1RS">FlowUS</a></p><p>æ”¾åˆ° ç›®å½•ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/whale/RM2025/src/pb2025_sentry_nav/pb2025_nav_bringup/pcd/simulation/</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ä¾èµ–-build"><a href="#å®‰è£…ä¾èµ–-build" class="headerlink" title="å®‰è£…ä¾èµ– build"></a>å®‰è£…ä¾èµ– build</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install python3-rosdep</span><br><span class="line">sudo rosdep init #æœ€å¥½æŒ‚æ¢¯å­</span><br><span class="line">rosdep update #æœ€å¥½æŒ‚æ¢¯å­</span><br><span class="line">rosdep install -r --from-paths src --ignore-src --rosdistro $ROS_DISTRO -y</span><br><span class="line">colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release</span><br></pre></td></tr></table></figure><blockquote><p>rosdepçš„ä¸»è¦ç”¨é€”æ˜¯å®‰è£…å·¥ä½œç©ºé—´ä¸­rosåŒ…çš„ä¾èµ–ï¼Œé¦–å…ˆåˆ‡æ¢åˆ°å·¥ä½œç©ºé—´ä¸‹ï¼Œç„¶åè¿è¡Œä¸‹è¿°å‘½ä»¤å³å¯å®‰è£…è¯¥å·¥ä½œç©ºé—´çš„æ‰€æœ‰ä¾èµ–ï¼š</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosdep install --from-paths src --ignore-src -r -y</span><br></pre></td></tr></table></figure><blockquote><p>æ¨èä½¿ç”¨ â€“symlink-install é€‰é¡¹æ¥æ„å»ºä½ çš„å·¥ä½œç©ºé—´ï¼Œå› ä¸º pb2025_sentry_nav å¹¿æ³›ä½¿ç”¨äº† launch.py æ–‡ä»¶å’Œ YAML æ–‡ä»¶ã€‚è¿™ä¸ªæ„å»ºå‚æ•°ä¼šä¸ºé‚£äº›éç¼–è¯‘çš„æºæ–‡ä»¶ä½¿ç”¨ç¬¦å·é“¾æ¥ï¼Œè¿™æ„å‘³ç€å½“ä½ è°ƒæ•´å‚æ•°æ–‡ä»¶æ—¶ï¼Œä¸éœ€è¦åå¤é‡å»ºï¼Œåªéœ€è¦é‡æ–°å¯åŠ¨å³å¯ã€‚(æ‘˜è‡ªé™ˆä½¬)</p></blockquote><h2 id="clone-rmu-gazebo-simulator"><a href="#clone-rmu-gazebo-simulator" class="headerlink" title="clone rmu_gazebo_simulator"></a>clone rmu_gazebo_simulator</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cd ~/RM2025/src/</span><br><span class="line">sudo apt install python3-pip</span><br><span class="line"></span><br><span class="line">git clone https://github.com/gezp/sdformat_tools.git</span><br><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/rmoss_interfaces.git</span><br><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/rmoss_core.git</span><br><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/rmoss_gazebo.git</span><br><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/rmoss_gz_resources.git --depth=1</span><br><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/rmu_gazebo_simulator.git</span><br><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_robot_description.git</span><br><span class="line"></span><br><span class="line">pip install xmacro</span><br></pre></td></tr></table></figure><p><code>pip install xmacro</code>è­¦å‘Š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">whale@UP:~/RM2025/src$ pip install xmacro</span><br><span class="line">Defaulting to user installation because normal site-packages is not writeable</span><br><span class="line">Collecting xmacro</span><br><span class="line">  Downloading xmacro-1.2.1-py3-none-any.whl (10 kB)</span><br><span class="line">Installing collected packages: xmacro</span><br><span class="line">  WARNING: The scripts xmacro, xmacro4sdf and xmacro4urdf are installed in &#x27;/home/whale/.local/bin&#x27; which is not on PATH.</span><br><span class="line">  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span><br><span class="line">Successfully installed xmacro-1.2.1</span><br></pre></td></tr></table></figure><p><code>colcon build</code>è­¦å‘Š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--- stderr: rmoss_base                                                       </span><br><span class="line">In file included from /home/whale/RM2025/src/rmoss_core/rmoss_base/test/test_fixed_packet_tool.cpp:21:</span><br><span class="line">/home/whale/RM2025/src/rmoss_core/rmoss_base/test/dummy_transporter.hpp: In constructor â€˜TransporterFactory::TransporterFactory()â€™:</span><br><span class="line">/home/whale/RM2025/src/rmoss_core/rmoss_base/test/dummy_transporter.hpp:68:9: warning: ignoring return value of â€˜int pipe(int*)â€™ declared with attribute â€˜warn_unused_resultâ€™ [-Wunused-result]</span><br><span class="line">   68 |     pipe(fds1);</span><br><span class="line">      |     ~~~~^~~~~~</span><br><span class="line">/home/whale/RM2025/src/rmoss_core/rmoss_base/test/dummy_transporter.hpp:69:9: warning: ignoring return value of â€˜int pipe(int*)â€™ declared with attribute â€˜warn_unused_resultâ€™ [-Wunused-result]</span><br><span class="line">   69 |     pipe(fds2);</span><br><span class="line">      |     ~~~~^~~~~~</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="è¿è¡ŒæŒ‡ä»¤-å¯åŠ¨ä»¿çœŸ"><a href="#è¿è¡ŒæŒ‡ä»¤-å¯åŠ¨ä»¿çœŸ" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤ å¯åŠ¨ä»¿çœŸ"></a>è¿è¡ŒæŒ‡ä»¤ å¯åŠ¨ä»¿çœŸ</h2><h3 id="æŸ¥çœ‹tfæ ‘"><a href="#æŸ¥çœ‹tfæ ‘" class="headerlink" title="æŸ¥çœ‹tfæ ‘"></a>æŸ¥çœ‹tfæ ‘</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ros-humble-rqt-tf-tree</span><br><span class="line"></span><br><span class="line">ros2 run rqt_tf_tree rqt_tf_tree --ros-args -r /tf:=tf -r /tf_static:=tf_static -r  __ns:=/red_standard_robot1</span><br></pre></td></tr></table></figure><p>å…·ä½“è‡ªè¡Œæ¢ç´¢</p><p><a href="https://github.com/SMBU-PolarBear-Robotics-Team/rmu_gazebo_simulator">SMBU-PolarBear-Robotics-Team</a></p><h3 id="å•æœºå™¨äººå¯¼èˆª"><a href="#å•æœºå™¨äººå¯¼èˆª" class="headerlink" title="å•æœºå™¨äººå¯¼èˆª"></a>å•æœºå™¨äººå¯¼èˆª</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch pb2025_nav_bringup rm_sentry_simulation_launch.py \</span><br><span class="line">world:=rmul_2025 \</span><br><span class="line">slam:=False</span><br></pre></td></tr></table></figure><h3 id="å¼€å¯Gazeboä»¿çœŸ"><a href="#å¼€å¯Gazeboä»¿çœŸ" class="headerlink" title="å¼€å¯Gazeboä»¿çœŸ"></a>å¼€å¯Gazeboä»¿çœŸ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch rmu_gazebo_simulator bringup_sim.launch.py</span><br></pre></td></tr></table></figure><p>éœ€è¦ç‚¹å‡»Gazeboå·¦ä¸‹è§’æŒ‰é’®å¯åŠ¨ä»¿çœŸ</p><blockquote><p>æ§åˆ¶æœºå™¨äººç§»åŠ¨</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rmoss_gz_base test_chassis_cmd.py --ros-args -r __ns:=/red_standard_robot1/robot_base -p v:=0.3 -p w:=0.3</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¹æ®æç¤ºè¿›è¡Œè¾“å…¥ï¼Œæ”¯æŒå¹³ç§»ä¸è‡ªæ—‹</span></span><br></pre></td></tr></table></figure><ul><li><p>é”®ç›˜æ§åˆ¶ï¼š</p></li><li><p>æœºå™¨äººäº‘å°</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rmoss_gz_base test_gimbal_cmd.py --ros-args -r __ns:=/red_standard_robot1/robot_base</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¹æ®æç¤ºè¿›è¡Œè¾“å…¥ï¼Œæ”¯æŒç»å¯¹è§’åº¦æ§åˆ¶</span></span><br></pre></td></tr></table></figure><ul><li>æœºå™¨äººå°„å‡»</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rmoss_gz_base test_shoot_cmd.py --ros-args -r __ns:=/red_standard_robot1/robot_base</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¹æ®æç¤ºè¿›è¡Œè¾“å…¥</span></span><br></pre></td></tr></table></figure><p>èƒ½å¤Ÿæ­£å¸¸ä»¿çœŸ è¾“å‡º tf æ ‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">sudo</span> apt-get update</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">sudo</span> apt-get install ros-humble-rqt-tf-tree</span></span><br><span class="line"></span><br><span class="line">ros2 run rqt_tf_tree rqt_tf_tree --ros-args -r /tf:=tf -r /tf_static:=tf_static -r  __ns:=/red_standard_robot1</span><br></pre></td></tr></table></figure><p><img src="/./images/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/TF_SIM.png"></p><h2 id="ä»¿çœŸè°ƒå‚"><a href="#ä»¿çœŸè°ƒå‚" class="headerlink" title="ä»¿çœŸè°ƒå‚"></a>ä»¿çœŸè°ƒå‚</h2><blockquote><p>è®°å½•ä¿®æ”¹å†…å®¹</p></blockquote><h3 id="description"><a href="#description" class="headerlink" title="description"></a>description</h3><p>å·¥ä½œåŒ…æ”¹ä¸º <code>fzsd2025_robot_description</code></p><p>æœºå™¨äººåå­—æ”¹ä¸º <code>fzsd2025_sentry_rebot</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># robot_description_launch.py</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ament_index_python.packages <span class="keyword">import</span> get_package_share_directory</span><br><span class="line"><span class="keyword">from</span> launch <span class="keyword">import</span> LaunchContext, LaunchDescription</span><br><span class="line"><span class="keyword">from</span> launch.actions <span class="keyword">import</span> DeclareLaunchArgument, OpaqueFunction, SetEnvironmentVariable</span><br><span class="line"><span class="keyword">from</span> launch.conditions <span class="keyword">import</span> IfCondition</span><br><span class="line"><span class="keyword">from</span> launch.substitutions <span class="keyword">import</span> LaunchConfiguration, TextSubstitution</span><br><span class="line"><span class="keyword">from</span> launch_ros.actions <span class="keyword">import</span> Node</span><br><span class="line"><span class="keyword">from</span> sdformat_tools.urdf_generator <span class="keyword">import</span> UrdfGenerator</span><br><span class="line"><span class="keyword">from</span> xmacro.xmacro4sdf <span class="keyword">import</span> XMLMacro4sdf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">launch_setup</span>(<span class="params">context: LaunchContext</span>) -&gt; <span class="built_in">list</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    NOTE: Using OpaqueFunction in order to get the context in string format...</span></span><br><span class="line"><span class="string">    But it is too hacky and not recommended.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    use_sim_time = LaunchConfiguration(<span class="string">&quot;use_sim_time&quot;</span>)</span><br><span class="line">    source_list = LaunchConfiguration(<span class="string">&quot;source_list&quot;</span>)</span><br><span class="line">    rviz_config_file = LaunchConfiguration(<span class="string">&quot;rviz_config_file&quot;</span>)</span><br><span class="line">    use_rviz = LaunchConfiguration(<span class="string">&quot;use_rviz&quot;</span>)</span><br><span class="line">    use_respawn = LaunchConfiguration(<span class="string">&quot;use_respawn&quot;</span>)</span><br><span class="line">    log_level = LaunchConfiguration(<span class="string">&quot;log_level&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Map fully qualified names to relative ones so the node&#x27;s namespace can be prepended.</span></span><br><span class="line">    <span class="comment"># In case of the transforms (tf), currently, there doesn&#x27;t seem to be a better alternative</span></span><br><span class="line">    <span class="comment"># https://github.com/ros/geometry2/issues/32</span></span><br><span class="line">    <span class="comment"># https://github.com/ros/robot_state_publisher/pull/30</span></span><br><span class="line">    <span class="comment"># TODO(orduno) Substitute with `PushNodeRemapping`</span></span><br><span class="line">    <span class="comment">#              https://github.com/ros2/launch_ros/issues/56</span></span><br><span class="line">    remappings = [(<span class="string">&quot;/tf&quot;</span>, <span class="string">&quot;tf&quot;</span>), (<span class="string">&quot;/tf_static&quot;</span>, <span class="string">&quot;tf_static&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Load the robot xmacro file from the launch configuration</span></span><br><span class="line">    xmacro = XMLMacro4sdf()</span><br><span class="line">    xmacro.set_xml_file(context.launch_configurations[<span class="string">&quot;robot_xmacro_file&quot;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Generate SDF from xmacro</span></span><br><span class="line">    xmacro.generate()</span><br><span class="line">    robot_xml = xmacro.to_string()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Generate URDF from SDF</span></span><br><span class="line">    urdf_generator = UrdfGenerator()</span><br><span class="line">    urdf_generator.parse_from_sdf_string(robot_xml)</span><br><span class="line">    robot_urdf_xml = urdf_generator.to_string()</span><br><span class="line"></span><br><span class="line">    stdout_linebuf_envvar = SetEnvironmentVariable(</span><br><span class="line">        <span class="string">&quot;RCUTILS_LOGGING_BUFFERED_STREAM&quot;</span>, <span class="string">&quot;1&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    colorized_output_envvar = SetEnvironmentVariable(<span class="string">&quot;RCUTILS_COLORIZED_OUTPUT&quot;</span>, <span class="string">&quot;1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    start_joint_state_publisher_node = Node(</span><br><span class="line">        package=<span class="string">&quot;joint_state_publisher&quot;</span>,</span><br><span class="line">        executable=<span class="string">&quot;joint_state_publisher&quot;</span>,</span><br><span class="line">        name=<span class="string">&quot;joint_state_publisher&quot;</span>,</span><br><span class="line">        output=<span class="string">&quot;screen&quot;</span>,</span><br><span class="line">        respawn=use_respawn,</span><br><span class="line">        respawn_delay=<span class="number">2.0</span>,</span><br><span class="line">        parameters=[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;use_sim_time&quot;</span>: use_sim_time,</span><br><span class="line">                <span class="string">&quot;rate&quot;</span>: <span class="number">200</span>,</span><br><span class="line">                <span class="string">&quot;source_list&quot;</span>: source_list,</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        arguments=[<span class="string">&quot;--ros-args&quot;</span>, <span class="string">&quot;--log-level&quot;</span>, log_level],</span><br><span class="line">        remappings=remappings,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    start_robot_state_publisher_node = Node(</span><br><span class="line">        package=<span class="string">&quot;robot_state_publisher&quot;</span>,</span><br><span class="line">        executable=<span class="string">&quot;robot_state_publisher&quot;</span>,</span><br><span class="line">        output=<span class="string">&quot;screen&quot;</span>,</span><br><span class="line">        respawn=use_respawn,</span><br><span class="line">        respawn_delay=<span class="number">2.0</span>,</span><br><span class="line">        parameters=[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;use_sim_time&quot;</span>: use_sim_time,</span><br><span class="line">                <span class="string">&quot;publish_frequency&quot;</span>: <span class="number">200.0</span>,</span><br><span class="line">                <span class="string">&quot;robot_description&quot;</span>: robot_urdf_xml,</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        arguments=[<span class="string">&quot;--ros-args&quot;</span>, <span class="string">&quot;--log-level&quot;</span>, log_level],</span><br><span class="line">        remappings=remappings,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    start_rviz_node = Node(</span><br><span class="line">        condition=IfCondition(use_rviz),</span><br><span class="line">        package=<span class="string">&quot;rviz2&quot;</span>,</span><br><span class="line">        executable=<span class="string">&quot;rviz2&quot;</span>,</span><br><span class="line">        arguments=[<span class="string">&quot;-d&quot;</span>, rviz_config_file],</span><br><span class="line">        output=<span class="string">&quot;screen&quot;</span>,</span><br><span class="line">        remappings=remappings,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        stdout_linebuf_envvar,</span><br><span class="line">        colorized_output_envvar,</span><br><span class="line">        start_joint_state_publisher_node,</span><br><span class="line">        start_robot_state_publisher_node,</span><br><span class="line">        start_rviz_node,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_launch_description</span>():</span><br><span class="line">    <span class="comment"># Get the launch directory</span></span><br><span class="line">    bringup_dir = get_package_share_directory(<span class="string">&quot;fzsd2025_robot_description&quot;</span>)   <span class="comment">#     get_package_share_directory(&quot;fzsd2025_robot_description&quot;)</span></span><br><span class="line"></span><br><span class="line">    declare_use_sim_time_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;use_sim_time&quot;</span>,</span><br><span class="line">        default_value=<span class="string">&quot;False&quot;</span>,</span><br><span class="line">        description=<span class="string">&quot;Use simulation (Gazebo) clock if true&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_robot_name_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;robot_name&quot;</span>,</span><br><span class="line">        default_value=<span class="string">&quot;fzsd2025_sentry_robot&quot;</span>,   <span class="comment">#  # default_value=&quot;fzsd2025_sentry_robot&quot;,</span></span><br><span class="line">        description=<span class="string">&quot;The file name of the robot xmacro to be used&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_robot_xmacro_file_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;robot_xmacro_file&quot;</span>,</span><br><span class="line">        default_value=[</span><br><span class="line">            <span class="comment"># Use TextSubstitution to concatenate strings</span></span><br><span class="line">            TextSubstitution(text=os.path.join(bringup_dir, <span class="string">&quot;resource&quot;</span>, <span class="string">&quot;xmacro&quot;</span>, <span class="string">&quot;&quot;</span>)),</span><br><span class="line">            LaunchConfiguration(<span class="string">&quot;robot_name&quot;</span>),</span><br><span class="line">            TextSubstitution(text=<span class="string">&quot;.sdf.xmacro&quot;</span>),</span><br><span class="line">        ],</span><br><span class="line">        description=<span class="string">&quot;The file path of the robot xmacro to be used&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_source_list_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;source_list&quot;</span>,</span><br><span class="line">        default_value=<span class="string">&quot;[&#x27;serial/gimbal_joint_state&#x27;]&quot;</span>,</span><br><span class="line">        description=<span class="string">&quot;Array of topic names for subscriptions to sensor_msgs/msg/JointStates. Defaults to [&#x27;serial/gimbal_joint_state&#x27;]&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_rviz_config_file_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;rviz_config_file&quot;</span>,</span><br><span class="line">        default_value=os.path.join(bringup_dir, <span class="string">&quot;rviz&quot;</span>, <span class="string">&quot;visualize_robot.rviz&quot;</span>),</span><br><span class="line">        description=<span class="string">&quot;Full path to the RViz config file to use&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_use_rviz_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;use_rviz&quot;</span>, default_value=<span class="string">&quot;True&quot;</span>, description=<span class="string">&quot;Whether to start RViz&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_use_respawn_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;use_respawn&quot;</span>,</span><br><span class="line">        default_value=<span class="string">&quot;False&quot;</span>,</span><br><span class="line">        description=<span class="string">&quot;Whether to respawn if a node crashes. Applied when composition is disabled.&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    declare_log_level_cmd = DeclareLaunchArgument(</span><br><span class="line">        <span class="string">&quot;log_level&quot;</span>, default_value=<span class="string">&quot;info&quot;</span>, description=<span class="string">&quot;log level&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Create the launch description and populate</span></span><br><span class="line">    ld = LaunchDescription()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Declare the launch options</span></span><br><span class="line">    ld.add_action(declare_use_sim_time_cmd)</span><br><span class="line">    ld.add_action(declare_robot_name_cmd)</span><br><span class="line">    ld.add_action(declare_robot_xmacro_file_cmd)</span><br><span class="line">    ld.add_action(declare_source_list_cmd)</span><br><span class="line">    ld.add_action(declare_rviz_config_file_cmd)</span><br><span class="line">    ld.add_action(declare_use_rviz_cmd)</span><br><span class="line">    ld.add_action(declare_use_respawn_cmd)</span><br><span class="line">    ld.add_action(declare_log_level_cmd)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Add the actions to launch all of the nodes</span></span><br><span class="line">    ld.add_action(OpaqueFunction(function=launch_setup))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ld</span><br></pre></td></tr></table></figure><p><code>CMakeList.txt</code></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.5</span>)</span><br><span class="line"><span class="keyword">project</span>(fzsd2025_robot_description)</span><br><span class="line"></span><br><span class="line"><span class="keyword">find_package</span>(ament_cmake REQUIRED)</span><br><span class="line"></span><br><span class="line"><span class="keyword">install</span>(DIRECTORY</span><br><span class="line">    launch</span><br><span class="line">    resource</span><br><span class="line">    rviz</span><br><span class="line"></span><br><span class="line">    DESTINATION share/<span class="variable">$&#123;PROJECT_NAME&#125;</span>/</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">#environment</span></span><br><span class="line">ament_environment_hooks(<span class="string">&quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/env-hooks/gazebo.dsv.in&quot;</span>)</span><br><span class="line"></span><br><span class="line">ament_package()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>rvizæŸ¥çœ‹æœºå™¨äºº <code>ros2 launch fzsd2025_robot_description robot_description_launch.py</code><br>æŠ¥é”™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package &#x27;joint_state_publisher&#x27; not found, </span><br></pre></td></tr></table></figure><p>åŸå›  ç›®å‰ æ²¡æœ‰éƒ¨ç½²å®é™…çš„æœºå™¨äººï¼Œæ‰€ä»¥æ³¨é‡Š<a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_robot_description/blob/2543d91e1b5bc70fd2d6cfb259f651642d8c1f73/launch/robot_description_launch.py#L71">joint_state_publisher</a> </p><blockquote><p>standard_robot_pp_ros2è·å–ç”µæ§å‘é€çš„gimbal_yawå’Œgimbal_pitchå§¿æ€ï¼Œä»¥JointStateçš„æ•°æ®ç±»å‹å‘å¸ƒåˆ°topic &#x2F;gimbal_joint_state <a href="https://github.com/SMBU-PolarBear-Robotics-Team/standard_robot_pp_ros2/blob/e5fa63f1489038559c59c190bc9616e41ff637ff/launch/standard_robot_pp_ros2.launch.py#L142">è¯¦è§Github</a></p></blockquote><blockquote><p>è€Œåpb_robot_descriptionçš„launchæ–‡ä»¶ä¸­å¯åŠ¨äº†joint_state_publisherï¼Œä»–ä¼šè®¢é˜…&#x2F;gimbal_joint_stateï¼Œç„¶åæ•´åˆå‘å¸ƒåˆ°&#x2F;joint_state <a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_robot_description/blob/2543d91e1b5bc70fd2d6cfb259f651642d8c1f73/launch/robot_description_launch.py#L64">Github</a></p></blockquote><blockquote><p>æœ€å<a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_robot_description/blob/2543d91e1b5bc70fd2d6cfb259f651642d8c1f73/launch/robot_description_launch.py#L71">robot_state_publisher</a> ä¼šè®¢é˜… &#x2F;joint_stateï¼Œç„¶åè½¬åŒ–æˆtfä¿¡æ¯å’Œrobot_descriptionï¼Œå»ºç«‹æ•´è½¦tf tree</p></blockquote><p>é‡æ–°è¾“å…¥æŒ‡ä»¤ æˆåŠŸåœ¨rvizæ˜¾ç¤º</p><h4 id="ä¿®æ”¹-é›·è¾¾åæ ‡ç³»"><a href="#ä¿®æ”¹-é›·è¾¾åæ ‡ç³»" class="headerlink" title="ä¿®æ”¹ é›·è¾¾åæ ‡ç³»"></a>ä¿®æ”¹ é›·è¾¾åæ ‡ç³»</h4><p><code>/home/whale/RM2025/src/fzsd2025_robot_description/resource/xmacro/fzsd2025_sentry_robot.sdf.xmacro</code></p><p>é›·è¾¾åœ¨äº‘å°ä¸Šç›´æ¥ä¿®æ”¹åæ ‡ å¦‚æœåœ¨åº•ç›˜ éœ€è¦æ‰‹åŠ¨ç»´æŠ¤åº•ç›˜åˆ°äº‘å°çš„tf</p><p>è¿™é‡Œåœ¨äº‘å°ä¸Š ç›´æ¥ä¿®æ”¹åæ ‡</p><p>æ‰¾åˆ° <code>livox</code></p><p>ä¿®æ”¹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--livox--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xmacro_block</span> <span class="attr">name</span>=<span class="string">&quot;livox&quot;</span> <span class="attr">prefix</span>=<span class="string">&quot;front_&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;chassis&quot;</span> <span class="attr">pose</span>=<span class="string">&quot;0.16 0.0 0.18 $&#123;pi/6&#125; 0.0 $&#123;pi/2&#125;&quot;</span> <span class="attr">update_rate</span>=<span class="string">&quot;20&quot;</span> <span class="attr">samples</span>=<span class="string">&quot;1875&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸º</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- livox // chassis  gimbal_pitch  gimbal_yaw    --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xmacro_block</span> <span class="attr">name</span>=<span class="string">&quot;livox&quot;</span> <span class="attr">prefix</span>=<span class="string">&quot;front_&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;gimbal_yaw&quot;</span> <span class="attr">pose</span>=<span class="string">&quot;-0.066 -0.1065 0.399 $&#123;pi&#125; 0.0 $&#123;pi&#125;&quot;</span> <span class="attr">update_rate</span>=<span class="string">&quot;10&quot;</span> <span class="attr">samples</span>=<span class="string">&quot;400&quot;</span> <span class="attr">visualize</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><ul><li>update_rateï¼šé›·è¾¾çš„æ›´æ–°é¢‘ç‡ï¼Œä»¥èµ«å…¹ä¸ºå•ä½ã€‚è¿™å‚æ•°å†³å®šäº†é›·è¾¾å‘é€æ•°æ®çš„é¢‘ç‡ã€‚</li><li>samplesï¼šé›·è¾¾çš„é‡‡æ ·æ•°ï¼Œå³æ¯ä¸ªæ¯æ¬¡å‘é€çš„æ•°æ®ç‚¹æ•°ã€‚</li></ul><blockquote><p>xmacro_block å…ƒç´ çš„ pose å±æ€§ã€‚è¿™ä¸ªå±æ€§å®šä¹‰äº†é›·è¾¾ç›¸å¯¹äºçˆ¶çº§ï¼ˆparentï¼‰åæ ‡ç³»çš„ä½å§¿ã€‚pose å±æ€§çš„æ ¼å¼æ˜¯ x y z roll pitch yawï¼Œå…¶ä¸­ xã€y å’Œ z æ˜¯é›·è¾¾ç›¸å¯¹äºçˆ¶çº§åæ ‡ç³»çš„ä½ç½®ï¼Œrollã€pitch å’Œ yaw æ˜¯é›·è¾¾ç›¸å¯¹äºçˆ¶çº§åæ ‡ç³»çš„æ—‹è½¬è§’åº¦ã€‚</p></blockquote><blockquote><p>æ³¨æ„ xyzä»¥ç±³ä¸ºå•ä½, rollã€pitch å’Œ yaw çš„å•ä½æ˜¯å¼§åº¦ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯åº¦æ•°ï¼Œä½ éœ€è¦å°†å®ƒä»¬è½¬æ¢ä¸ºå¼§åº¦ã€‚ä¾‹å¦‚ï¼Œ45 åº¦è½¬æ¢ä¸ºå¼§åº¦æ˜¯ 0.785398ï¼Œ15 åº¦è½¬æ¢ä¸ºå¼§åº¦æ˜¯ 0.261799ï¼Œ135 åº¦è½¬æ¢ä¸ºå¼§åº¦æ˜¯ 2.35619, ä¹Ÿå¯ä»¥åƒæˆ‘ä¸€æ ·ç”¨piè¡¨ç¤º <a href="https://www.ros.org/reps/rep-0103.html">ROSä¸­çš„å•ä½æ ‡å‡†_ REP-0103 </a></p></blockquote><p><img src="/images/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/image.png" alt=" "></p><p><img src="/images/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/image-1.png"></p><p>æŸ¥çœ‹tf</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rqt_tf_tree rqt_tf_tree --ros-args -r /tf:=tf -r /tf_static:=tf_static </span><br></pre></td></tr></table></figure><p><img src="/./images/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/Robot.png" alt="alt text"></p><p>æŸ¥çœ‹å®è½¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch fzsd2025_robot_description robot_description.launch.py</span><br></pre></td></tr></table></figure><p><img src="/images/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/image-2.png"></p><h3 id="é‡æ–°å»ºå›¾"><a href="#é‡æ–°å»ºå›¾" class="headerlink" title="é‡æ–°å»ºå›¾"></a>é‡æ–°å»ºå›¾</h3><blockquote><p>æ­¤æ—¶éœ€è¦é‡æ–°å»ºå›¾å®šä½ ä¿®æ”¹éƒ¨åˆ†å‚æ•° å¦åˆ™è½¦å­æ˜¯æ­ªçš„</p></blockquote><p>ä¿®æ”¹ <code>pb2025_nav_bringup/config/</code>ä¸­çš„<code>nav2</code>æ–‡ä»¶ é‡åŠ›åŠ é€Ÿåº¦è®¾ä¸ºæ­£çš„</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gravity:</span> [ <span class="number">0.0</span>, <span class="number">0.0</span> , <span class="number">9.8</span> ]     <span class="comment"># å€’è£…è®¾ç½®ä¸º +9.8    </span></span><br><span class="line">    <span class="attr">gravity_init:</span> [ <span class="number">0.0</span>, <span class="number">0.0</span> , <span class="number">9.8</span> ]   <span class="comment">#mid3360å•ä½ä¸º&#x27;g&#x27; åæœŸæœ‰é—®é¢˜å¾—ä¿®æ”¹</span></span><br><span class="line">    <span class="comment"># gravity: [0.0, -4.9, -8.487]                   # gravity to be aligned # rpy = [0, pi/6, 0]</span></span><br><span class="line">    <span class="comment"># gravity_init: [0.0, -4.9, -8.487]              # preknown gravity in the first IMU body frame, use when imu_en is False or start from a non-stationary state</span></span><br></pre></td></tr></table></figure><p>è¿è¡ŒæŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch pb2025_nav_bringup rm_sentry__launch.py \</span><br><span class="line">slam:=True \</span><br><span class="line">use_robot_state_pub:=True</span><br></pre></td></tr></table></figure><p>é”®ç›˜æ§åˆ¶æœºå™¨äºº å¹³ç§» æ—‹è½¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rmoss_gz_base test_chassis_cmd.py --ros-args -r __ns:=/red_standard_robot1/robot_base -p v:=0.3 -p w:=0.3</span><br></pre></td></tr></table></figure><p>ç»å¯¹è§’åº¦æ§åˆ¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rmoss_gz_base test_gimbal_cmd.py --ros-args -r __ns:=/red_standard_robot1/robot_base</span><br></pre></td></tr></table></figure><p>å°„å‡»</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run rmoss_gz_base test_shoot_cmd.py --ros-args -r __ns:=/red_standard_robot1/robot_base</span><br></pre></td></tr></table></figure><p>ç»“æŸè¿è¡Œä¼šè‡ªåŠ¨ä¿å­˜åˆ° <code>pointlio/PCD/</code>ç›®å½•ä¸‹ é»˜è®¤åå­—ä¸º<code>scans</code> </p><p>æŸ¥çœ‹ç‚¹äº‘å›¾</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install pcl-tools</span><br><span class="line">pcl_viewer -fc 255,255,255 -ax 3 scans.pcd</span><br></pre></td></tr></table></figure><p><img src="/images/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/image-3.png"></p><h3 id="pcd2pgm"><a href="#pcd2pgm" class="headerlink" title="pcd2pgm"></a>pcd2pgm</h3><p>æ–°å»ºå·¥ä½œç©ºé—´</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/LihanChen2004/pcd2pgm.git</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¾èµ– æ„å»ºç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rosdep install -r --from-paths src --ignore-src --rosdistro $ROS_DISTRO -y</span><br><span class="line">colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=release</span><br></pre></td></tr></table></figure><p>pcd2pgm.ymlå‚æ•°è§£è¯»å’Œä¿®æ”¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pcd2pgm:</span></span><br><span class="line">  <span class="attr">ros__parameters:</span></span><br><span class="line">    <span class="attr">pcd_file:</span> <span class="string">/home/whale/ros_ws/pcd2pgm/src/PCD/rmul_2025.pcd</span></span><br><span class="line">    <span class="comment"># odom_to_lidar_odom: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]</span></span><br><span class="line">    <span class="comment"># odom_to_lidar_odom: [-0.16, 0.0, -0.18, -0.523599, 0.0, -1.5707963] # PBæ•°æ®</span></span><br><span class="line">    <span class="attr">odom_to_lidar_odom:</span> [ <span class="number">-0.066</span> , <span class="number">-0.106</span> , <span class="number">0.399</span> , <span class="number">3.1415926</span> , <span class="number">0.0</span> , <span class="number">3.1415926</span> ] <span class="comment"># FZSDæ•°æ®åˆ°æ¿€å…‰é›·è¾¾çš„åæ ‡å˜æ¢ï¼ˆç”¨äºå˜æ¢ç‚¹äº‘ï¼‰</span></span><br><span class="line">    <span class="attr">flag_pass_through:</span> <span class="literal">false</span>                                        <span class="comment"># æ˜¯å¦ä½¿ç”¨ Pass Through æ»¤æ³¢å™¨</span></span><br><span class="line">    <span class="attr">map_resolution:</span> <span class="number">0.05</span>                                            <span class="comment"># åœ°å›¾åˆ†è¾¨ç‡</span></span><br><span class="line">    <span class="attr">map_topic_name:</span> <span class="string">map</span>                                             <span class="comment"># å‘å¸ƒåœ°å›¾çš„ ROS è¯é¢˜å</span></span><br><span class="line">    <span class="attr">thre_radius:</span> <span class="number">0.1</span>                                                <span class="comment"># Radius Outlier æ»¤æ³¢å™¨åŠå¾„</span></span><br><span class="line">    <span class="attr">thre_z_max:</span> <span class="number">2.0</span>                                                 <span class="comment"># Zè½´æœ€å¤§å€¼ï¼ˆç”¨äº Pass Through æ»¤æ³¢å™¨ï¼‰</span></span><br><span class="line">    <span class="attr">thre_z_min:</span> <span class="number">0.1</span>                                                 <span class="comment"># Zè½´æœ€å°å€¼ï¼ˆç”¨äº Pass Through æ»¤æ³¢å™¨ï¼‰</span></span><br><span class="line">    <span class="attr">thres_point_count:</span> <span class="number">10</span>                                           <span class="comment"># æœ€å°ç‚¹æ•°é˜ˆå€¼ï¼ˆç”¨äº Radius Outlier æ»¤æ³¢å™¨ï¼‰</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹PCDç›®å½• å’Œ <code>odom_to_lidar_odom</code> nav2_param ä¸­çš„ robot_base_frame æœºå™¨äººé€Ÿåº¦å‚è€ƒç³»åˆ°æ¿€å…‰é›·è¾¾çš„å˜æ¢å…³ç³»ã€‚ è¿™é‡Œæ˜¯ <code>gimbal_yaw</code> å˜æ¢å€¼  </p></blockquote><p>è¿è¡Œç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run pcd2pgm pcd2pgm_launch.py</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ …æ ¼åœ°å›¾</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run nav2_map_server map_saver_cli -f &lt;YOUR_MAP_NAME&gt;</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-GIMP-ä¿®å›¾"><a href="#å®‰è£…-GIMP-ä¿®å›¾" class="headerlink" title="å®‰è£… GIMP ä¿®å›¾"></a>å®‰è£… GIMP ä¿®å›¾</h3><p>è¿›å…¥ <a href="https://www.gimp.org/downloads/">GIMPå®˜ç½‘</a> å®‰è£…</p><p>ä½¿ç”¨ flatpak åŒ…ç®¡ç†å™¨å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">778  flatpak install org.gimp.GIMP.flatpakref </span><br><span class="line">779  sudo apt install flatpak</span><br><span class="line">780  flatpak install org.gimp.GIMP.flatpakref </span><br><span class="line">781  flatpak remove  org.gimp.GIMP.flatpakref </span><br><span class="line">782  flatpak uninstall  org.gimp.GIMP.flatpakref </span><br></pre></td></tr></table></figure><p>æ„Ÿè§‰æ¯”è¾ƒéº»çƒ¦ æ²¡ç”¨è¿‡è¿™ä¸ª æœç´¢ä¸€ç•ªåå†³å®šç›´æ¥aptå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gimp</span><br></pre></td></tr></table></figure><p>æˆåŠŸ ï¼</p><blockquote><p>æœ‰ä¸€ä¸ªæ³¨æ„çš„ç‚¹ ç›´æ¥å¦å­˜ä¸ºå¯¼å‡ºæ²¡æœ‰<code>.pgm</code> é€‰é¡¹ éœ€è¦ä½¿ç”¨å·¦ä¸Šè§’æ–‡ä»¶ -&gt;  <code>export</code> é€‰é¡¹(å¯¼å‡ºä¸º) æ‰å¯é€‰æ‹©å¤šç§æ ¼å¼ ä¹Ÿå¯ä»¥å¿«æ·é”® <code>Shift+Ctrl+E</code> å¯¼å‡º</p></blockquote><h3 id="é‡æ–°ç¼–è¯‘"><a href="#é‡æ–°ç¼–è¯‘" class="headerlink" title="é‡æ–°ç¼–è¯‘"></a>é‡æ–°ç¼–è¯‘</h3><p>å°†<code>rmul_2025.pcd</code> æ”¾åˆ° pb2025_nav_bringup&#x2F;pcd çš„ reality æˆ– simulation æ–‡ä»¶å¤¹å†…</p><p>å°†<code>rmul_2025.pgm</code> å’Œ <code>rmul_2025.yaml</code> æ–‡ä»¶ç§»åŠ¨åˆ° pb2025_nav_bringup&#x2F;map ä¸­çš„ reality æˆ– simulation æ–‡ä»¶å¤¹å†…</p><blockquote><p><code>rmul_2025.yaml</code> æ–‡ä»¶ä¸­çš„ image å­—æ®µåç§°éœ€è¦ä¿®æ”¹ä¸º <code>rmul_2025.pgm</code></p></blockquote><p>ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release</span><br></pre></td></tr></table></figure><h2 id="å±€åŸŸç½‘å¯¹æˆ˜"><a href="#å±€åŸŸç½‘å¯¹æˆ˜" class="headerlink" title="å±€åŸŸç½‘å¯¹æˆ˜"></a>å±€åŸŸç½‘å¯¹æˆ˜</h2><p><a href="http://localhost:5000/">æ“ä½œæ‰‹ç«¯å£</a> <a href="http://localhost:5000/">http://localhost:5000/</a>  ä¿®æ”¹ä¸ºå¯¹åº”ç«¯å£å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 src/rmu_gazebo_simulator/scripts/player_web/main_no_vision.py</span><br></pre></td></tr></table></figure><p>å¯èƒ½é‡åˆ°æŠ¥é”™å®‰è£…ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip3 install python-engineio</span><br><span class="line">pip3 install python-socketio flask-socketio</span><br><span class="line">pip3 install flask-cors</span><br></pre></td></tr></table></figure><p>é‡æ–°è¿è¡Œå³å¯</p><h1 id="å®è½¦éƒ¨ç½²"><a href="#å®è½¦éƒ¨ç½²" class="headerlink" title="å®è½¦éƒ¨ç½²"></a>å®è½¦éƒ¨ç½²</h1><h2 id="æŒ‡ä»¤é›†"><a href="#æŒ‡ä»¤é›†" class="headerlink" title="æŒ‡ä»¤é›†"></a>æŒ‡ä»¤é›†</h2><h3 id="æ‰‹åŠ¨è¾“å‡ºé€Ÿåº¦"><a href="#æ‰‹åŠ¨è¾“å‡ºé€Ÿåº¦" class="headerlink" title="æ‰‹åŠ¨è¾“å‡ºé€Ÿåº¦"></a>æ‰‹åŠ¨è¾“å‡ºé€Ÿåº¦</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub /cmd_vel geometry_msgs/msg/Twist &quot;&#123;linear: &#123;x: 0.5, y: 0.0, z: 0.0&#125;, angular: &#123;x: 0.0, y: 0.0, z: 0.2&#125;&#125;&quot;</span><br></pre></td></tr></table></figure><h3 id="ç›‘æ§ä¸²å£è¾“å‡º"><a href="#ç›‘æ§ä¸²å£è¾“å‡º" class="headerlink" title="ç›‘æ§ä¸²å£è¾“å‡º"></a>ç›‘æ§ä¸²å£è¾“å‡º</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cat /dev/ttyUSB0 | hexdump -C</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å…·ä½“è®¢é˜…å…³ç³»"><a href="#æŸ¥çœ‹å…·ä½“è®¢é˜…å…³ç³»" class="headerlink" title="æŸ¥çœ‹å…·ä½“è®¢é˜…å…³ç³»"></a>æŸ¥çœ‹å…·ä½“è®¢é˜…å…³ç³»</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic info /red_standard_robot1/cmd_vel</span><br></pre></td></tr></table></figure><h2 id="ä¸²å£é€šä¿¡-cutecom"><a href="#ä¸²å£é€šä¿¡-cutecom" class="headerlink" title="ä¸²å£é€šä¿¡ cutecom"></a>ä¸²å£é€šä¿¡ cutecom</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install cutecom</span><br></pre></td></tr></table></figure><h1 id="é€šä¿¡standard-robot-pp-ros2"><a href="#é€šä¿¡standard-robot-pp-ros2" class="headerlink" title="é€šä¿¡standard_robot_pp_ros2"></a><a href="https://github.com/SMBU-PolarBear-Robotics-Team/standard_robot_pp_ros2.git">é€šä¿¡standard_robot_pp_ros2</a></h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/SMBU-PolarBear-Robotics-Team/standard_robot_pp_ros2.git</span><br><span class="line">sudo apt install python3-vcstool</span><br><span class="line"></span><br><span class="line">vcs import --input standard_robot_pp_ros2/.github/dependency.repos</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¯·æŸ¥çœ‹ vcs å¯¼å…¥çš„å­ä»“åº“çš„ READMEï¼Œå¹¶æŒ‰ç…§å…¶è¯´æ˜ é€’è¿›åœ°å®‰è£…å­ä»“åº“çš„ä¾èµ–é¡¹ã€‚</span></span><br><span class="line">rosdep install -r --from-paths src --ignore-src --rosdistro $ROS_DISTRO -y</span><br><span class="line"></span><br><span class="line">./script/create_udev_rules.sh</span><br><span class="line"></span><br><span class="line">colcon build --symlink-install</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚éœ€å¼€å¯ RViz å¯è§†åŒ–ï¼Œè¯·æ·»åŠ  use_rviz:=True å‚æ•°ã€‚</span></span><br><span class="line">ros2 launch standard_robot_pp_ros2 standard_robot_pp_ros2.launch.py</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="é€šä¿¡-Vision-serial-driver"><a href="#é€šä¿¡-Vision-serial-driver" class="headerlink" title="é€šä¿¡ Vision serial driver"></a>é€šä¿¡ Vision serial driver</h1><h2 id="ç¨‹åº"><a href="#ç¨‹åº" class="headerlink" title="ç¨‹åº"></a>ç¨‹åº</h2><p><code>vision serial driver node</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;../include/vision_serial_driver/vision_serial_driver_node.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line">serial_driver_node::<span class="built_in">serial_driver_node</span>(std::string device_name, std::string node_name)</span><br><span class="line">    <span class="comment">// : rclcpp::Node(node_name), vArray&#123;new visionArray&#125;, rArray&#123;new robotArray&#125;,</span></span><br><span class="line">    : rclcpp::<span class="built_in">Node</span>(node_name), rArray&#123;<span class="keyword">new</span> robotArray&#125;, nArray&#123;<span class="keyword">new</span> navArray&#125;,</span><br><span class="line">      dev_name&#123;<span class="keyword">new</span> std::<span class="built_in">string</span>(device_name)&#125;,</span><br><span class="line">      portConfig&#123;<span class="keyword">new</span> <span class="built_in">SerialPortConfig</span>(<span class="number">115200</span>, FlowControl::NONE, Parity::NONE, StopBits::ONE)&#125;, ctx&#123;<span class="built_in">IoContext</span>(<span class="number">2</span>)&#125;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">RCLCPP_INFO</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;èŠ‚ç‚¹:/%så¯åŠ¨&quot;</span>, node_name.<span class="built_in">c_str</span>());</span><br><span class="line">  muzzleSpeedFilter.Size=<span class="number">10</span>;</span><br><span class="line">  <span class="comment">// æ¸…é›¶</span></span><br><span class="line">  <span class="comment">// memset(vArray-&gt;array, 0, sizeof(visionArray));</span></span><br><span class="line">  <span class="built_in">memset</span>(rArray-&gt;array, <span class="number">0</span>, <span class="built_in">sizeof</span>(robotArray));</span><br><span class="line">  <span class="built_in">memset</span>(nArray-&gt;array, <span class="number">0</span>, <span class="built_in">sizeof</span>(navArray));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®é‡å¯è®¡æ—¶å™¨1hz.</span></span><br><span class="line">  reopenTimer = <span class="built_in">create_wall_timer</span>(</span><br><span class="line">      <span class="number">1</span>s, std::<span class="built_in">bind</span>(&amp;serial_driver_node::serial_reopen_callback, <span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®å‘å¸ƒè®¡æ—¶å™¨500hz.</span></span><br><span class="line">  publishTimer = <span class="built_in">create_wall_timer</span>(</span><br><span class="line">      <span class="number">2</span>ms, std::<span class="built_in">bind</span>(&amp;serial_driver_node::robot_callback, <span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// TF broadcaster</span></span><br><span class="line">  timestamp_offset_ = <span class="keyword">this</span>-&gt;<span class="built_in">declare_parameter</span>(<span class="string">&quot;timestamp_offset&quot;</span>, <span class="number">0.006</span>);</span><br><span class="line">  tf_broadcaster_ = std::<span class="built_in">make_unique</span>&lt;tf2_ros::TransformBroadcaster&gt;(*<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Detect parameter client</span></span><br><span class="line">  <span class="comment">// detector_param_client_ = std::make_shared&lt;rclcpp::AsyncParametersClient&gt;(this, &quot;armor_detector&quot;);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘å¸ƒRobotä¿¡æ¯.</span></span><br><span class="line">  publisher = <span class="built_in">create_publisher</span>&lt;vision_interfaces::msg::Robot&gt;(</span><br><span class="line">      <span class="string">&quot;/serial_driver/robot&quot;</span>, rclcpp::<span class="built_in">SensorDataQoS</span>());</span><br><span class="line"></span><br><span class="line">  <span class="comment">// // è®¢é˜…AutoAimä¿¡æ¯.</span></span><br><span class="line">  <span class="comment">// autoAimSub = create_subscription&lt;vision_interfaces::msg::AutoAim&gt;(</span></span><br><span class="line">  <span class="comment">//     &quot;/serial_driver/aim_target&quot;, rclcpp::SensorDataQoS(), std::bind(&amp;serial_driver_node::auto_aim_callback, this, std::placeholders::_1));</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//è®¢é˜…å¯¼èˆªä¿¡æ¯.</span></span><br><span class="line">  navSub = <span class="built_in">create_subscription</span>&lt;geometry_msgs::msg::Twist&gt;(</span><br><span class="line">    <span class="comment">// &quot;/red_standard_robot1/cmd_vel&quot;,  // ç¡®ä¿è¯é¢˜åç§°ä¸å®é™…ä¸€è‡´</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;/red_standard_robot1/cmd_vel&quot;</span>,</span><br><span class="line">    <span class="comment">// &quot;/cmd_vel&quot;,</span></span><br><span class="line">    rclcpp::<span class="built_in">SensorDataQoS</span>(),</span><br><span class="line">    std::<span class="built_in">bind</span>(&amp;serial_driver_node::nav_callback, <span class="keyword">this</span>, std::placeholders::_1)</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">// è®¾ç½®ä¸²å£è¯»å–çº¿ç¨‹.</span></span><br><span class="line">  serialReadThread = std::<span class="built_in">thread</span>(&amp;serial_driver_node::serial_read_thread, <span class="keyword">this</span>);</span><br><span class="line">  serialReadThread.<span class="built_in">detach</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">serial_driver_node::~<span class="built_in">serial_driver_node</span>()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">is_open</span>())</span><br><span class="line">  &#123;</span><br><span class="line">    serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">close</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">serial_driver_node::serial_reopen_callback</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// ä¸²å£å¤±æ•ˆæ—¶å°è¯•é‡å¯</span></span><br><span class="line">  <span class="keyword">if</span> (!isOpen)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">RCLCPP_WARN</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;é‡å¯ä¸²å£:%s...&quot;</span>, dev_name-&gt;<span class="built_in">c_str</span>());</span><br><span class="line">      serialDriver.<span class="built_in">init_port</span>(*dev_name, *portConfig);</span><br><span class="line">      serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">open</span>();</span><br><span class="line">      isOpen = serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">is_open</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">const</span> std::system_error &amp;error)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">RCLCPP_ERROR</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;æ‰“å¼€ä¸²å£:%så¤±è´¥&quot;</span>, dev_name-&gt;<span class="built_in">c_str</span>());</span><br><span class="line">      isOpen = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isOpen)</span><br><span class="line">      <span class="built_in">RCLCPP_INFO</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;æ‰“å¼€ä¸²å£:%sæˆåŠŸ&quot;</span>, dev_name-&gt;<span class="built_in">c_str</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">serial_driver_node::serial_read_thread</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (rclcpp::<span class="built_in">ok</span>())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">uint8_t</span>&gt; <span class="title">head</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">uint8_t</span>&gt; <span class="title">robotData</span><span class="params">(<span class="keyword">sizeof</span>(rArray-&gt;array) - <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (isOpen)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">        serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">receive</span>(head);</span><br><span class="line">        <span class="keyword">if</span> (head[<span class="number">0</span>] == <span class="number">0xA5</span> &amp;&amp; head[<span class="number">1</span>] == <span class="number">0x00</span>)</span><br><span class="line">        &#123; <span class="comment">// åŒ…å¤´ä¸º0xA5</span></span><br><span class="line">          serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">receive</span>(robotData);</span><br><span class="line">          robotData.<span class="built_in">resize</span>(<span class="built_in">sizeof</span>(rArray-&gt;array));</span><br><span class="line">          robotData.<span class="built_in">insert</span>(robotData.<span class="built_in">begin</span>(), head[<span class="number">1</span>]);</span><br><span class="line">          robotData.<span class="built_in">insert</span>(robotData.<span class="built_in">begin</span>(), head[<span class="number">0</span>]);</span><br><span class="line">          <span class="type">float</span> lastSpeed = rArray-&gt;msg.muzzleSpeed;</span><br><span class="line">          <span class="built_in">memcpy</span>(rArray-&gt;array, robotData.<span class="built_in">data</span>(), <span class="built_in">sizeof</span>(rArray-&gt;array));</span><br><span class="line">          rArray-&gt;msg.muzzleSpeed = rArray-&gt;msg.muzzleSpeed &gt; <span class="number">15</span> ? rArray-&gt;msg.muzzleSpeed : <span class="number">15.0</span>;</span><br><span class="line">          <span class="keyword">if</span>(rArray-&gt;msg.muzzleSpeed != lastSpeed)muzzleSpeedFilter.<span class="built_in">update</span>(rArray-&gt;msg.muzzleSpeed);</span><br><span class="line">          <span class="comment">// RCLCPP_INFO(get_logger(), &quot;è¯»å–ä¸²å£.&quot;);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">catch</span> (<span class="type">const</span> std::exception &amp;error)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">RCLCPP_ERROR</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;è¯»å–ä¸²å£æ—¶å‘ç”Ÿé”™è¯¯.&quot;</span>);</span><br><span class="line">        isOpen = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">serial_driver_node::serial_write</span><span class="params">(<span class="type">uint8_t</span> *data, <span class="type">size_t</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">std::vector&lt;<span class="type">uint8_t</span>&gt; <span class="title">tempData</span><span class="params">(data, data + len)</span></span>;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    serialDriver.<span class="built_in">port</span>()-&gt;<span class="built_in">send</span>(tempData);</span><br><span class="line">    <span class="comment">// RCLCPP_INFO(get_logger(), &quot;å†™å…¥ä¸²å£.&quot;);</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">catch</span> (<span class="type">const</span> std::exception &amp;error)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">RCLCPP_ERROR</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;å†™å…¥ä¸²å£æ—¶å‘ç”Ÿé”™è¯¯.&quot;</span>);</span><br><span class="line">    isOpen = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">serial_driver_node::nav_callback</span><span class="params">(<span class="type">const</span> geometry_msgs::msg::Twist::SharedPtr vMsg)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isOpen)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// å‡è®¾ nArray-&gt;msg æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ŒåŒ…å« vxã€vy å’Œ wz æˆå‘˜</span></span><br><span class="line">    nArray-&gt;msg.vx = vMsg-&gt;linear.x;</span><br><span class="line">    nArray-&gt;msg.vy = vMsg-&gt;linear.y;</span><br><span class="line">    nArray-&gt;msg.wz = vMsg-&gt;angular.z;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„å»ºæŒ‡ä»¤å­—ç¬¦ä¸²ï¼ŒåŒ…å«vx, vy, wz</span></span><br><span class="line">    std::string command = <span class="string">&quot;Vx:&quot;</span> +</span><br><span class="line">                          std::<span class="built_in">to_string</span>(nArray-&gt;msg.vx) + <span class="string">&quot;,&quot;</span> +</span><br><span class="line">                          <span class="string">&quot;Vy:&quot;</span> + std::<span class="built_in">to_string</span>(nArray-&gt;msg.vy) + <span class="string">&quot;,&quot;</span> +</span><br><span class="line">                          <span class="string">&quot;Wz:&quot;</span> + std::<span class="built_in">to_string</span>(nArray-&gt;msg.wz) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ä¸²å£å‘é€æŒ‡ä»¤</span></span><br><span class="line">    <span class="built_in">serial_write</span>(nArray-&gt;array, <span class="built_in">sizeof</span>(nArray-&gt;array));</span><br><span class="line">    <span class="comment">// serial_write(reinterpret_cast&lt;uint8_t*&gt;(command.data()), command.size());</span></span><br><span class="line">    <span class="built_in">RCLCPP_DEBUG</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;Sent nav: %s&quot;</span>, command.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// void serial_driver_node::auto_aim_callback(const vision_interfaces::msg::AutoAim vMsg)</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//  if (isOpen)</span></span><br><span class="line"><span class="comment">//   &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     vArray-&gt;msg.head = 0xA5;</span></span><br><span class="line"><span class="comment">//     vArray-&gt;msg.fire = vMsg.fire;</span></span><br><span class="line"><span class="comment">//     vArray-&gt;msg.aimPitch = vMsg.aim_pitch;</span></span><br><span class="line"><span class="comment">//     vArray-&gt;msg.aimYaw = vMsg.aim_yaw;</span></span><br><span class="line"><span class="comment">//     vArray-&gt;msg.tracking = vMsg.tracking;</span></span><br><span class="line"><span class="comment">//     RCLCPP_INFO(get_logger(), &quot;aimYaw_111:%05.2f/aimPitch_111:%05.2f&quot;, vArray-&gt;msg.aimYaw, vArray-&gt;msg.aimPitch);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//     serial_write(vArray-&gt;array, sizeof(vArray-&gt;array));</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//    /*</span></span><br><span class="line"><span class="comment">//     inf_visionMsg packet;</span></span><br><span class="line"><span class="comment">//     packet.msg.head = 0xA5;</span></span><br><span class="line"><span class="comment">//     packet.msg.tracking = vMsg.tracking;</span></span><br><span class="line"><span class="comment">//     packet.msg.fire = vMsg.fire;</span></span><br><span class="line"><span class="comment">//     packet.msg.aimPitch = vMsg.aim_pitch;</span></span><br><span class="line"><span class="comment">//     packet.msg.aimYaw = vMsg.aim_yaw;</span></span><br><span class="line"><span class="comment">//     std::vector&lt;uint8_t&gt; data = toVector(packet);</span></span><br><span class="line"><span class="comment">//     serial_driver_-&gt;port()-&gt;send(data);</span></span><br><span class="line"><span class="comment">//     */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">serial_driver_node::robot_callback</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isOpen)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">auto</span> msg = vision_interfaces::msg::<span class="built_in">Robot</span>();</span><br><span class="line">      <span class="comment">// msg.foe_color=rArray-&gt;msg.foeColor==1?1:0;</span></span><br><span class="line">      msg.mode = rArray-&gt;msg.mode;</span><br><span class="line">      <span class="comment">// msg.foe_color = rArray-&gt;msg.foeColor;</span></span><br><span class="line">      msg.self_yaw = rArray-&gt;msg.robotYaw;</span><br><span class="line">      msg.self_pitch = rArray-&gt;msg.robotPitch;</span><br><span class="line">      <span class="comment">// double muzzle_speed = 15.0;</span></span><br><span class="line">      <span class="comment">// muzzleSpeedFilter.get_avg(muzzle_speed);</span></span><br><span class="line">      <span class="comment">// msg.muzzle_speed = muzzle_speed;</span></span><br><span class="line">      publisher-&gt;<span class="built_in">publish</span>(msg);</span><br><span class="line"></span><br><span class="line">      geometry_msgs::msg::TransformStamped t;</span><br><span class="line">      timestamp_offset_ = <span class="keyword">this</span>-&gt;<span class="built_in">get_parameter</span>(<span class="string">&quot;timestamp_offset&quot;</span>).<span class="built_in">as_double</span>();</span><br><span class="line">      t.header.stamp = <span class="keyword">this</span>-&gt;<span class="built_in">now</span>() + rclcpp::Duration::<span class="built_in">from_seconds</span>(timestamp_offset_);</span><br><span class="line">      t.header.frame_id = <span class="string">&quot;odom&quot;</span>;</span><br><span class="line">      t.child_frame_id = <span class="string">&quot;gimbal_link&quot;</span>;</span><br><span class="line">      tf2::Quaternion q;</span><br><span class="line">      q.<span class="built_in">setRPY</span>(<span class="number">0</span>, -rArray-&gt;msg.robotPitch*<span class="number">3.1415926535</span>/<span class="number">180.0</span>, rArray-&gt;msg.robotYaw*<span class="number">3.1415926535</span>/<span class="number">180.0</span>);</span><br><span class="line">      t.transform.rotation = tf2::<span class="built_in">toMsg</span>(q);</span><br><span class="line">      tf_broadcaster_-&gt;<span class="built_in">sendTransform</span>(t);</span><br><span class="line">      <span class="built_in">RCLCPP_INFO</span>(<span class="built_in">get_logger</span>(), <span class="string">&quot;self_yaw:%05.2f/self_pitch:%05.2f&quot;</span>, msg.self_yaw, msg.self_pitch);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//     if (!initial_set_param_ || msg.foe_color != previous_receive_color_) &#123;</span></span><br><span class="line">          </span><br><span class="line">  <span class="comment">//       auto param = rclcpp::Parameter(&quot;detect_color&quot;, msg.foe_color);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//       if (!detector_param_client_-&gt;service_is_ready()) &#123;</span></span><br><span class="line">  <span class="comment">//         RCLCPP_WARN(get_logger(), &quot;Service not ready, skipping parameter set&quot;);</span></span><br><span class="line">  <span class="comment">//         return;</span></span><br><span class="line">  <span class="comment">//       &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//       if (</span></span><br><span class="line">  <span class="comment">//         !set_param_future_.valid() ||</span></span><br><span class="line">  <span class="comment">//         set_param_future_.wait_for(std::chrono::seconds(0)) == std::future_status::ready) &#123;</span></span><br><span class="line">  <span class="comment">//         RCLCPP_INFO(get_logger(), &quot;Setting detect_color to %ld...&quot;, param.as_int());</span></span><br><span class="line">  <span class="comment">//         set_param_future_ = detector_param_client_-&gt;set_parameters(</span></span><br><span class="line">  <span class="comment">//           &#123;param&#125;, [this, param](const ResultFuturePtr &amp; results) &#123;</span></span><br><span class="line">  <span class="comment">//             for (const auto &amp; result : results.get()) &#123;</span></span><br><span class="line">  <span class="comment">//               if (!result.successful) &#123;</span></span><br><span class="line">  <span class="comment">//                 RCLCPP_ERROR(get_logger(), &quot;Failed to set parameter: %s&quot;, result.reason.c_str());</span></span><br><span class="line">  <span class="comment">//                 return;</span></span><br><span class="line">  <span class="comment">//               &#125;</span></span><br><span class="line">  <span class="comment">//             &#125;</span></span><br><span class="line">  <span class="comment">//             RCLCPP_INFO(get_logger(), &quot;Successfully set detect_color to %ld!&quot;, param.as_int());</span></span><br><span class="line">  <span class="comment">//             initial_set_param_ = true;</span></span><br><span class="line">  <span class="comment">//           &#125;);</span></span><br><span class="line">  <span class="comment">//       &#125;</span></span><br><span class="line">  <span class="comment">//       previous_receive_color_ = msg.foe_color;</span></span><br><span class="line"><span class="comment">// //RCLCPP_INFO(get_logger(), &quot;foe_color:%u&quot;, msg.foe_color);</span></span><br><span class="line">  <span class="comment">//     &#125;</span></span><br><span class="line">  <span class="comment">//     RCLCPP_INFO(get_logger(), &quot;foe_color:%u&quot;, msg.foe_color);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">const</span> std::exception &amp;ex)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">RCLCPP_ERROR_THROTTLE</span>(</span><br><span class="line">          <span class="built_in">get_logger</span>(), *<span class="built_in">get_clock</span>(), <span class="number">20</span>, <span class="string">&quot;å¤„ç†ä¸²å£æ•°æ®æ—¶å‘ç”Ÿé”™è¯¯: %s&quot;</span>, ex.<span class="built_in">what</span>());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  rclcpp::<span class="built_in">init</span>(argc, argv);</span><br><span class="line">  <span class="comment">// std::string dev_name = &quot;/dev/ttyUSB0&quot;;</span></span><br><span class="line">  <span class="comment">// std::string dev_name = &quot;/dev/pts/7&quot;;</span></span><br><span class="line">  std::string dev_name = <span class="string">&quot;/dev/ttyACM0&quot;</span>;</span><br><span class="line">  std::shared_ptr&lt;serial_driver_node&gt; node = std::<span class="built_in">make_shared</span>&lt;serial_driver_node&gt;(dev_name, <span class="string">&quot;vision_serial_driver&quot;</span>);</span><br><span class="line">  rclcpp::<span class="built_in">spin</span>(node);</span><br><span class="line">  rclcpp::<span class="built_in">shutdown</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>include å†…éƒ¨æ·»åŠ  </p><p><code>packet.h</code></p><figure class="highlight h"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SERIAL_PACKET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SERIAL_PACKET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack(2)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> visionMsg inf_visionMsg</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> robotMsg inf_robotMsg</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> navMsg inf_navMsg</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">inf_navMsg</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">uint16_t</span> head;</span><br><span class="line">    <span class="type">float</span> vx;  </span><br><span class="line">    <span class="type">float</span> vy;  </span><br><span class="line">    <span class="type">float</span> wz;  </span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// struct sentry_visionMsg</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     uint8_t head;</span></span><br><span class="line"><span class="comment">//     uint8_t fire;   // å¼€ç«æ ‡å¿—</span></span><br><span class="line"><span class="comment">//     float aimYaw;   // ç›®æ ‡Yaw</span></span><br><span class="line"><span class="comment">//     float aimPitch; // ç›®æ ‡Pitch</span></span><br><span class="line"><span class="comment">//     float linearX;  // çº¿é€Ÿåº¦x</span></span><br><span class="line"><span class="comment">//     float linearY;  // çº¿é€Ÿåº¦y</span></span><br><span class="line"><span class="comment">//     float angularZ; // è§’é€Ÿåº¦z</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// struct sentry_robotMsg</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     uint8_t head;</span></span><br><span class="line"><span class="comment">//     uint8_t foeColor;  // æ•Œæ–¹é¢œè‰² 0-blue 1-red</span></span><br><span class="line"><span class="comment">//     float robotYaw;    // è‡ªèº«Yaw</span></span><br><span class="line"><span class="comment">//     float robotPitch;  // è‡ªèº«Pitch</span></span><br><span class="line"><span class="comment">//     float muzzleSpeed; // å¼¹é€Ÿ</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">inf_visionMsg</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">uint16_t</span> head;</span><br><span class="line">    <span class="type">uint8_t</span> fire;     <span class="comment">// å¼€ç«æ ‡å¿—</span></span><br><span class="line">    <span class="type">uint8_t</span> tracking; <span class="comment">// è·Ÿè¸ªæ ‡å¿—</span></span><br><span class="line">    <span class="type">float</span> aimYaw;     <span class="comment">// ç›®æ ‡Yaw</span></span><br><span class="line">    <span class="type">float</span> aimPitch;   <span class="comment">// ç›®æ ‡Pitch</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">inf_robotMsg</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">uint16_t</span> head;</span><br><span class="line">    <span class="type">uint8_t</span> mode;</span><br><span class="line">    <span class="type">uint8_t</span> foeColor;  <span class="comment">// æ•Œæ–¹é¢œè‰² 0-blue 1-red</span></span><br><span class="line">    <span class="type">float</span> robotYaw;    <span class="comment">// è‡ªèº«Yaw</span></span><br><span class="line">    <span class="type">float</span> robotPitch;  <span class="comment">// è‡ªèº«Pitch</span></span><br><span class="line">    <span class="type">float</span> muzzleSpeed; <span class="comment">// å¼¹é€Ÿ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hero_visionMsg</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">uint16_t</span> head;</span><br><span class="line">    <span class="type">uint8_t</span> fire;     <span class="comment">// å¼€ç«æ ‡å¿—</span></span><br><span class="line">    <span class="type">uint8_t</span> tracking; <span class="comment">// è·Ÿè¸ªæ ‡å¿—</span></span><br><span class="line">    <span class="type">float</span> aimYaw;     <span class="comment">// ç›®æ ‡Yaw</span></span><br><span class="line">    <span class="type">float</span> aimPitch;   <span class="comment">// ç›®æ ‡Pitch</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hero_robotMsg</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">uint16_t</span> head;</span><br><span class="line">    <span class="type">uint8_t</span> foeColor;  <span class="comment">// æ•Œæ–¹é¢œè‰² 0-blue 1-red</span></span><br><span class="line">    <span class="type">float</span> robotYaw;    <span class="comment">// è‡ªèº«Yaw</span></span><br><span class="line">    <span class="type">float</span> robotPitch;  <span class="comment">// è‡ªèº«Pitch</span></span><br><span class="line">    <span class="type">float</span> muzzleSpeed; <span class="comment">// å¼¹é€Ÿ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">navArray</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">navMsg</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="type">uint8_t</span> <span class="built_in">array</span>[<span class="keyword">sizeof</span>(<span class="keyword">struct</span> navMsg)];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">visionArray</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">visionMsg</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="type">uint8_t</span> <span class="built_in">array</span>[<span class="keyword">sizeof</span>(<span class="keyword">struct</span> visionMsg)];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">robotArray</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">robotMsg</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="type">uint8_t</span> <span class="built_in">array</span>[<span class="keyword">sizeof</span>(<span class="keyword">struct</span> robotMsg)];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> pack()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// SERIAL_PACKET_H</span></span></span><br></pre></td></tr></table></figure><p><code>vision serial driver node</code></p><figure class="highlight h"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> VISION_SERIAL_DRIVER_HPP</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> VISION_SERIAL_DRIVER_HPP</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;rclcpp/rclcpp.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;serial_driver/serial_driver.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vision_interfaces/msg/auto_aim.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vision_interfaces/msg/robot.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tf2_ros/transform_broadcaster.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tf2/LinearMath/Quaternion.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tf2_geometry_msgs/tf2_geometry_msgs.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;avgFilter.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;packet.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">using namespace drivers::serial_driver;</span><br><span class="line">using namespace <span class="built_in">std</span>::chrono_literals;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">serial_driver_node</span> :</span> public rclcpp::Node</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    @brief ä¸²å£é©±åŠ¨èŠ‚ç‚¹æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">    @param[in] device_name ä¸²å£åç§°</span></span><br><span class="line"><span class="comment">    @param[in] node_name èŠ‚ç‚¹åç§°</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    serial_driver_node(<span class="built_in">std</span>::<span class="built_in">string</span> device_name, <span class="built_in">std</span>::<span class="built_in">string</span> node_name);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@brief ä¸²å£é©±åŠ¨èŠ‚ç‚¹ææ„å‡½æ•°*/</span></span><br><span class="line">    ~serial_driver_node();</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    <span class="comment">/*@brief ä¸²å£é‡å¯å›è°ƒå‡½æ•°*/</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">serial_reopen_callback</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@brief ä¸²å£è¯»å–çº¿ç¨‹å‡½æ•°*/</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">serial_read_thread</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@brief ä¸²å£å†™å…¥å‡½æ•°*/</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">serial_write</span><span class="params">(<span class="type">uint8_t</span> *data, <span class="type">size_t</span> len)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    @brief è‡ªç„å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">    @param vMsg è‡ªç„ä¿¡æ¯</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">auto_aim_callback</span><span class="params">(<span class="type">const</span> vision_interfaces::msg::AutoAim vMsg)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@brief å¯¼èˆªå›è°ƒå‡½æ•° */</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">nav_callback</span><span class="params">(<span class="type">const</span> geometry_msgs::msg::Twist::SharedPtr msg)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@brief æœºå™¨äººçŠ¶æ€å›è°ƒå‡½æ•°*/</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">robot_callback</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    visionArray *vArray;</span><br><span class="line">    robotArray *rArray;</span><br><span class="line">    navArray *nArray;</span><br><span class="line">    avgFilter muzzleSpeedFilter;</span><br><span class="line">    <span class="type">bool</span> isOpen = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> *dev_name;</span><br><span class="line">    <span class="built_in">std</span>::thread serialReadThread;</span><br><span class="line">    SerialPortConfig *portConfig;</span><br><span class="line">    IoContext ctx;</span><br><span class="line">    SerialDriver serialDriver = SerialDriver(ctx);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Param client to set detect_color</span></span><br><span class="line">    using ResultFuturePtr = <span class="built_in">std</span>::shared_future&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rcl_interfaces::msg::SetParametersResult&gt;&gt;;</span><br><span class="line">    <span class="type">bool</span> initial_set_param_ = <span class="literal">false</span>;</span><br><span class="line">    <span class="type">uint8_t</span> previous_receive_color_ = <span class="number">0</span>;</span><br><span class="line">    rclcpp::AsyncParametersClient::SharedPtr detector_param_client_;</span><br><span class="line">    ResultFuturePtr set_param_future_;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Broadcast tf from odom to gimbal_link</span></span><br><span class="line">    <span class="type">double</span> timestamp_offset_ = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;tf2_ros::TransformBroadcaster&gt; tf_broadcaster_;</span><br><span class="line">    rclcpp::TimerBase::SharedPtr reopenTimer;</span><br><span class="line">    rclcpp::TimerBase::SharedPtr publishTimer;</span><br><span class="line">    rclcpp::Publisher&lt;vision_interfaces::msg::Robot&gt;::SharedPtr publisher;</span><br><span class="line">    rclcpp::Subscription&lt;vision_interfaces::msg::AutoAim&gt;::SharedPtr autoAimSub;</span><br><span class="line">    rclcpp::Subscription&lt;geometry_msgs::msg::Twist&gt;::SharedPtr navSub;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// VISION_SERIAL_DRIVER_HPP</span></span></span><br></pre></td></tr></table></figure><p><code>avgFilter.hpp</code></p><figure class="highlight h"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> RM_CPP_AVGFILTER_HPP</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RM_CPP_AVGFILTER_HPP</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">avgFilter</span> &#123;</span></span><br><span class="line">private:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="type">double</span>&gt; buffer;</span><br><span class="line">    <span class="type">double</span> avg=<span class="number">0</span>;</span><br><span class="line">public:</span><br><span class="line">    <span class="type">size_t</span> Size;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">update</span><span class="params">(<span class="type">double</span> data)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(buffer.size()==Size)&#123;</span><br><span class="line">            buffer.erase(buffer.begin());</span><br><span class="line">            buffer.emplace_back(data);</span><br><span class="line">            avg=avg-buffer[<span class="number">0</span>]/Size;</span><br><span class="line">            avg=avg+buffer[Size<span class="number">-1</span>]/Size;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            buffer.emplace_back(data);</span><br><span class="line">            avg=avg*(<span class="type">int</span>)(buffer.size()<span class="number">-1</span>)/(<span class="type">int</span>)buffer.size()+buffer[buffer.size()<span class="number">-1</span>]/(<span class="type">int</span>)buffer.size();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">get_avg</span><span class="params">(<span class="type">double</span> &amp;data)</span> <span class="type">const</span> &#123;</span><br><span class="line">        data = avg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">//RM_CPP_AVGFILTER_HPP</span></span></span><br></pre></td></tr></table></figure><h2 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h2><h3 id="è™šæ‹Ÿä¸²å£-socat"><a href="#è™šæ‹Ÿä¸²å£-socat" class="headerlink" title="è™šæ‹Ÿä¸²å£ socat"></a>è™šæ‹Ÿä¸²å£ socat</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install pyserial</span><br><span class="line">socat -d -d pty,b115200 pty,b115200</span><br></pre></td></tr></table></figure><h3 id="æ‰‹åŠ¨å‘é€Ÿåº¦"><a href="#æ‰‹åŠ¨å‘é€Ÿåº¦" class="headerlink" title="æ‰‹åŠ¨å‘é€Ÿåº¦"></a>æ‰‹åŠ¨å‘é€Ÿåº¦</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub /red_standard_robot1/cmd_vel geometry_msgs/msg/Twist &quot;&#123;&#x27;linear&#x27;: &#123;&#x27;x&#x27;: 0.6&#125;, &#x27;angular&#x27;: &#123;&#x27;z&#x27;: 0.1&#125;&#125;&quot;</span><br></pre></td></tr></table></figure><h3 id="ä¸²å£æƒé™"><a href="#ä¸²å£æƒé™" class="headerlink" title="ä¸²å£æƒé™"></a>ä¸²å£æƒé™</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 666 /dev/ttyACM0</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è¾“å‡º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -v /dev/pts/8</span><br></pre></td></tr></table></figure><p>å¯ç”¨é€šè®¯èŠ‚ç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run vision_serial_driver vision_serial_driver_node /dev/ttyACM0</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ä¸²å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /dev/tty*</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹é€Ÿåº¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic echo /red_standard_robot1/cmd_vel</span><br></pre></td></tr></table></figure><h3 id="ä¸€äº›æŒ‡ä»¤"><a href="#ä¸€äº›æŒ‡ä»¤" class="headerlink" title="ä¸€äº›æŒ‡ä»¤"></a>ä¸€äº›æŒ‡ä»¤</h3><h2 id="å®‰è£…-slam-tool"><a href="#å®‰è£…-slam-tool" class="headerlink" title="å®‰è£… slam_tool"></a>å®‰è£… slam_tool</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-humble-slam-toolbox</span><br></pre></td></tr></table></figure><h2 id="å‘å¸ƒå¯¼èˆªåæ ‡-nav2-goal"><a href="#å‘å¸ƒå¯¼èˆªåæ ‡-nav2-goal" class="headerlink" title="å‘å¸ƒå¯¼èˆªåæ ‡ nav2 goal"></a>å‘å¸ƒå¯¼èˆªåæ ‡ nav2 goal</h2><blockquote><p>æ³¨æ„xyzç”¨é€—å·éš”å¼€</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub /red_standard_robot1/goal_pose geometry_msgs/msg/PoseStamped &quot;&#123;header: &#123;stamp: &#123;sec: 0&#125;, frame_id: &#x27;map&#x27;&#125;, pose: &#123;position: &#123;x: 1.0, y: 1.0, z: 0.0&#125;, orientation: &#123;w: 1.0&#125;&#125;&#125;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub /red_standard_robot1/goal_pose geometry_msgs/msg/PoseStamped &quot;&#123;header: &#123;stamp: &#123;sec: 0&#125;, frame_id: &#x27;map&#x27;&#125;, pose: &#123;position: &#123;  x: 4.607597827911377, y: -3.4108667373657227 , z: 0.001499176025390625 &#125;, orientation: &#123;w: 1.0&#125;&#125;&#125;&quot;</span><br></pre></td></tr></table></figure><h2 id="å»ºå›¾åæŸ¥çœ‹åæ ‡"><a href="#å»ºå›¾åæŸ¥çœ‹åæ ‡" class="headerlink" title="å»ºå›¾åæŸ¥çœ‹åæ ‡"></a>å»ºå›¾åæŸ¥çœ‹åæ ‡</h2><p>åœ¨rvizä¸­æ‰“å¼€ publish point ç‚¹å‡»ä½ è¦çš„ç‚¹ åŒæ—¶</p><p>è¦å…ˆå¼€publish pointæ‰æœ‰topic ä¸ç„¶æ²¡æœ‰<br>æ‰“å¼€ç»ˆç«¯è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic echo /clicked_point</span><br></pre></td></tr></table></figure><h2 id="ç”µæ§-æ§åˆ¶å¯¼èˆª"><a href="#ç”µæ§-æ§åˆ¶å¯¼èˆª" class="headerlink" title="ç”µæ§ æ§åˆ¶å¯¼èˆª"></a>ç”µæ§ æ§åˆ¶å¯¼èˆª</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub /nav2_command std_msgs/msg/String &quot;data: &#x27;state_1&#x27;&quot;</span><br></pre></td></tr></table></figure><p>è½¬æ¢æ•´å½¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic pub /nav2_command std_msgs/msg/Int8 &quot;&#123;data: 0&#125;&quot;</span><br></pre></td></tr></table></figure><h2 id="å…³é—­é‡å®šä½"><a href="#å…³é—­é‡å®šä½" class="headerlink" title="å…³é—­é‡å®šä½"></a>å…³é—­é‡å®šä½</h2><p>è¿›å…¥ <code>locallization_launch.py</code> æ–‡ä»¶</p><p>å…³é—­é‡å®šä½node å’ŒComposableNodeé‡æ–°ç¼–è¯‘</p><h2 id="å½•åˆ¶-rosbag"><a href="#å½•åˆ¶-rosbag" class="headerlink" title="å½•åˆ¶ rosbag"></a>å½•åˆ¶ rosbag</h2><p>åŒ—æç†Šæ•™ç¨‹</p><p>(<a href="https://flowus.cn/lihanchen/share/cd6f2a40-4376-4d57-b9fa-5f22c866b0ba">https://flowus.cn/lihanchen/share/cd6f2a40-4376-4d57-b9fa-5f22c866b0ba</a>)</p><h1 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h1><blockquote><p>æ„Ÿè°¢å„è·¯å¤§ä½¬çš„å¸®å¿™ ä»¥ä¸‹ä¸ºéƒ¨åˆ†å€Ÿé‰´å‚è€ƒæ–‡çŒ®</p></blockquote><p><a href="https://whaltze.github.io/2024/09/22/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/">WHALTZE - åŸºäºCartographerç®—æ³•çš„RPLIDARæ¿€å…‰é›·è¾¾å¯¼èˆª</a></p><p><a href="https://github.com/SCAU-RM-NAV/rm2023_auto_sentry_ws/tree/main">RM2023åå—å†œä¸šå¤§å­¦Taurusæœºå™¨äººæˆ˜é˜Ÿå“¨å…µå®šä½å¯¼èˆªç®—æ³•ä¸ä»¿çœŸå¼€æº</a></p><p><a href="https://github.com/LihanChen2004/pcd2pgm/tree/master">pcd2pgm</a></p><p><a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_sentry_nav">pb2025_sentry_nav</a></p><p><a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_sentry_nav/wiki/%E5%BB%BA%E5%9B%BE%E6%8C%87%E5%8D%97">pb2025_sentry_nav å»ºå›¾æŒ‡å—</a></p><p><a href="https://github.com/SMBU-PolarBear-Robotics-Team/standard_robot_pp_ros2">pb2025_sentry_nav standard_robot_pp_ros2</a></p><p><a href="https://aafxu50hc35.feishu.cn/docx/HRh5dOjrMor4maxi3Xscvff6nCh">pb2025_sentry_nav ä¸Šä¸‹ä½æœºä¸²å£é€šä¿¡æ•°æ®åè®®</a></p><p><a href="https://github.com/SMBU-PolarBear-Robotics-Team/rmu_gazebo_simulator">pb2025_sentry_nav rmu_gazebo_simulator</a></p><p><a href="https://github.com/SMBU-PolarBear-Robotics-Team/pb2025_sentry_behavior">SMBU-PolarBear-Robotics-Team pb2025_sentry_behavior</a></p><p><a href="https://blog.csdn.net/Sixfourjie/article/details/142460043?spm=1001.2014.3001.5501">CSDN-ROSä¸²å£é€šè®¯</a></p><p><a href="https://blog.csdn.net/weixin_45417246/article/details/115587952?fromshare=blogdetail&sharetype=blogdetail&sharerId=115587952&sharerefer=PC&sharesource=Sixfourjie&sharefrom=from_link">CSDN -ã€ROSã€STM32ã€‘ROSä¸STM32é€šä¿¡</a></p><p><a href="https://blog.csdn.net/m0_71523511/article/details/140759161">CSDN - â‘¤ã€ä»0åˆ¶ä½œè‡ªå·±çš„roså¯¼èˆªå°è½¦ï¼šä¸Šã€ä¸‹ä½æœºé€šä¿¡ç¯‡ã€‘ä¸Šã€ä¸‹ä½æœºä¸²å£DMAé€šä¿¡</a></p><p><a href="https://blog.csdn.net/m0_71523511/article/details/140782007">CSDN - â‘¨ã€ä»0åˆ¶ä½œè‡ªå·±çš„roså¯¼èˆªå°è½¦ï¼šä¸Šä½æœºç¯‡ã€‘04ã€ä½¿ç”¨gmappingå»ºå›¾</a></p><p><a href="https://sjtu-robomaster-team.github.io/">äº‘æ±‰äº¤é¾™ åšå®¢ ä¸Šæµ·äº¤é€šå¤§å­¦RoboMasteräº¤é¾™æˆ˜é˜Ÿåšå®¢</a></p><p><a href="https://github.com/SJTU-RoboMaster-Team/SJTU-RoboMaster-Team.github.io">ä¸Šæµ·äº¤é€šå¤§å­¦RoboMasteräº¤é¾™æˆ˜é˜Ÿåšå®¢ä»“åº“</a></p><p><a href="https://github.com/chenjunnn/rm_serial_driver/tree/main">rm_serial_driver RoboMaster è§†è§‰ç³»ç»Ÿä¸ç”µæ§ç³»ç»Ÿçš„ä¸²å£é€šè®¯æ¨¡å—</a></p><p><a href="https://github.com/Wangben1019/KDRobot_RM2023Sentry_Navigation?tab=readme-ov-file">æ²³åŒ—ç§‘æŠ€å¤§å­¦æœºå™¨äººæˆ˜é˜ŸActor&amp;Thinker RM2023å“¨å…µå¯¼èˆªéƒ¨åˆ†ä»£ç </a></p><p><a href="https://github.com/Wangben1019/-Autonomous-Exploration-Development-Environment-and-the-Planning-Algorithms">è®ºæ–‡ç¿»è¯‘ï¼šè‡ªä¸»æ¢ç´¢å¼€å‘ç¯å¢ƒä¸è§„åˆ’ç®—æ³•</a></p><p><a href="https://arxiv.org/pdf/2110.14573">è®ºæ–‡åœ°å€ Autonomous Exploration Development Environment and the Planning Algorithms</a></p><p><a href="https://github.com/LihanChen2004/costmap_converter/tree/fdb7cdb85d43fc4cda139409a6bb393ec976bc36">costmap_converter ROS Package æˆæœ¬åœ°å›¾è½¬æ¢å™¨ ROS åŒ…</a></p><p><a href="https://github.com/PointCloudLibrary/pcl">Point Cloud Library  ç‚¹äº‘åº“ PCL</a></p><p><a href="https://github.com/xiaoming-sun6/sw2urdf_ros2/tree/V1.0.0">sw2urdf_ros2</a></p><p><a href="https://blog.csdn.net/qq_42688495/article/details/118568021">CSDN - æœºå™¨äººè‡ªä¸»å¯¼èˆª | ROSä¸ç§»åŠ¨åº•ç›˜é€šä¿¡</a></p><p><a href="https://github.com/CSU-FYT-Vision/FYT2024_vision">ä¸­å—å¤§å­¦FYTæˆ˜é˜Ÿ24èµ›å­£è§†è§‰é¡¹ç›®ä¸»ä»“åº“</a></p><p><a href="https://github.com/SanZoom/RM2022-Infantry-Vision">IRobot æˆ˜é˜Ÿ 2022å¹´RMæ¯”èµ›ä¸­çš„æ­¥å…µè§†è§‰ä»£ç </a></p><p><a href="https://github.com/TigerVNC/tigervnc">tigervn è¿œç¨‹æ˜¾ç¤ºç³»ç»Ÿ</a></p><p><a href="https://blog.csdn.net/qq_52967097/article/details/123230837">CSDN - å¯¹äºå¡å°”æ›¼æ»¤æ³¢å™¨çš„ä¸€äº›ç†è§£å’Œæ¢è®¨</a></p><p><a href="https://blog.csdn.net/NeoZng?spm=1011.2124.3001.5343">CSDN - HNUè·ƒé¹¿æˆ˜é˜Ÿä¸»é¡µ</a></p><p><a href="https://github.com/Lostye/BamThriving-VISION/tree/main">robomasteræ¬£ç«¹æˆ˜é˜Ÿè§†è§‰</a></p><p><a href="https://github.com/FaterYU/rm_auto_aim/tree/main">FaterYU rm_auto_aim &#x2F; rm_vision çš„å­æ¨¡å—</a></p><p><a href="https://docs.qq.com/sheet/DUFlaU0FHZk1QS0l1?tab=bb08j2&no_promotion=1">RoboMaster åŸ¹è®­ä½“ç³»ï¼ˆ240130)</a></p><p><a href="https://blog.csdn.net/qq_27865227/article/details/131363638?login=from_csdn">ROS2æœºå™¨äººå…¥é—¨åˆ°å®æˆ˜æ•™ç¨‹(é±¼é¦™ROS)</a></p><p><a href="https://blog.csdn.net/Thinkin9/article/details/122913810">Realsense D435i Yolov5ç›®æ ‡æ£€æµ‹å®æ—¶è·å¾—ç›®æ ‡ä¸‰ç»´ä½ç½®ä¿¡æ¯</a></p><p>[&#x2F;usr&#x2F;bin&#x2F;ld: ..&#x2F;..&#x2F;lib&#x2F;libpcl_io.so.1.8.0: undefined reference to &#96;libusb_set_optionâ€˜é”™è¯¯è§£å†³-æµ·åº·æ‘„åƒå¤´SDK](<a href="https://blog.csdn.net/weixin_45646976/article/details/134856249">https://blog.csdn.net/weixin_45646976/article/details/134856249</a>)</p><p><a href="https://developer.aliyun.com/article/1589881">Ubuntu22.04é…ç½®ROS2 Humble</a></p><p><a href="https://flowus.cn/lihanchen/share/3147e4fd-eb5c-4b42-ad60-d07421b03890#ee64231c-eae0-43a1-8654-11f3a3f03c25">Livox é©±åŠ¨å®‰è£…</a></p><p><a href="https://blog.csdn.net/weixin_52612260/article/details/134124028">CSDN - ä½¿ç”¨mid360ä»0å¼€å§‹æ­å»ºå®ç‰©æœºå™¨äººå…¥é—¨çº§å¯¼èˆªç³»ç»Ÿï¼ŒåŸºäºFast_Lio,Move_Base</a></p><p><a href="https://blog.csdn.net/m0_62948300/article/details/140209873">ä½¿ç”¨Livox-Mid360æ¿€å…‰é›·è¾¾ï¼Œå¤ç°FAST_LIOï¼ˆä¿å§†çº§æ•™ç¨‹ï¼‰</a></p><p><a href="https://sjtu-robomaster-team.github.io/antitop/">é’å·¥ä¼š PPT - åé™€èºå’Œè‡ªåŠ¨å¼¹é“æ ¡æ­£</a></p><p><a href="https://index.ros.org/p/robot_upstart/">robot_upstart è‡ªå¯åŠ¨</a></p><p><a href="https://blog.csdn.net/qq_44190125/article/details/139239164">CSDN - ã€ROS2å­¦ä¹ ã€‘è§£å†³åˆ é™¤ç¼–è¯‘çš„åŒ…åï¼Œå†é‡æ–°ç¼–è¯‘å‡ºç°çš„é—®é¢˜</a></p><p><a href="https://blog.csdn.net/qq_40216084">CSDN - å«æˆ‘æå…ˆç”Ÿä¸»é¡µ è§†è§‰å¯¼èˆªç ”å‘äººå‘˜</a></p><h1 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ros2 run tf2_ros tf2_echo map base_link</span><br><span class="line">ros2 topic list | grep /submap_list</span><br><span class="line">ros2 topic echo /submap_list</span><br><span class="line">ros2 run cartographer_ros cartographer_occupancy_grid_node -resolution 0.05 -publish_period_sec 1.0 --ros-args --log-level debug</span><br><span class="line">ros2 run tf2_tools view_frames</span><br><span class="line">ros2 topic list</span><br><span class="line">ros2 topic echo /map  //æŸ¥çœ‹ç‰¹å®šæ¶ˆæ¯</span><br><span class="line">ros2 topic hz /map</span><br><span class="line">roslaunch cartographer_ros offline_backpack_2d.launch bag_filenames:=$&#123;HOME&#125;/Downloads/b2-2016-04-05-14-44-52.bag</span><br><span class="line">rqt_graph</span><br><span class="line">ros2 launch cartographer_ros rplidar_cartographer.launch.py</span><br><span class="line">sudo chmod 666 /dev/ttyUSB0</span><br><span class="line">ls /dev | grep ttyUSB</span><br><span class="line">source /usr/share/gazebo/setup.bash</span><br><span class="line">å¯†ç 20030120</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> RM </tag>
            
            <tag> å¯¼èˆª </tag>
            
            <tag> SLAM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rimeè¾“å…¥æ³•</title>
      <link href="/2025/02/13/Rime%E8%BE%93%E5%85%A5%E6%B3%95/"/>
      <url>/2025/02/13/Rime%E8%BE%93%E5%85%A5%E6%B3%95/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UbuntuåŒç³»ç»Ÿ</title>
      <link href="/2025/02/11/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/"/>
      <url>/2025/02/11/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢è®°å½•æ‰€æœ‰å®‰è£…UbuntuåŒç³»ç»Ÿåé‡åˆ°çš„é—®é¢˜ä»¥åŠéƒ¨åˆ†é‡å¤§æ“ä½œ,ç•™ä½œå¤‡æ¡ˆ</p></blockquote><h2 id="Begin-Start-SMART"><a href="#Begin-Start-SMART" class="headerlink" title="Begin Start , SMART !"></a>Begin Start , SMART !</h2><blockquote><p><em><strong>å‚è€ƒæ–‡çŒ®</strong></em><br><a href="https://blog.csdn.net/beaver2010/article/details/137599949">Win11å¯åŠ¨ç›˜åˆ¶ä½œ</a><br><a href="https://blog.csdn.net/2401_84064328/article/details/137232169">Windows11 + Linux (Ubuntu22.04) åŒç³»ç»Ÿæœ€ç®€å®‰è£…è¯¦ç»†é¿å‘ç‰ˆ</a><br><a href="https://blog.csdn.net/kuwola/article/details/127618930">åŒç³»ç»Ÿå®‰è£…ubuntu 22.04 LTS(ä¸€æ­¥åˆ°ä½)</a><br><a href="https://blog.csdn.net/weixin_45167912/article/details/144653202">Ventoyæ•™ç¨‹ï¼šåˆ›å»ºå¤šç³»ç»Ÿå¯åŠ¨Uç›˜çš„è¯¦ç»†æŒ‡å—</a><br><a href="https://flowus.cn/lihanchen/share/e6735ca6-92fb-4db0-ad6c-54837d87c510">Window+UbuntuåŒç³»ç»Ÿå®‰è£…åŠåˆ é™¤-é™ˆä½¬</a></p></blockquote><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><h4 id="ç¡®ä¿-BIOS-æ˜¯-UEFI-æ¨¡å¼"><a href="#ç¡®ä¿-BIOS-æ˜¯-UEFI-æ¨¡å¼" class="headerlink" title="ç¡®ä¿ BIOS æ˜¯ UEFI æ¨¡å¼"></a>ç¡®ä¿ BIOS æ˜¯ UEFI æ¨¡å¼</h4><p>å¼€å§‹èœå•æœç´¢ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹<br><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/1.png" alt=" "></p><p>å¦‚æœä¸æ˜¯ è¿›å…¥BIOSç³»ç»Ÿä¿®æ”¹(ä¿®æ”¹åè®°å¾—ä¿å­˜)</p><h4 id="ç¡®ä¿ç£ç›˜æ˜¯GPTæ ¼å¼"><a href="#ç¡®ä¿ç£ç›˜æ˜¯GPTæ ¼å¼" class="headerlink" title="ç¡®ä¿ç£ç›˜æ˜¯GPTæ ¼å¼"></a>ç¡®ä¿ç£ç›˜æ˜¯GPTæ ¼å¼</h4><p>è¿›å…¥ç£ç›˜ç®¡ç† ç‚¹å‡»å±æ€§ å·</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/2.png"></p><p>è‹¥ä¸ºä¸»å¯åŠ¨è®°å½•(MBR),ä¿®æ”¹ä¸ºGPT</p><p>è¿›å…¥ç»ˆç«¯è¾“å…¥ <code>diskpart</code></p><p>ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list disk #åˆ—å‡ºç£ç›˜</span><br><span class="line">select disk=0 #é€‰æ‹©è¦è½¬æ¢çš„ç£ç›˜ è¿™é‡Œæ˜¯0</span><br><span class="line">convert gpt # è½¬æ¢</span><br><span class="line">list disk #ç¡®è®¤è½¬æ¢æˆåŠŸ</span><br></pre></td></tr></table></figure><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/3.png"></p><h4 id="å…³é—­BitLockeråŠ å¯†"><a href="#å…³é—­BitLockeråŠ å¯†" class="headerlink" title="å…³é—­BitLockeråŠ å¯†"></a>å…³é—­BitLockeråŠ å¯†</h4><p>åœ¨ç£ç›˜ç®¡ç†å™¨ä¸­æŸ¥çœ‹æ˜¯å¦æœ‰BitLockeråŠ å¯†<br>è‹¥æœ‰ åœ¨è®¾ç½® éšç§ å®‰å…¨æ€§ä¸­å…³é—­ (è§£å¯†æ—¶é—´å’Œç¡¬ç›˜å†…å­˜å‚¨çš„ä¸œè¥¿æœ‰å…³,è¶Šå¤šå°±è¶Šä¹…)</p><h4 id="å…³é—­ç‹¬æ˜¾ç›´è¿"><a href="#å…³é—­ç‹¬æ˜¾ç›´è¿" class="headerlink" title="å…³é—­ç‹¬æ˜¾ç›´è¿"></a>å…³é—­ç‹¬æ˜¾ç›´è¿</h4><p>é¿å…å®‰è£…Ubuntuæ—¶å€™å‡ºç°bug<br>UPè¿™é‡Œä¹‹å‰è¿›åç¡• <code>Armoury Create</code> å…³é—­äº†</p><h3 id="åˆ¶ä½œ-Ubuntu-ç³»ç»Ÿç›˜"><a href="#åˆ¶ä½œ-Ubuntu-ç³»ç»Ÿç›˜" class="headerlink" title="åˆ¶ä½œ Ubuntu ç³»ç»Ÿç›˜"></a>åˆ¶ä½œ Ubuntu ç³»ç»Ÿç›˜</h3><h4 id="ä¸‹è½½Ubuntué•œåƒç½‘ç«™"><a href="#ä¸‹è½½Ubuntué•œåƒç½‘ç«™" class="headerlink" title="ä¸‹è½½Ubuntué•œåƒç½‘ç«™"></a>ä¸‹è½½Ubuntué•œåƒç½‘ç«™</h4><p><a href="https://ubuntu.com/download">Ubuntuå®˜ç½‘ä¸‹è½½åœ°å€</a></p><p><a href="https://launchpad.net/ubuntu/+mirror/mirrors.tuna.tsinghua.edu.cn-release">æ¸…åé•œåƒä¸‹è½½ç½‘å€</a></p><p>å‰è€…è¾ƒä¸ºéº»çƒ¦ è¿™é‡Œæˆ‘é€‰æ‹©æ¸…åé•œåƒ</p><p>æ‰¾åˆ° <code>Mirror location information</code><br>è¿›å…¥ä¸€ä¸ªé•œåƒåœ°å€</p><p>é€‰æ‹© <code>ubuntu-22.04.5-desktop-amd64.iso</code></p><p>serveræ²¡æœ‰å›¾å½¢ç•Œé¢</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/4.png"></p><h4 id="ä¸‹è½½Rufu"><a href="#ä¸‹è½½Rufu" class="headerlink" title="ä¸‹è½½Rufu"></a>ä¸‹è½½Rufu</h4><p>ä¸‹è½½ Rufu å¯¼å…¥ é•œåƒæ–‡ä»¶</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/5.png"></p><p>ç‚¹å‡»å¼€å§‹</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/6.png"></p><p>æŒç»­ç‚¹å‡»ç¡®å®š,éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´</p><p>çœ‹åˆ°å‡†å¤‡å°±ç»ªç»¿è‰²æ¡æ»¡åä¾¿å¯ç‚¹å‡»å…³é—­è½¯ä»¶,ä¹‹åå“ªå°ç”µè„‘éœ€è¦,æ’å…¥å“ªå°ç”µè„‘å³å¯</p><h3 id="å®‰è£…-Ubuntu-ç³»ç»Ÿç›˜"><a href="#å®‰è£…-Ubuntu-ç³»ç»Ÿç›˜" class="headerlink" title="å®‰è£… Ubuntu ç³»ç»Ÿç›˜"></a>å®‰è£… Ubuntu ç³»ç»Ÿç›˜</h3><p>å°†åˆšåˆšåšå¥½çš„å¯åŠ¨ç›˜æ’å…¥ç”µè„‘</p><p>é‡å¯ ç‹‚æŒ‰ F2  è¿›å…¥BIOSæ¨¡å¼ (åšä¸»æ˜¯åç¡•å¤©é€‰,å…¶ä»–æœºå‹è‡ªè¡Œç™¾åº¦)</p><blockquote><p>å…ˆå…³é—­BIOSä¸­çš„å®‰å…¨å¯åŠ¨,é¿å…åç»­ä¸å¿…è¦çš„éº»çƒ¦</p></blockquote><p>ç„¶åå…³é—­Intel RST,é¿å…å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°Turn off RST</p><p>åœ¨BIOSè®¾ç½®ç•Œé¢æ‰¾åˆ°Bootå¯åŠ¨é¡ºåºåˆ—è¡¨ å¤©é€‰4 BIOS åœ¨å³ä¾§Uç›˜è®¾ç½®ä¸ºæœ€ä¼˜å…ˆå¼•å¯¼é¡¹,é¿å…è¦è¿›å…¥Uç›˜çš„Ubuntuå®‰è£…ç¨‹åºæ—¶,ç”µè„‘è‡ªåŠ¨è¿”å›åˆ°Windowsç³»ç»Ÿå¯åŠ¨</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/17.jpg"></p><p>å³ä¸‹è§’å¯åŠ¨èœå• ç‚¹å‡»Uç›˜å¯åŠ¨æ–¹å¼</p><p>è¿›å…¥ç³»ç»Ÿ å®‰è£…Ubuntu</p><h3 id="å®‰è£…-Ubuntu"><a href="#å®‰è£…-Ubuntu" class="headerlink" title="å®‰è£… Ubuntu !"></a>å®‰è£… Ubuntu !</h3><p>ç­‰å¾…ä¸€æ®µæ—¶é—´ å¼€å§‹å®‰è£…</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/18.jpg"></p><p>é€‰æ‹©å³è¾¹çš„ å®‰è£… Ubuntu</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/19.jpg"></p><p>è¿™é‡Œæˆ‘é€‰æ‹©è‹±æ–‡å®‰è£… é¿å…åç»­ä¸å¿…è¦çš„éº»çƒ¦</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/20.jpg"></p><p>æš‚æ—¶ä¸è¿æ¥WIFI</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/21.jpg"></p><p>æ­£å¸¸å®‰è£…å³å¯</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/22.jpg"></p><blockquote><p>è¿™é‡Œé€‰æ‹© <code>è‡ªè¡Œé…ç½®</code></p></blockquote><h4 id="åˆ›å»ºç³»ç»Ÿåˆ†åŒº"><a href="#åˆ›å»ºç³»ç»Ÿåˆ†åŒº" class="headerlink" title="åˆ›å»ºç³»ç»Ÿåˆ†åŒº"></a>åˆ›å»ºç³»ç»Ÿåˆ†åŒº</h4><p>é…ç½®å¥½çš„ç•Œé¢</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/24.jpg"></p><p>æ‰¾åˆ°ä¹‹å‰é¢„ç•™ç»™Ubuntuçš„freeåˆ†åŒº ç‚¹å‡»add</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/23.jpg"></p><p>åˆ›å»ºåˆ†åŒº</p><p>éœ€è¦æœ‰ <code>EFIç³»ç»Ÿåˆ†åŒº</code>  <code>swap</code> </p><blockquote><p>EFI ç•™ 500MB å°±è¶³å¤Ÿäº† swapä¸»è¦ä¿å­˜ä¸€äº›ç¼“å­˜ æ’­ä¸»å†…å­˜æœ‰32GB å…¶å®ä¸ç”¨ä¹Ÿæ²¡äº‹ ,è¿™é‡Œæˆ‘åˆ†ç»™ swap 32GB (å°´å°¬) ä¸€èˆ¬ 8 GB å†…å­˜ åˆ† 10GB å°±å·®ä¸å¤šäº†</p></blockquote><p>å…¶ä»–éƒ½ç»™åˆ°æ ¹ç›®å½• <code>/</code>  </p><blockquote><p>ç½‘ä¸Šå¾ˆå¤šè¯´ç»™å¾ˆå¤šåˆ° <code>home</code> ä¸‹ ,æ²¡æœ‰è¿™ä¸ªå¿…è¦ åˆ°æ—¶å€™ä¸å¤Ÿå­˜å‚¨å°±éº»çƒ¦äº†</p></blockquote><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/24.jpg"></p><p>å¼€å§‹å®‰è£…</p><p>å®‰è£…æˆåŠŸåä¼šæç¤ºé‡å¯</p><p>è¿™æ—¶å€™å±å¹•ä¼šæœ‰ä¸€è¡Œå°å­—æé†’æ‹”å‡ºUç›˜ æŒ‰ä¸‹ ENTER </p><p>è‡³æ­¤ Ubuntu_22.04 å®‰è£…æˆåŠŸ å¤§åŠŸå‘Šæˆ !!!!!!</p><h3 id="å¤šIOSå¯åŠ¨ç›˜åˆ¶ä½œ-Ventoy"><a href="#å¤šIOSå¯åŠ¨ç›˜åˆ¶ä½œ-Ventoy" class="headerlink" title="å¤šIOSå¯åŠ¨ç›˜åˆ¶ä½œ(Ventoy)"></a>å¤šIOSå¯åŠ¨ç›˜åˆ¶ä½œ(Ventoy)</h3><h4 id="ä¸‹è½½Ventoy"><a href="#ä¸‹è½½Ventoy" class="headerlink" title="ä¸‹è½½Ventoy"></a>ä¸‹è½½Ventoy</h4><blockquote><p>æ³¨æ„Windowsè¿˜æ˜¯Linux</p></blockquote><p><a href="https://github.com/ventoy/Ventoy/releases">Ventoyå®˜æ–¹Githubä»“åº“åœ°å€</a></p><h4 id="å®‰è£…åˆ°Uç›˜"><a href="#å®‰è£…åˆ°Uç›˜" class="headerlink" title="å®‰è£…åˆ°Uç›˜"></a>å®‰è£…åˆ°Uç›˜</h4><p>æ‰“å¼€ä¸‹è½½çš„Ventoyå·¥å…·åŒ…,æ‰¾åˆ°å¹¶åŒå‡»è¿è¡ŒVentoy2Disk.exe(Windowsç‰ˆ)<br>å°†Uç›˜æ’å…¥ç”µè„‘ è½¯ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«<br>é€‰æ‹©Uç›˜è®¾å¤‡ å¼€å§‹å®‰è£…</p><blockquote><p>æ³¨æ„ å®‰è£…Ventoyä¼šæ¸…é™¤Uç›˜ä¸Šçš„æ‰€æœ‰æ•°æ®</p></blockquote><p>å¤åˆ¶IOSæ–‡ä»¶åˆ°Uç›˜</p><h3 id="åˆ é™¤-Ubuntu"><a href="#åˆ é™¤-Ubuntu" class="headerlink" title="åˆ é™¤ Ubuntu"></a>åˆ é™¤ Ubuntu</h3><p>ä¸‹è½½ DiskGenius</p><p>è¿›å…¥è½¯ä»¶åæ‰¾åˆ° Linux åˆ†åŒº é€‰æ‹©åˆ é™¤  </p><p>è¿™é‡Œè¦å³é”® å½»åº•åˆ é™¤åˆ†åŒº</p><p>åŒ…æ‹¬ swap EXT4ç­‰</p><p>å±•å¼€ å·¦ä¾§ç³»ç»Ÿç›˜ä¸‹çš„EFI åˆ†åŒºæ‰¾åˆ° Ubuntu å­ç›®å½•</p><p>å³é”®å½»åº•åˆ é™¤æ‰€æœ‰æ–‡ä»¶</p><blockquote><p>åƒä¸‡æ³¨æ„ åˆ«æŠŠ Windows åˆ é™¤äº† !!!!!!!</p></blockquote><p>å®Œæˆä¹‹åè®°å¾—å·¦ä¸Šè§’ ç‚¹å‡» ä¿å­˜æ›´æ”¹</p><p><strong>å›æ”¶ç£ç›˜ç©ºé—´</strong></p><p>ç‚¹å‡»ç›¸é‚»çš„ç©ºé—²ç£ç›˜ å•å‡»å³é”® é€‰æ‹©æ‰©å®¹ç£ç›˜ç©ºé—´</p><p>åšä¸»è¿˜æ²¡åˆ é™¤è¿‡,è¿™é‡Œå‚è€ƒé™ˆä½¬åšå®¢ç¬”è®°æ’°å†™</p><p><a href="https://flowus.cn/lihanchen/share/e6735ca6-92fb-4db0-ad6c-54837d87c510">Window+UbuntuåŒç³»ç»Ÿå®‰è£…åŠåˆ é™¤</a></p><h2 id="Travel-é…ç½®"><a href="#Travel-é…ç½®" class="headerlink" title="Travel ! (é…ç½®)"></a>Travel ! (é…ç½®)</h2><blockquote><p>è‡³æ­¤ Ubuntu22.04åŒç³»ç»Ÿä¸‹è½½æˆåŠŸï¼Œæˆ‘ä»¬æ¥é…ç½®ä¸€äº›åŠŸèƒ½ä½¿å¾—æ›´å®šåˆ¶åŒ–</p></blockquote><h2 id="GNOME-Tweaks"><a href="#GNOME-Tweaks" class="headerlink" title="GNOME Tweaks"></a>GNOME Tweaks</h2><h4 id="å®‰è£…-å¯åŠ¨"><a href="#å®‰è£…-å¯åŠ¨" class="headerlink" title="å®‰è£… &amp; å¯åŠ¨"></a>å®‰è£… &amp; å¯åŠ¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-tweaks</span><br></pre></td></tr></table></figure><p>å¯åŠ¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gnome-tweaks</span><br></pre></td></tr></table></figure><p>æ ¹æ®å›¾å½¢ç•Œé¢é…ç½®å³å¯</p><h2 id="å®‰è£…-Clash"><a href="#å®‰è£…-Clash" class="headerlink" title="å®‰è£… Clash"></a>å®‰è£… Clash</h2><p>ä¸‹è½½å¯¹åº”debåŒ…åˆ°Downloadæ–‡ä»¶å¤¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i Clash.Verge_2.0.3_amd64.deb </span><br></pre></td></tr></table></figure><p>æ–°è£…ç³»ç»Ÿå¯èƒ½æœ‰æŠ¥é”™</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/10.png"></p><p>æ˜¾ç¤ºç¼ºå°‘ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libwebkit2gtk-4.1-0</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¾èµ–åå¦‚ä¸Šå›¾è¿˜æ˜¯æŠ¥é”™</p><p>è¿è¡Œä¸‹åˆ—æŒ‡ä»¤è¡¥å……ç¼ºå°‘ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -f install</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸ<br>è‡ªè¡Œé€‰æ‹©æœºåœºé…ç½®å³å¯</p><h2 id="æ—¶é—´åŒæ­¥"><a href="#æ—¶é—´åŒæ­¥" class="headerlink" title="æ—¶é—´åŒæ­¥"></a>æ—¶é—´åŒæ­¥</h2><p>Ubuntuä¸­æ—¶é—´æ˜¯ä¸–ç•Œæ ‡å‡†æ—¶é—´,ä¸Šæµ·æ˜¯ä¸œå…«åŒº,å°±æ˜¯ GMT +8 åˆ‡æ¢åˆ°windowsä¸‹æ—¶é—´ä¼šææ—©å…«å°æ—¶,Windowsä¸­ç›´æ¥è¯»å–BIOSä¸»æ¿æ—¶é—´å½“æœ¬åœ°æ—¶é—´,æ‰€ä»¥windowsä¼šç›´æ¥æ˜¾ç¤ºBIOSæ—¶é—´,é€ æˆé”™ä¹±.</p><p>è§£å†³æ–¹æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ntpdate                 </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨ubuntuä¸‹æ›´æ–°æœ¬åœ°æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">sudo ntpdate time.windows.com           </span><br><span class="line"></span><br><span class="line">sudo hwclock --localtime --systohc      </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å°†æœ¬åœ°æ—¶é—´æ›´æ–°åˆ°ç¡¬ä»¶ä¸Š</span></span><br></pre></td></tr></table></figure><p>åœ¨winä¸Šå†åŒæ­¥ä¸€ä¸‹æ—¶é—´å³å¯</p><h2 id="åŒç³»ç»Ÿè“ç‰™å…±äº«"><a href="#åŒç³»ç»Ÿè“ç‰™å…±äº«" class="headerlink" title="åŒç³»ç»Ÿè“ç‰™å…±äº«"></a>åŒç³»ç»Ÿè“ç‰™å…±äº«</h2><blockquote><p>ç‹¼è››F99 é•¿æŒ‰ Fn + 1 è¿›å…¥è“ç‰™åŒ¹é… (ä¹‹å‰ç½‘ä¸Šæœåˆ°çš„Fn+123åŒ¹é…ä¸€ç›´å¤±æ•ˆ)<br>TWS4 æ‰“å¼€è€³æœºä»“ é•¿æŒ‰ å³ä¾§æŒ‰é”®è¿›å…¥è“ç‰™åŒ¹é…</p></blockquote><p>ä¸€èˆ¬åœ¨å®‰è£…åŒç³»ç»Ÿåï¼Œåˆ‡æ¢ç³»ç»Ÿæ€»æ˜¯éœ€è¦é‡æ–°é…å¯¹è“ç‰™è®¾å¤‡ï¼Œè™½ç„¶æ˜¾ç¤ºå·²è¿æ¥ï¼Œä½†æ˜¯è¦å…ˆåˆ é™¤ï¼Œé—å¿˜è¯¥è®¾å¤‡åé‡æ–°åŒ¹é…ï¼Œè®¾ç½®å…±äº«å³å¯æŠŠä¸¤ä¸ªç³»ç»Ÿå½“æˆä¸€ä¸ªï¼Œå¾ˆå¥½é¿å…äº†è¯¥é—®é¢˜</p><p>ä¸‹é¢æ˜¯è§£å†³æ–¹æ¡ˆ</p><h4 id="å®‰è£…chntpw"><a href="#å®‰è£…chntpw" class="headerlink" title="å®‰è£…chntpw"></a>å®‰è£…chntpw</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install chntpw</span><br></pre></td></tr></table></figure><p>åœ¨Ubuntuä¸­æ‰¾åˆ° windows çš„ Cç›˜ windows system32 configæ–‡ä»¶å¤¹</p><p>å³é”®æ­¤å¤„æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chntpw -e SYSTEM</span><br></pre></td></tr></table></figure><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/11.png"></p><h4 id="æŸ¥çœ‹è“ç‰™-MAC"><a href="#æŸ¥çœ‹è“ç‰™-MAC" class="headerlink" title="æŸ¥çœ‹è“ç‰™ MAC"></a>æŸ¥çœ‹è“ç‰™ MAC</h4><p>è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥é€šè¿‡ <code>cd&#39;</code> æ‰¾åˆ°è“ç‰™æ‰€åœ¨ä½ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ControlSet001\Services\BTHPORT\Parameters\Keys</span><br></pre></td></tr></table></figure><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/12.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd f4c88a4d458f</span><br></pre></td></tr></table></figure><p>è¾“å…¥ <code>ls</code> æŸ¥çœ‹windowsä¸‹æ›¾ç»è¿æ¥è¿‡çš„è®¾å¤‡</p><p>æŸ¥æ‰¾ <code>value name</code> ä¸‹å¯¹åº”è¦ä¿®æ”¹çš„è“ç‰™è®¾å¤‡,MACåœ°å€å¯ä»¥é€šè¿‡Ubuntuä¸‹æŸ¥çœ‹</p><p>æœ€åä¸€ä¸ª <code>1c7a4380c398</code> æ˜¯åšä¸» TWS4 çš„åœ°å€ </p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/13.png"></p><p>ç»ˆç«¯è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hex 1c7a4380c398</span><br></pre></td></tr></table></figure><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/14.png"></p><p>å¤åˆ¶MACåœ°å€ </p><h4 id="ä¿®æ”¹-info"><a href="#ä¿®æ”¹-info" class="headerlink" title="ä¿®æ”¹ info"></a>ä¿®æ”¹ <code>info</code></h4><p>æ‰“å¼€æ–‡ä»¶å¤¹</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/15.png"></p><p>å¦‚æœæ˜¯cdåˆ°ç›®å½•d<br>è¿›å…¥å¯¹åº”åœ°å€çš„æ–‡ä»¶å¤¹ï¼Œé€šè¿‡ <code>vim</code><br>æ‰“å¼€ <code>info</code> æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim info</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ç›´æ¥å›¾å½¢åŒ–ç‚¹å¼€</p><p>ä¿®æ”¹ <code>LinkKey</code> ä¸‹çš„ <code>key</code> æˆåˆšåˆšè¾“å‡ºçš„MACåœ°å€</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/16.png"></p><h4 id="é‡å¯è“ç‰™"><a href="#é‡å¯è“ç‰™" class="headerlink" title="é‡å¯è“ç‰™"></a>é‡å¯è“ç‰™</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart bluetooth</span><br></pre></td></tr></table></figure><h2 id="Rimeè¾“å…¥æ³•"><a href="#Rimeè¾“å…¥æ³•" class="headerlink" title="Rimeè¾“å…¥æ³•"></a>Rimeè¾“å…¥æ³•</h2><p>Rimeè¾“å…¥æ³•æä¾›ç»™ç”¨æˆ·é«˜åº¦è‡ªå®šä¹‰åŒ–,å¯å®ç°é¢œæ–‡å­—,å¸Œè…Šå­—æ¯çš„è¾“å…¥</p><h4 id="å®‰è£…Rime"><a href="#å®‰è£…Rime" class="headerlink" title="å®‰è£…Rime"></a>å®‰è£…Rime</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ibus-rime</span><br></pre></td></tr></table></figure><p>æ­¤å¤„å®‰è£…<code>ibus</code>ç‰ˆæœ¬</p><p>ä¹Ÿå¯ä»¥å®‰è£… apt-get å®‰è£… Rime åŸç‰ˆ</p><p>è¿›å…¥è®¾ç½® åŒºåŸŸä¸è¯­è¨€ åœ¨è¾“å…¥æ³•ç³»ç»Ÿä¸­é€‰æ‹© <code>ibus</code></p><p>åœ¨ è®¾ç½® é”®ç›˜ ä¸­ æ·»åŠ  Rime è¾“å…¥æº </p><h4 id="å®‰è£…-Plum"><a href="#å®‰è£…-Plum" class="headerlink" title="å®‰è£… Plum"></a>å®‰è£… Plum</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://raw.githubusercontent.com/rime/plum/master/rime-install | bash</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç›´æ¥ä¸‹è½½å¹¶è¿è¡Œ Rime çš„é…ç½®ç®¡ç†å·¥å…· plum,å®ƒä¼šè‡ªåŠ¨å®‰è£… Rime è¾“å…¥æ–¹æ¡ˆã€è¯å…¸å’Œè¡¥ä¸ã€‚</span></span><br></pre></td></tr></table></figure><ul><li><p>curl -fsSL: é™é»˜ä¸‹è½½è„šæœ¬ï¼ˆä¸æ˜¾ç¤ºè¿›åº¦ï¼Œå¿½ç•¥ SSL è¯ä¹¦é”™è¯¯ï¼‰ã€‚</p></li><li><p>bash: å°†ä¸‹è½½çš„è„šæœ¬ç›´æ¥é€šè¿‡ Bash æ‰§è¡Œã€‚</p></li></ul><p>è¯¥å‘½ä»¤ç­‰åŒäºæ‰‹åŠ¨å…‹éš† plum ä»“åº“åè¿è¡Œ .&#x2F;rime-install,ä½†æ›´ç›´æ¥ã€‚å®ƒä¼šæ ¹æ®å‚æ•°å®‰è£…æŒ‡å®šçš„è¾“å…¥æ–¹æ¡ˆ</p><blockquote><p>UPçš„æ“ä½œ</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth 1 https://github.com/rime/plum.git</span><br><span class="line">cd plum</span><br><span class="line"></span><br><span class="line">./rime-install luna-pinyin emoji zhwiki</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…æœ™æœˆæ‹¼éŸ³ã€è¡¨æƒ…ç¬¦å·ã€ç»´åŸºæ‹¼éŸ³</span></span><br><span class="line"></span><br><span class="line">./rime-install aurora-pinyin</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…æå…‰æ‹¼éŸ³ï¼ˆAuroraï¼‰</span></span><br></pre></td></tr></table></figure><blockquote><p>åé¢å‘ç° æœ‰äº›åº“åœ°å€æ›´æ”¹ åŸå…ˆçš„ è„šæœ¬ä¸å¤ªè¡Œäº† ç”¨Deepeekç ”ç©¶äº†ä¸€ä¸‹è¿™æ–¹é¢ å°½ç®¡ æœ€åæˆåŠŸ ä½†æ˜¯å†ç¨‹è‰°è¾› é…ç½®ä¸æ˜“ åç»­æœ‰æ—¶é—´å•å¼€ä¸€ç¯‡åšå®¢æ¼”ç¤ºè®²è§£</p></blockquote><h2 id="éšè—-VScode-é¡¶éƒ¨æ ‡é¢˜æ "><a href="#éšè—-VScode-é¡¶éƒ¨æ ‡é¢˜æ " class="headerlink" title="éšè— VScode é¡¶éƒ¨æ ‡é¢˜æ "></a>éšè— VScode é¡¶éƒ¨æ ‡é¢˜æ </h2><p>è¿›å…¥è®¾ç½® ä¿®æ”¹ä¸ºcustom</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/9.png"></p><h2 id="è“ç‰™è€³æœºå•è¾¹æ²¡å£°éŸ³"><a href="#è“ç‰™è€³æœºå•è¾¹æ²¡å£°éŸ³" class="headerlink" title="è“ç‰™è€³æœºå•è¾¹æ²¡å£°éŸ³"></a>è“ç‰™è€³æœºå•è¾¹æ²¡å£°éŸ³</h2><p>åœ¨å®‰è£…å®Œç³»ç»Ÿå,å‘ç°è€³æœºèƒ½æ­£å¸¸è¿æ¥,å´æœ‰ä¸€è¾¹æ²¡æœ‰å£°éŸ³è¾“å‡º</p><p>Sollution æ‰“å¼€è®¾ç½® å£°éŸ³(sound) ä¿®æ”¹input device åˆ‡æ¢ä¸ºè€³æœºå†åˆ‡æ¢å›æ¥</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/8.png"></p><p>æˆåŠŸä¿®å¤ ! (åŸå› æš‚æœªçŸ¥)</p><h2 id="å®‰è£…-NVIDIA-æ˜¾å¡é©±åŠ¨"><a href="#å®‰è£…-NVIDIA-æ˜¾å¡é©±åŠ¨" class="headerlink" title="å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨"></a>å®‰è£… NVIDIA æ˜¾å¡é©±åŠ¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu-drivers devices</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰è¾“å‡º</p><p>æŸ¥è¯¢æ–¹æ³•ä»¥ä¸‹æ“ä½œ</p><p>å®‰è£…æ˜¾å¡é©±åŠ¨å·¥å…·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nvidia-cuda-toolkit</span><br></pre></td></tr></table></figure><p>æ·»åŠ é©±åŠ¨æº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:graphics-drivers/ppa</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰ä»»ä½•æ•ˆæœ,å‡æ— è¾“å‡º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci -nn | grep -i nvidia</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰è¾“å‡º,ç³»ç»Ÿæ— æ³•è¯†åˆ«åˆ°NVIDIAæ˜¾å¡</p><p>è€ƒè™‘å¯èƒ½PCleè®¾å¤‡æˆ–è€…BIOSéšè—ç‹¬ç«‹æ˜¾å¡ (å¾ˆå¯èƒ½,åœ¨winä¸­GPUæ˜¯çœç”µæ¨¡å¼)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/default/grub</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ° <code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash</code> ä¿®æ”¹å¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash pcie_port_pm=off&quot;</span><br></pre></td></tr></table></figure><blockquote><p><code>i</code>  <code>:wq</code></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-grub</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure><p>æ›´æ–°é‡å¯</p><p>å†æ¬¡è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci -nn | grep -i nvidia</span><br></pre></td></tr></table></figure><p>æ— æœï¼Œè¿˜æ˜¯ä¸è¡Œ</p><p>å¿½ç„¶å‘ç°å»windows è®¾ç½®ä¸º ç‹¬æ˜¾ å³å¯</p><p>ä½†æ˜¯ Ubuntu è‰²è°ƒ å…¨éƒ¨å˜æˆè“è‰²(<del>æœªçŸ¥åŸå› </del>)</p><hr><p>æ›´æ–° å¯èƒ½æ›´æ”¹åè‰²å½©é…ç½®å‡ºç°é”™è¯¯ åŸå…ˆé»˜è®¤çš„ <code>LP173WFG-SPT2</code> ä¿®æ”¹ä¸º æ ‡å‡†è‰²å½©ç©ºé—´</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/25.png"></p><p>æˆåŠŸæ¢å¤!</p><hr><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu-drivers devices</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">whale@UP:~$ ubuntu-drivers devices</span><br><span class="line">== /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0 ==</span><br><span class="line">modalias : pci:v000010DEd000028A0sv00001043sd000031D8bc03sc00i00</span><br><span class="line">vendor   : NVIDIA Corporation</span><br><span class="line">driver   : nvidia-driver-535-server-open - distro non-free</span><br><span class="line">driver   : nvidia-driver-570 - third-party non-free</span><br><span class="line">driver   : nvidia-driver-560 - third-party non-free recommended</span><br><span class="line">driver   : nvidia-driver-535-open - distro non-free</span><br><span class="line">driver   : nvidia-driver-570-open - third-party non-free</span><br><span class="line">driver   : nvidia-driver-535 - distro non-free</span><br><span class="line">driver   : nvidia-driver-565-open - third-party non-free</span><br><span class="line">driver   : nvidia-driver-545-open - distro non-free</span><br><span class="line">driver   : nvidia-driver-545 - distro non-free</span><br><span class="line">driver   : nvidia-driver-550 - third-party non-free</span><br><span class="line">driver   : nvidia-driver-550-open - third-party non-free</span><br><span class="line">driver   : nvidia-driver-565 - third-party non-free</span><br><span class="line">driver   : nvidia-driver-560-open - third-party non-free</span><br><span class="line">driver   : nvidia-driver-535-server - distro non-free</span><br><span class="line">driver   : xserver-xorg-video-nouveau - distro free builtin</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nvidia-driver-560</span><br></pre></td></tr></table></figure><p>å¤§å®¶é€‰æ‹©åé¢æœ‰ <code>recommended</code> </p><p>è¿™é‡Œä¸‹è½½éå¸¸æ…¢ å»ºè®®æœ‰æ¡ä»¶å¼€ä¸€ä¸ªå…¨å±€ä»£ç†</p><p>å®‰è£…å®Œæˆåé‡å¯ç”µè„‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot now</span><br></pre></td></tr></table></figure><p>æˆåŠŸï¼ï¼</p><p>åˆ é™¤ä¹‹å‰åœ¨ grub ä¸­çš„ä¿®æ”¹ ç§»é™¤ <code>nvidia-cuda-toolkit</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove nvidia-cuda-toolkit</span><br></pre></td></tr></table></figure><p>é‡å¯</p><h2 id="å®‰è£…-cuda"><a href="#å®‰è£…-cuda" class="headerlink" title="å®‰è£… cuda"></a>å®‰è£… cuda</h2><p>ç»ˆç«¯è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹GPUæœ€é«˜æ”¯æŒCUDAçš„ç‰ˆæœ¬</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/26.png"></p><p>å›¾ç‰‡æ˜¾ç¤ºæ˜¯ <code>CUDA Version: 12.6</code></p><p>å»å®˜ç½‘æŸ¥è¯¢é€‚é…ç‰ˆæœ¬ <a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html">NVIDIA CUDA Toolkit Release Notes</a></p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/27.png"></p><p>å»  <a href="https://developer.nvidia.com/cuda-toolkit-archive">NVIDIAå®˜ç½‘-CUDA Toolkit Archive</a></p><p>é€‰æ‹©è‡ªå·±çš„å‹å· ä¸‹è½½ è¾“å…¥æŒ‡ä»¤</p><p>åšä¸»è¿™é‡Œä¸‹è½½ CUDA 12.6.2</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install g++</span><br><span class="line">sudo apt-get install gcc</span><br><span class="line">sudo apt-get install make</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install initramfs-tools</span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/12.6.2/local_installers/cuda_12.6.2_560.35.03_linux.run</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæœ€å¥½ä¸è¦å¼€ä»£ç† é¿å…ä¸ç¨³å®š é©¬ä¸Šåˆè¦é‡æ–°ä¸‹è½½ (è¡€çš„æ•™è®­)(å“­)</p></blockquote><p>ä¸è¡Œçš„è¯•ä¸€è¯•è¿™ä¸ª</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ls -l cuda_12.6.2_560.35.03_linux.run</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦åŒ¹é…ï¼ˆåº”æ˜¾ç¤º4,446,677,374å­—èŠ‚ï¼‰</span></span><br><span class="line"></span><br><span class="line">wget -c https://developer.download.nvidia.com/compute/cuda/12.6.2/local_installers/cuda_12.6.2_560.35.03_linux.run</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å»ºè®®é‡æ–°ä¸‹è½½ï¼ˆä½¿ç”¨æ–­ç‚¹ç»­ä¼ ï¼‰</span></span><br></pre></td></tr></table></figure><p>ç¡®ä¿æ–‡ä»¶æ•°æ®å¤§å°ç­‰å‡æ­£ç¡® <code>4446677374</code></p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/28.png"></p><p>æ‰§è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh cuda_12.6.2_560.35.03_linux.run</span><br></pre></td></tr></table></figure><p>é€‰æ‹© Continue</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/29.png"></p><p>è¾“å…¥ <code>accept</code> å›è½¦</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/30.png"></p><p>å»é™¤ <code>Driver</code> (å›è½¦ Enterç”¨äºå‹¾é€‰) </p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/31.png"></p><p>ç‚¹å‡»å®‰è£… ç­‰å¾…</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/32.png"></p><p>å®‰è£…æˆåŠŸ</p><p>å‡ºç°è­¦å‘Šæ˜¯æ­£å¸¸çš„ å¯¹å®‰è£…æ²¡æœ‰å½±å“</p><blockquote><p><strong>é…ç½®CUDA</strong></p></blockquote><p>æ­¤å¤„æ¼”ç¤ºç»ˆç«¯ä¸º bashï¼Œè‹¥ä½ çš„ç»ˆç«¯ä¸º zshï¼Œåˆ™åº”ä¿®æ”¹ç›¸åº”çš„ ~&#x2F;.zshrc</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br></pre></td></tr></table></figure><p>åœ¨æœ€ä¸‹æ–¹æ·»åŠ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/cuda-12.6/bin</span><br><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-12.6/lib64</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„ æ ¹æ®å®‰è£…ç‰ˆæœ¬ä¸åŒ éœ€è¦æœ‰ä¸åŒç›®å½•æ”¹åŠ¨</p></blockquote><p>æ›´æ–°ç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹å³å¯</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/33.png"></p><h2 id="ç‹¬æ˜¾-é›†æ˜¾-åˆ‡æ¢"><a href="#ç‹¬æ˜¾-é›†æ˜¾-åˆ‡æ¢" class="headerlink" title="ç‹¬æ˜¾ é›†æ˜¾ åˆ‡æ¢"></a>ç‹¬æ˜¾ é›†æ˜¾ åˆ‡æ¢</h2><p>è¾“å…¥æŒ‡ä»¤ æŸ¥çœ‹ç›®å‰æ˜¾å¡ä½¿ç”¨æ¨¡å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prime-select query</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬åˆšå®‰è£…å®Œéƒ½æ˜¯ <code>on-demand</code> æ··åˆæ¨¡å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo prime-select intel</span><br></pre></td></tr></table></figure><p>è½¬æ¢ä¸º <code>intel</code></p><p>å…³æœºé‡å¯</p><p>è¿™é‡Œ <code>intel</code> å¯æ›¿æ¢ <code>nvidia|intel|on-demand|query</code> </p><p>å…¶ä¸­ <code>sudo prime-select query</code> è¡¨ç¤ºæŸ¥è¯¢å½“å‰æ˜¾å¡é©±åŠ¨ </p><h2 id="å®‰è£…-ROS2"><a href="#å®‰è£…-ROS2" class="headerlink" title="å®‰è£… ROS2"></a>å®‰è£… ROS2</h2><p>å°é±¼ä¸€é”®å®‰è£…ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://fishros.com/install -O fishros &amp;&amp; . fishros</span><br></pre></td></tr></table></figure><p>æ ¹æ®è¾“å…¥æç¤ºé…ç½®å³å¯ éå¸¸å¿« !</p><h2 id="éšè—é¡¶éƒ¨çŠ¶æ€æ "><a href="#éšè—é¡¶éƒ¨çŠ¶æ€æ " class="headerlink" title="éšè—é¡¶éƒ¨çŠ¶æ€æ "></a>éšè—é¡¶éƒ¨çŠ¶æ€æ </h2><p>æ’ä¸€ä¸‹Gnomeç›®å‰é…ç½® ä»¥åæœ‰æ—¶é—´å†ä¼˜åŒ–</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/35.png" alt=" "></p><p>ä¸‹è½½gnome extentionæ‹“å±•æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-shell-extension-manager</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯Ubuntu22.04 æˆ–è€…æ›´æ—©çš„ç‰ˆæœ¬,éœ€è¦é¢å¤–å®‰è£…æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install chrome-gnome-shell gnome-shell-extension-prefs</span><br></pre></td></tr></table></figure><p>æ‰“å¼€è½¯ä»¶ æœç´¢ Hide Top Bar éšè—é¡¶éƒ¨çŠ¶æ€æ </p><p>è¿˜èƒ½æœç´¢å…¶ä»–æœ‰æ„æ€çš„æ’ä»¶ä½¿ç”¨</p><p>å¸è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg --purge chrome-gnome-shell</span><br></pre></td></tr></table></figure><p><code>purge</code>å‚æ•°ä¼šå°†é…ç½®æ–‡ä»¶åˆ é™¤ <code>remove</code>åªæ˜¯åˆ é™¤å®‰è£…æ–‡ä»¶</p><p>æ‹“å±•é…ç½®</p><h2 id="ä¿®æ”¹Gnome-CSSé…ç½®"><a href="#ä¿®æ”¹Gnome-CSSé…ç½®" class="headerlink" title="ä¿®æ”¹Gnome CSSé…ç½®"></a>ä¿®æ”¹Gnome CSSé…ç½®</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.config/gnome-shell/</span><br><span class="line">sudo vim gnome-shell.css</span><br></pre></td></tr></table></figure><p>æŒ‰ <code>Alt + F2</code> è¾“å…¥ <code>r</code> é‡å¯ GNOME Shell</p><p>é”™è¯¯æ–¹æ³• å·²å¼ƒç”¨</p><blockquote><p>ä¸æƒ³æŠ˜è…¾äº† ä»¥åå†è¯´</p></blockquote><hr><h2 id="å‰ªåˆ‡æ¿"><a href="#å‰ªåˆ‡æ¿" class="headerlink" title="å‰ªåˆ‡æ¿"></a>å‰ªåˆ‡æ¿</h2><h3 id="CopyQ"><a href="#CopyQ" class="headerlink" title="CopyQ"></a>CopyQ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install copyq</span><br></pre></td></tr></table></figure><p>ä¸æ˜¯å¾ˆé€‚åˆæˆ‘ å·²å¼ƒç”¨</p><h3 id="Clipboard-indicator"><a href="#Clipboard-indicator" class="headerlink" title="Clipboard indicator"></a>Clipboard indicator</h3><p>gnomeæ‹“å±• </p><p>å¿«æ·é”®æŒ‡ä»¤ å¾…å¼€å‘</p><p>å·²ç»å¼ƒç”¨</p><h3 id="Diodon-ä½¿ç”¨"><a href="#Diodon-ä½¿ç”¨" class="headerlink" title="Diodon (ä½¿ç”¨)"></a>Diodon (ä½¿ç”¨)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install diodon</span><br></pre></td></tr></table></figure><p>åœ¨è‡ªå·±æ¡Œé¢ç¯å¢ƒé…ç½®è‡ªå®šä¹‰å¿«æ·é”®<br>æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/diodon</span><br></pre></td></tr></table></figure><h2 id="åœ¨å½“å‰æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯"><a href="#åœ¨å½“å‰æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯" class="headerlink" title="åœ¨å½“å‰æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯"></a>åœ¨å½“å‰æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nautilus</span><br><span class="line">nautilus -q</span><br><span class="line">sudo apt-get install xdotool xclip</span><br><span class="line">sudo vim /usr/bin/openterminal.sh</span><br></pre></td></tr></table></figure><p>å†™å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#record the current ClipBoard</span></span><br><span class="line"><span class="comment">#clipboard_current=$(xclip -o)</span></span><br><span class="line">pid_list=`xdotool search --class <span class="string">&quot;nautilus&quot;</span>`</span><br><span class="line"></span><br><span class="line"><span class="comment">#loop for the right window</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$pid_list</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">name=`xdotool getwindowname <span class="string">&quot;<span class="variable">$i</span>&quot;</span>`</span><br><span class="line">name_lower=$(<span class="built_in">echo</span> <span class="variable">$name</span> | <span class="built_in">tr</span> [a-z] [A-Z])</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name_lower</span>&quot;</span> | grep -qwi <span class="string">&quot;.*desktop*&quot;</span>;<span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;desktop window&quot;</span></span><br><span class="line"><span class="keyword">elif</span> <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name_lower</span>&quot;</span> | grep -qwi <span class="string">&quot;.*nautilus*&quot;</span>;<span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;nautilus window&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">id</span>=<span class="variable">$i</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#get the current working directory</span></span><br><span class="line"><span class="built_in">wait</span>=`xdotool windowfocus <span class="variable">$id</span>`</span><br><span class="line"><span class="built_in">sleep</span> 0.2</span><br><span class="line"><span class="built_in">wait</span>=`xdotool key Ctrl+l`</span><br><span class="line"><span class="built_in">sleep</span> 0.2</span><br><span class="line"><span class="built_in">wait</span>=`xdotool key Ctrl+c`</span><br><span class="line"><span class="built_in">sleep</span> 0.1</span><br><span class="line">path=$(xclip -o)</span><br><span class="line"><span class="built_in">wait</span>=`xdotool key Escape`</span><br><span class="line"><span class="built_in">sleep</span> 0.1</span><br><span class="line">gnome-terminal --working-directory <span class="string">&quot;<span class="variable">$&#123;path&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ æ‰§è¡Œæƒé™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod  +x /usr/bin/openterminal.sh</span><br></pre></td></tr></table></figure><p>åœ¨è®¾ç½®ä¸­åŠ å…¥å¿«æ·é”®</p><h2 id="å±å¹•äº®åº¦è°ƒèŠ‚æ²¡ååº”"><a href="#å±å¹•äº®åº¦è°ƒèŠ‚æ²¡ååº”" class="headerlink" title="å±å¹•äº®åº¦è°ƒèŠ‚æ²¡ååº”"></a>å±å¹•äº®åº¦è°ƒèŠ‚æ²¡ååº”</h2><p>è°ƒèŠ‚å±å¹•äº®åº¦æŒ‰é’®æ—¶å€™ ä¸€ç›´ä¿æŒæœ€å¤§äº®åº¦</p><p>æ€€ç–‘æ˜¯å®‰è£…MVIDIAé©±åŠ¨é€ æˆçš„(è‡ªä»å®‰è£…åçŠ¶å†µé¢‘å‡º)</p><p><img src="/./images/Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F/34-1.png"></p><p>ä¿®æ”¹ <code>GRUB_CMDLINE_LINUX=&quot;quiet splash acpi_backlight=native&quot;</code>å‚æ•° é‡å¯åæˆåŠŸ</p><h2 id="æˆªå›¾å·¥å…·"><a href="#æˆªå›¾å·¥å…·" class="headerlink" title="æˆªå›¾å·¥å…·"></a>æˆªå›¾å·¥å…·</h2><h3 id="flameshot"><a href="#flameshot" class="headerlink" title="flameshot"></a>flameshot</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install flameshot</span><br></pre></td></tr></table></figure><p>é…ç½®è‡ªå®šä¹‰å¿«æ·é”®</p><p>æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/flameshot gui</span><br></pre></td></tr></table></figure><h2 id="å½•å±å·¥å…·"><a href="#å½•å±å·¥å…·" class="headerlink" title="å½•å±å·¥å…·"></a>å½•å±å·¥å…·</h2><p><a href="https://obsproject.com/">OBS-Open Broadcaster Software</a></p><h2 id="å®‰è£…-princexml"><a href="#å®‰è£…-princexml" class="headerlink" title="å®‰è£… princexml"></a>å®‰è£… princexml</h2><p>å®˜ç½‘ä¸‹è½½ <a href="https://www.princexml.com/download/15/">Prince</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y gdebi</span><br><span class="line">sudo apt --fix-broken install</span><br><span class="line">sudo apt install -y gdebi # -y è‡ªåŠ¨é€‰æ‹©yes</span><br><span class="line">sudo dpkg -i prince_15.4.1-1_ubuntu22.04_amd64.deb </span><br><span class="line">sudo gdebi prince_15.4.1-1_ubuntu22.04_amd64.deb </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prince --version</span><br></pre></td></tr></table></figure><p>è¿”å›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">whale@UP:~/Downloads$ prince --version</span><br><span class="line">Prince 15.4.1</span><br><span class="line">Copyright 2002-2023 YesLogic Pty. Ltd.</span><br><span class="line">Non-commercial License</span><br></pre></td></tr></table></figure><p>ä¸å¥½ç”¨ åˆ é™¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge prince</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-è°·æ­Œæµè§ˆå™¨"><a href="#å®‰è£…-è°·æ­Œæµè§ˆå™¨" class="headerlink" title="å®‰è£… è°·æ­Œæµè§ˆå™¨"></a>å®‰è£… è°·æ­Œæµè§ˆå™¨</h2><h2 id="å®‰è£…-Terminator-ç»ˆç«¯"><a href="#å®‰è£…-Terminator-ç»ˆç«¯" class="headerlink" title="å®‰è£… Terminator ç»ˆç«¯"></a>å®‰è£… Terminator ç»ˆç«¯</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install terminator</span><br></pre></td></tr></table></figure><h3 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h3><p>æœç´¢ <code>ctrl + shift + F</code></p><h2 id="å®‰è£…-OBS-å½•å±è½¯ä»¶"><a href="#å®‰è£…-OBS-å½•å±è½¯ä»¶" class="headerlink" title="å®‰è£… OBS å½•å±è½¯ä»¶"></a>å®‰è£… OBS å½•å±è½¯ä»¶</h2><blockquote><p>é€‚ç”¨äº hdmi é‡‡é›†å¡</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:obsproject/obs-studio</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install obs-studio</span><br></pre></td></tr></table></figure><p>å¸è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt uninstall obs-studio</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-flatpak"><a href="#å®‰è£…-flatpak" class="headerlink" title="å®‰è£… flatpak"></a>å®‰è£… flatpak</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install flatpak</span><br><span class="line">sudo apt install gnome-software-plugin-flatpak</span><br><span class="line">flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo</span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿæ—¶é—´ä¸æ­£ç¡®å¯èƒ½ä¼šæŠ¥è¯ä¹¦è®¤è¯é”™è¯¯</p><h2 id="å®‰è£…-ä»»åŠ¡ç®¡ç†å™¨"><a href="#å®‰è£…-ä»»åŠ¡ç®¡ç†å™¨" class="headerlink" title="å®‰è£… ä»»åŠ¡ç®¡ç†å™¨"></a>å®‰è£… ä»»åŠ¡ç®¡ç†å™¨</h2><p>é€‚ç”¨äº Linux çš„ç°ä»£ä»»åŠ¡å’ŒæœåŠ¡ç®¡ç†å™¨åº”ç”¨ç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flatpak install https://dl.flathub.org/repo/appstream/io.missioncenter.MissionCenter.flatpakref</span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿæ—¶é—´ä¸æ­£ç¡®å¯èƒ½ä¼šæŠ¥è¯ä¹¦è®¤è¯é”™è¯¯</p><h2 id="é‡å¯ubuntuæ–‡ä»¶ç³»ç»Ÿ"><a href="#é‡å¯ubuntuæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="é‡å¯ubuntuæ–‡ä»¶ç³»ç»Ÿ"></a>é‡å¯ubuntuæ–‡ä»¶ç³»ç»Ÿ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -A | grep nautilus</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å¯¹åº”çš„pidæ‰§è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo kill -9 &lt;pid&gt;</span><br></pre></td></tr></table></figure><p>å³å¯ï¼Œéšæ„ç‚¹å‡»æ–‡ä»¶å³å¯é‡å¯</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Ubuntu </tag>
            
            <tag> åŒç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHubçš„é…ç½®å­¦ä¹ </title>
      <link href="/2025/02/04/GitHub%E7%9A%84%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0/"/>
      <url>/2025/02/04/GitHub%E7%9A%84%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰ç½®å­¦ä¹ è¿æ¥ <a href="https://whaltze.github.io/2024/09/15/%E9%80%9A%E8%BF%87Git%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E8%87%B3Github/">é€šè¿‡Gitä¸Šä¼ æœ¬åœ°é¡¹ç›®è‡³GitHub</a></p></blockquote><h2 id="ä¸€å°ç”µè„‘é…ç½®å¤šGitHubè´¦æˆ·"><a href="#ä¸€å°ç”µè„‘é…ç½®å¤šGitHubè´¦æˆ·" class="headerlink" title="ä¸€å°ç”µè„‘é…ç½®å¤šGitHubè´¦æˆ·"></a>ä¸€å°ç”µè„‘é…ç½®å¤šGitHubè´¦æˆ·</h2><h3 id="åˆ›å»ºæ–°è´¦å·sshå¯†é’¥"><a href="#åˆ›å»ºæ–°è´¦å·sshå¯†é’¥" class="headerlink" title="åˆ›å»ºæ–°è´¦å·sshå¯†é’¥"></a>åˆ›å»ºæ–°è´¦å·sshå¯†é’¥</h3><p>æ‰¾åˆ°Cç›˜è·¯å¾„ä¸‹çš„.sshæ–‡ä»¶</p><p>C:\Users\Administrator.ssh\</p><p>å³é”®bash here<br>è¾“å…¥æ³¨å†Œè´¦æˆ·çš„é‚®ç®±</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;Whaltze.cn@gmail.com&quot;</span><br></pre></td></tr></table></figure><p>åœ¨æœ«å°¾æ·»åŠ åç§°id_rsa_main(å’ŒåŸæ¥ çš„åç§°ä¸åŒå³å¯)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/c/Users/22602/.ssh/id_rsa): id_rsa_main</span><br></pre></td></tr></table></figure><p>åç»­å¯ä»¥ç›´æ¥æ•²å›è½¦å³å¯,æœ€åç»“æœå¦‚ä¸‹</p><p><img src="/./images/GitHub%E7%9A%84%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0/1.png" alt=" "></p><h3 id="å»ºç«‹configæ–‡ä»¶"><a href="#å»ºç«‹configæ–‡ä»¶" class="headerlink" title="å»ºç«‹configæ–‡ä»¶"></a>å»ºç«‹configæ–‡ä»¶</h3><p>åœ¨.sshæ–‡ä»¶ä¸‹æ–°å»ºconfigæ–‡ä»¶(æ³¨æ„ç›´æ¥ä»¥configå‘½åå³å¯,æ²¡æœ‰å…¶ä»–åç¼€åå­—)</p><p>åœ¨configå†…å†™å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Host Whaltze.github.com</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Host Whaltze.github.com æ­¤å¤„ä¸ºGitHubåœ°å€,å¦‚æœæœ‰äº›æœåŠ¡å™¨åšçš„ipç«¯å£è½¬å‘ï¼Œè¿™é‡Œä¸è¦å¸¦ä¸Šç«¯å£å·</span></span><br><span class="line">HostName github.com</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">HostName æ˜¯è¿œç¨‹ä»“åº“çš„åœ°å€ï¼ŒåŒæ ·å¦‚æœåšçš„ç«¯å£è½¬å‘ä¹Ÿä¸åº”å¸¦ç«¯å£å·</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">HostName ä¸»æœºåå¯ç”¨ipä¹Ÿå¯ä»¥æ˜¯åŸŸå(å¦‚:github.comæˆ–è€…bitbucket.org)</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Port ç«¯å£å·ï¼Œå¦‚æœæœ‰åšè½¬å‘éœ€è¦åœ¨è¿™é‡Œå¡«å†™ç«¯å£å·ï¼Œæ²¡æœ‰å°±ä¸å¿…è¦å¡«</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Port æœåŠ¡å™¨open-sshç«¯å£ï¼ˆé»˜è®¤ï¼š22,é»˜è®¤æ—¶ä¸€èˆ¬ä¸å†™æ­¤è¡Œ</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Port 8800</span></span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”¨æˆ·</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">User ç™»å½•ç”¨æˆ·å(å¦‚ï¼šgit)</span></span><br><span class="line">User git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¯†åˆ«keyçš„æ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">IdentityFile è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚~/.ssh/id_rsa_*)</span></span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">éƒ½æŒ‡å‘åŒä¸€ä¸ªå¹³å°çš„è¯ï¼Œä¸‹é¢çš„Hostéœ€è¦åšä¸ªå¤„ç†ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç”¨è¿™ä¸ªkeyçš„æ—¶å€™æ ¹æ®Hostä»ä¸Šåˆ°ä¸‹è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¸åšä¿®æ”¹è‚¯å®šä¼šå…ˆæŸ¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªkey,ä¾æ—§æ— æ•ˆï¼Œéšä¾¿æ”¹å°±å¥½äº†ï¼Œå…¶ä»–å‚æ•°ä¸åšç‰¹æ®Šå¤„ç†</span></span><br><span class="line">Host W-Ziheng.github.com</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Port 8800</span></span><br><span class="line">User git</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_main</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åç»­gitç›¸å…³å†…å®¹æ—¶å€™å°±åº”è¯¥æ”¹æˆ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone git@Whaltze.github.com:W-Ziheng/RM_CLASS.git  </span><br><span class="line">git clone git@W-Ziheng.github.com:W-Ziheng/RM_CLASS.git</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <strong>W-Ziheng&#x2F;RM_CLASS.git</strong> ä¸ºé¡¹ç›®åå­—</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@Whaltze.github:xxx/example.git </span><br><span class="line">git remote add origin git@W-Ziheng.github:xxx/example.git </span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åœ¨bashä¸­è¾“å…¥ æ£€æµ‹æ˜¯å¦è¿æ¥æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@Whaltze.github.com</span><br><span class="line"></span><br><span class="line">ssh -T git@W-Ziheng.github.com</span><br></pre></td></tr></table></figure><p>æ­£å¸¸åº”è¯¥æ˜¾ç¤ºå¦‚ä¸‹</p><p><img src="/./images/GitHub%E7%9A%84%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0/2.png" alt=" "></p><p>ç»†å¿ƒçš„ä½ å¯èƒ½å‘ç°æœ€åä¸€ä¸ªæŒ‡ä»¤ä¸ºä»€ä¹ˆä¹Ÿä¼šè¾“å‡º <strong>Success</strong><br>åœ¨windowsçš„ User&#x2F;ç›®å½•ä¸‹,æˆ‘ä»¬èƒ½å‘ç°æœ‰ä¸€ä¸ªæ–‡ä»¶ <strong>.gitconfig</strong> è¿™ä¸ªå…¨å±€å˜é‡,é‡Œé¢åŒ…å«äº†æˆ‘ä»¬ç¬¬ä¸€æ¬¡é…ç½®githubæ—¶å€™çš„ç”¨æˆ·ä¿¡æ¯,ç°åœ¨æˆ‘ä»¬åˆ é™¤ä»–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset user.name</span><br><span class="line">git config --global --unset user.email</span><br></pre></td></tr></table></figure><p>æ³¨æ„,æ­¤å¤„ä¸ç”¨ä¿®æ”¹ä»€ä¹ˆ,ç›´æ¥COPYå³å¯</p><p><strong>æ­¤å¤„éœ€è¦æ³¨æ„åˆ é™¤å…¨å±€å˜é‡åéœ€è¦è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹å•ç‹¬è®¾ç½®ä¸€èˆ¬éƒ½ä¿å­˜åœ¨.gitæ–‡ä»¶å¤¹ä¸­</strong></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><h3 id="è®¾ç½®ç”¨æˆ·é‚®ç®±"><a href="#è®¾ç½®ç”¨æˆ·é‚®ç®±" class="headerlink" title="è®¾ç½®ç”¨æˆ·é‚®ç®±"></a>è®¾ç½®ç”¨æˆ·é‚®ç®±</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name &quot;Whaltze&quot;</span><br><span class="line">git config user.email &quot;2260274457@qq.com&quot;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯"><a href="#åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯" class="headerlink" title="åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯"></a>åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote prune origin # ä½¿ç”¨ Git å‘½ä»¤åˆ é™¤è¿œç¨‹ä»“åº“ä¸­å·²ç»ä¸å­˜åœ¨çš„åˆ†æ”¯</span><br><span class="line">git fetch --prune # ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°çš„æ›´æ–°ï¼Œå¹¶åˆ é™¤æœ¬åœ°å·²ä¸å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯</span><br><span class="line">git remote update origin --prune # æ›´æ–°è¿œç¨‹ä»“åº“çš„å¼•ç”¨ä¿¡æ¯ï¼Œå¹¶åˆ é™¤æœ¬åœ°å·²ä¸å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯</span><br></pre></td></tr></table></figure><h3 id="è½¬æ¢åˆ†æ”¯"><a href="#è½¬æ¢åˆ†æ”¯" class="headerlink" title="è½¬æ¢åˆ†æ”¯"></a>è½¬æ¢åˆ†æ”¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branch-name&gt;</span><br></pre></td></tr></table></figure><p>è¦è½¬æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯åæ‰èƒ½åˆ é™¤</p><h3 id="åˆ›å»ºæ–°åˆ†æ”¯å¹¶åˆ‡æ¢"><a href="#åˆ›å»ºæ–°åˆ†æ”¯å¹¶åˆ‡æ¢" class="headerlink" title="åˆ›å»ºæ–°åˆ†æ”¯å¹¶åˆ‡æ¢"></a>åˆ›å»ºæ–°åˆ†æ”¯å¹¶åˆ‡æ¢</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;new-branch-name&gt;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤æœ¬åœ°ä»“åº“åˆ†æ”¯"><a href="#åˆ é™¤æœ¬åœ°ä»“åº“åˆ†æ”¯" class="headerlink" title="åˆ é™¤æœ¬åœ°ä»“åº“åˆ†æ”¯"></a>åˆ é™¤æœ¬åœ°ä»“åº“åˆ†æ”¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branch-name&gt;</span><br><span class="line">git branch -D &lt;branch-name&gt;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨-Dé€‰é¡¹æ—¶,Gitä¼šæ— æ¡ä»¶åœ°åˆ é™¤æŒ‡å®šçš„åˆ†æ”¯,å³ä½¿å®ƒåŒ…å«æœªåˆå¹¶çš„æ›´æ”¹ã€‚å› æ­¤ï¼Œä½¿ç”¨-Dé€‰é¡¹æ—¶è¦ç‰¹åˆ«å°å¿ƒ,ç¡®ä¿ä¸ä¼šä¸¢å¤±é‡è¦çš„ä»£ç æ›´æ”¹ã€‚</p><h3 id="å…‹éš†æŸä¸ªåˆ†æ”¯"><a href="#å…‹éš†æŸä¸ªåˆ†æ”¯" class="headerlink" title="å…‹éš†æŸä¸ªåˆ†æ”¯"></a>å…‹éš†æŸä¸ªåˆ†æ”¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b &lt;åˆ†æ”¯åç§°&gt; https://gitee.com/é¡¹ç›®(ä»“åº“åœ°å€).git</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤è¿œç¨‹ä»“åº“è¿æ¥"><a href="#åˆ é™¤è¿œç¨‹ä»“åº“è¿æ¥" class="headerlink" title="åˆ é™¤è¿œç¨‹ä»“åº“è¿æ¥"></a>åˆ é™¤è¿œç¨‹ä»“åº“è¿æ¥</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote remove origin</span><br><span class="line">git remote add origin git@W-Ziheng.github.com:W-Ziheng/RM_CLASS.git</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡æ–°å»ºç«‹è¿æ¥</span></span><br></pre></td></tr></table></figure><h3 id="æ­£å¸¸æ¨é€ç¨‹åº"><a href="#æ­£å¸¸æ¨é€ç¨‹åº" class="headerlink" title="æ­£å¸¸æ¨é€ç¨‹åº"></a>æ­£å¸¸æ¨é€ç¨‹åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add . </span><br><span class="line">git commit -m &quot;commit&quot;  </span><br><span class="line">git remote add origin https://è‡ªå·±çš„ä»“åº“urlåœ°å€ </span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> GitHub </tag>
            
            <tag> SMART </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºMID360çš„å¤šç®—æ³•å¯¼èˆªåˆé›†</title>
      <link href="/2025/01/10/%E5%9F%BA%E4%BA%8EMID360%E7%9A%84%E5%A4%9A%E7%AE%97%E6%B3%95%E5%AF%BC%E8%88%AA%E5%90%88%E9%9B%86/"/>
      <url>/2025/01/10/%E5%9F%BA%E4%BA%8EMID360%E7%9A%84%E5%A4%9A%E7%AE%97%E6%B3%95%E5%AF%BC%E8%88%AA%E5%90%88%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ­¤ä¸ºRoboMasteræµ®èˆŸæ¹¿åœ°æˆ˜é˜Ÿ2025å¹´å¯¼èˆªç®—æ³•å†ç¨‹å­¦ä¹ è®°å½•<br>å½“å‰å¼€å‘ç¯å¢ƒä¸ºUbuntu22.04, ROS2 humble<br>å®æœºéƒ¨ç½²ä¸ºè‹±ä¼Ÿè¾¾i7MiniPC 13620H 16Gå†…å­˜(åæœŸç¼–è¯‘fastlio2åŒ…çš„æ—¶å€™8GBå†…å­˜è«åå‡ºç°çˆ†å†…å­˜ç°è±¡,è™šæ‹Ÿæœºèƒ½æ­£å¸¸è·‘,æ•…æ‰©å¢è‡³16G)</p></blockquote><!-- > ä¸»è¦åŸºäºæ·±åŒ—è«æˆ˜é˜Ÿ2024å¼€æºæ¡†æ¶ä¿®æ”¹æ•´åˆ,å†æ¬¡æ„Ÿè°¢é™ˆä½¬çš„å¼€æº! --><h2 id="å®‰è£…-Livox-SDK2"><a href="#å®‰è£…-Livox-SDK2" class="headerlink" title="å®‰è£… Livox SDK2"></a>å®‰è£… Livox SDK2</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cmake</span><br><span class="line">git clone https://github.com/Livox-SDK/Livox-SDK2.git</span><br><span class="line">cd ./Livox-SDK2/</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br><span class="line">cmake .. &amp;&amp; make -j</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-livox-ros-driver2"><a href="#å®‰è£…-livox-ros-driver2" class="headerlink" title="å®‰è£… livox_ros_driver2"></a>å®‰è£… livox_ros_driver2</h2><p>åœ¨ä¸»ç›®å½•ä¸‹æ–°å»º RM_Navigationæ–‡ä»¶å¤¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Livox-SDK/livox_ros_driver2.git </span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> RM </tag>
            
            <tag> å¯¼èˆª </tag>
            
            <tag> SLAM </tag>
            
            <tag> MID360 </tag>
            
            <tag> Fastlio </tag>
            
            <tag> Pointlio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤©é€‰4è¿æ¥HDMIåæŠ•å±æ— ä¿¡å·</title>
      <link href="/2025/01/10/%E5%A4%A9%E9%80%894%E8%BF%9E%E6%8E%A5HDMI%E5%90%8E%E6%8A%95%E5%B1%8F%E6%97%A0%E4%BF%A1%E5%8F%B7/"/>
      <url>/2025/01/10/%E5%A4%A9%E9%80%894%E8%BF%9E%E6%8E%A5HDMI%E5%90%8E%E6%8A%95%E5%B1%8F%E6%97%A0%E4%BF%A1%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<h1 id="è¿æ¥æ— ä¿¡å·"><a href="#è¿æ¥æ— ä¿¡å·" class="headerlink" title="è¿æ¥æ— ä¿¡å·"></a>è¿æ¥æ— ä¿¡å·</h1><blockquote><p>å°†ç”µè„‘ä¸å±å¹•ç”¨HDMIè¿æ¥å,æŠ•å½±å±ä¸Šä»ç„¶æ˜¾ç¤ºæ— ä¿¡å·è¾“å…¥,ç»å®éªŒä¸ºGPUæ˜¾ç¤ºè®¾ç½®é—®é¢˜,ä¹‹å‰è®¾ç½®çš„æ˜¯è‡ªåŠ¨è°ƒèŠ‚(é›†æ˜¾æ¨¡å¼ä¸‹æŠ•å±ä¼šå¤±è´¥),å°†å…¶è®¾ç½®ä¸ºæ··åˆæ¨¡å¼åæˆåŠŸ,å› ä¸ºç‹¬æ˜¾æ¨¡å¼éœ€è¦é‡å¯,æ•…æ²¡æœ‰å°è¯•,ä»¥åæœ‰æ—¶é—´è¡¥å……</p></blockquote><h1 id="è§£å†³æªæ–½"><a href="#è§£å†³æªæ–½" class="headerlink" title="è§£å†³æªæ–½"></a>è§£å†³æªæ–½</h1><p>Fn+F5 è¿›å…¥å¥¥åˆ›ä¸­å¿ƒä¿®æ”¹å³å¯</p><h1 id="æŠ•å±"><a href="#æŠ•å±" class="headerlink" title="æŠ•å±"></a>æŠ•å±</h1><p>é€šè¿‡å¿«æ·é”® win+P è¿›å…¥å é€‰æ‹© <strong>å¤åˆ¶</strong> å³å¯</p><h1 id="ä¿®æ”¹éŸ³é‡"><a href="#ä¿®æ”¹éŸ³é‡" class="headerlink" title="ä¿®æ”¹éŸ³é‡"></a>ä¿®æ”¹éŸ³é‡</h1><p>ç›´æ¥è®¾ç½®é€‰æ‹©å¯¹åº”å±å¹•ä¿®æ”¹å³å¯</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> å¤©é€‰4 </tag>
            
            <tag> æŠ•å± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¯¾è®¾ã€‘å¯»è¿¹å°è½¦</title>
      <link href="/2024/11/14/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91%E5%AF%BB%E8%BF%B9%E5%B0%8F%E8%BD%A6/"/>
      <url>/2024/11/14/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91%E5%AF%BB%E8%BF%B9%E5%B0%8F%E8%BD%A6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸ºupå¤§äºŒä¸Šå­¦æœŸå¯»è¿¹å°è½¦è®¾è®¡è®°å½•<br>ä»¥ä¸‹ä¸ºåŸºæœ¬ç¡¬ä»¶é…ç½®</p><ul><li>ä¸»æ§ stm32F103C8T6</li><li>äº”çº¿å››ç›¸ æ­¥è¿›ç”µæœº(STEP MORTOR)28BYJ-48</li><li>ç°åº¦ä¼ æ„Ÿå™¨(ç®€æ˜“ç‰ˆç”µå­ç§¯æœ¨)</li></ul></blockquote><blockquote><p>ä¸€äº›èµ„æ–™ç½‘ç«™<br><a href="https://blog.csdn.net/plmnko208/article/details/135048667">åŸºäº51å•ç‰‡æœºçš„çº¢å¤–å¯»è¿¹å°è½¦</a><br><a href="https://github.com/Wind-Gone/Arduino-Traced-By-Line-SuperCar">åŸºäºArduinoçš„æ™ºèƒ½å¾ªè¿¹å°è½¦</a><br><a href="https://blog.csdn.net/m0_51951121/article/details/122499795">åŸºäºSTM32çš„å¾ªè¿¹å°è½¦(ç›´æµç”µæœº)</a><br><a href="https://www.laserblock.cn/">æ¿€å…‰å¼€æºç¤¾åŒº</a><br><a href="https://blog.csdn.net/qq_51963216/article/details/124548477">STM32â€”â€”ç°åº¦PIDçš„ä½¿ç”¨</a><br><a href="https://blog.csdn.net/2401_83386329/article/details/140243185">åŸºäºstm32f103c8t6çš„äº”è·¯ç°åº¦ä¼ æ„Ÿå™¨å¾ªè¿¹å°è½¦</a><br><a href="https://blog.csdn.net/weixin_51651698/article/details/128760449">STM32é©±åŠ¨5è·¯ç°åº¦ä¼ æ„Ÿå™¨PIDå¾ªè¿¹</a><br><a href="https://blog.csdn.net/weixin_62179882/article/details/128568965">ã€STM32ã€‘æ­¥è¿›ç”µæœºåŠå…¶é©±åŠ¨</a><br><a href="https://blog.csdn.net/weixin_63800470/article/details/130466162">äº”è·¯æ¨¡æ‹Ÿé‡ç°åº¦ä¼ æ„Ÿå™¨â€“ADC+DMA</a><br><a href="https://serial.baud-dance.com/">æ³¢ç‰¹å¾‹åŠ¨ä¸²å£åŠ©æ‰‹</a></p></blockquote><h2 id="æ­¥è¿›ç”µæœº"><a href="#æ­¥è¿›ç”µæœº" class="headerlink" title="æ­¥è¿›ç”µæœº"></a>æ­¥è¿›ç”µæœº</h2><p>æ­¥è¿›ç”µæœºä¸èƒ½ç›´æ¥ä½¿ç”¨ç›´æµæˆ–äº¤æµç”µæºæ¥é©±åŠ¨ï¼Œéœ€è¦ä½¿ç”¨ä¸“é—¨çš„é©±åŠ¨å™¨å°†è„‰å†²ç”µä¿¡å·å˜æ¢æˆç›¸åº”çš„è§’ä½ç§»æˆ–çº¿ä½ç§»è¿›è¡Œé©±åŠ¨,è§’ä½ç§»æˆ–çº¿ä½ç§»ä¸è„‰å†²æ•°æˆæ­£æ¯”,å³å…¶è½¬é€Ÿæˆ–çº¿é€Ÿåº¦ä¸è¾“å…¥æ§åˆ¶è„‰å†²çš„é¢‘ç‡æˆæ­£æ¯”ã€‚</p><blockquote><ul><li>æ­¥è¿›ç”µæœºæ§åˆ¶ç‰¹ç‚¹</li></ul><ol><li>ç”µæœºçš„æ€»è½¬åŠ¨è§’åº¦ç”±è¾“å…¥è„‰å†²æ•°å†³å®š</li><li>ç”µæœºçš„è½¬é€Ÿç”±è„‰å†²ä¿¡å·é¢‘ç‡å†³å®š</li></ol></blockquote><p>æ­¥è¿›ç”µæœºçš„å†…éƒ¨ç»“æ„ç¤ºæ„å›¾,åŠå…¶å·¥ä½œåŸç†</p><p><img src="/./images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91%E5%AF%BB%E8%BF%B9%E5%B0%8F%E8%BD%A6/1.png" alt="å›¾ç‰‡æ¥æºç½‘ç»œ"></p><p><img src="/./images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91%E5%AF%BB%E8%BF%B9%E5%B0%8F%E8%BD%A6/2.png" alt="å›¾ç‰‡æ¥æºç½‘ç»œ"></p><p><img src="/./images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91%E5%AF%BB%E8%BF%B9%E5%B0%8F%E8%BD%A6/3.png" alt="å›¾ç‰‡æ¥æºç½‘ç»œ"></p><p><img src="/./images/%E3%80%90%E8%AF%BE%E8%AE%BE%E3%80%91%E5%AF%BB%E8%BF%B9%E5%B0%8F%E8%BD%A6/4.png" alt="å›¾ç‰‡æ¥æºç½‘ç»œ"></p><p>æˆ‘é‡‡ç”¨çš„æ˜¯äº”çº¿å››ç›¸çš„æ­¥è¿›ç”µæœº</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> stm32 </tag>
            
            <tag> å¯»è¿¹å°è½¦ </tag>
            
            <tag> è¯¾è®¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§†è§‰ç»„åŸ¹è®­</title>
      <link href="/2024/10/22/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/"/>
      <url>/2024/10/22/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸º2024å¹´ç¦å·å¤§å­¦robomatseræµ®èˆŸæ¹¿åœ°æˆ˜é˜Ÿè§†è§‰ç»„åŸ¹è®­æ–‡æ¡£,å¦‚æœ‰é”™è¯¯è¯·è”ç³»<strong>2260274457(QQ)</strong></p></blockquote><h1 id="ç®—æ³•ç»„ç¬¬ä¸€æ¬¡åŸ¹è®­"><a href="#ç®—æ³•ç»„ç¬¬ä¸€æ¬¡åŸ¹è®­" class="headerlink" title="ç®—æ³•ç»„ç¬¬ä¸€æ¬¡åŸ¹è®­"></a>ç®—æ³•ç»„ç¬¬ä¸€æ¬¡åŸ¹è®­</h1><blockquote><p>æœ¬æ¬¡åŸ¹è®­ä¸»è¦ä¼šå¸¦å¤§å®¶åˆè¯†ä¸€ä¸‹linuxç³»ç»Ÿçš„ä¸€äº›ç®€å•é…ç½®æ“ä½œ,ä½“éªŒä¸€ä¸‹ros2çš„ä¸€äº›è‡ªå¸¦åŒ…,ä¼šæœ‰å°ä½œä¸š,ç›¸å¯¹æ¥è¯´æ¯”è¾ƒè½»æ¾:sunny::sunny:</p></blockquote><h2 id="è¯¾å‰é¢„ä¹ "><a href="#è¯¾å‰é¢„ä¹ " class="headerlink" title="è¯¾å‰é¢„ä¹ "></a>è¯¾å‰é¢„ä¹ </h2><blockquote><p>ç¡®ä¿ubuntuæ­£ç¡®é…ç½®ä¸”ç‰ˆæœ¬ä¸º22.04 , ROS2ç‰ˆæœ¬ä¸ºhumble</p></blockquote><p>æ‰“å¼€ç»ˆç«¯(Ctrl+Alt+T),è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/os-release &amp;&amp; echo $ROS_DISTRO</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è¾“å‡ºç‰ˆæœ¬æ˜¯å¦ä¸º22.04å’Œhumble</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VERSION=&quot;22.04.5 LTS (Jammy Jellyfish)&quot;</span><br><span class="line">humble</span><br></pre></td></tr></table></figure><!-- catæ˜¯concatenateçš„ç¼©å†™,æ­¤å¤„ç”¨äºæ˜¾ç¤ºç›®å½•æ–‡ä»¶çš„å†…å®¹ --><h2 id="Basic-Skills"><a href="#Basic-Skills" class="headerlink" title="Basic Skills"></a>Basic Skills</h2><blockquote><p><strong>éå¿…é¡»å´å¿…é¡»æŒæ¡çš„å°æŠ€èƒ½</strong></p></blockquote><ul><li><p>Githubæ³¨å†Œ    </p></li><li><p>Markdown</p></li><li><p>python  </p></li><li><p>c++</p></li></ul><h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><p>why ubuntu ?</p><h3 id="ç»ˆç«¯å¸¸ç”¨å‘½ä»¤"><a href="#ç»ˆç«¯å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ç»ˆç«¯å¸¸ç”¨å‘½ä»¤"></a>ç»ˆç«¯å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ls # listçš„ç¼©å†™</span><br><span class="line">pwd # æ˜¾ç¤ºå½“å‰è·¯å¾„</span><br><span class="line">cd # åˆ‡æ¢ç›®å½•</span><br><span class="line">mkdir #æ–°å»ºæ–‡ä»¶å¤¹</span><br><span class="line">touch &lt;file&gt; #æ–°å»ºæ–‡ä»¶</span><br><span class="line">rm &lt;file&gt;</span><br><span class="line">rm -r &lt;file&gt;</span><br><span class="line">sudo rm -rf &lt;file&gt; # è°¨æ…ç”¨</span><br><span class="line">cp &lt;file1&gt; &lt;file2_aim&gt;</span><br><span class="line">cp -r &lt;file1&gt; &lt;file2_aim&gt;</span><br><span class="line">mv &lt;old_name&gt; &lt;new_name&gt;</span><br><span class="line">cat &lt;file&gt; # è¿æ¥æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</span><br><span class="line">history</span><br></pre></td></tr></table></figure><h3 id="ç»ˆç«¯å¸¸ç”¨æŠ€å·§"><a href="#ç»ˆç«¯å¸¸ç”¨æŠ€å·§" class="headerlink" title="ç»ˆç«¯å¸¸ç”¨æŠ€å·§"></a>ç»ˆç«¯å¸¸ç”¨æŠ€å·§</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+shift+C/V # å¤åˆ¶ç²˜è´´</span><br><span class="line">tab # è‡ªåŠ¨è¡¥å…¨</span><br><span class="line">!! #é‡å¤ä¸Šæ¬¡å‘½ä»¤,å¸¸ç”¨sudo!!</span><br><span class="line">ctrl+r #è¡¥å…¨å†å²å‘½ä»¤</span><br><span class="line">ctrl+c #ç»ˆæ­¢ç¨‹åº</span><br><span class="line">ctrl+z #æš‚åœç¨‹åº,æŒ‚è½½åœ¨åå°</span><br></pre></td></tr></table></figure><!-- ```shell ps aux # æ˜¾ç¤ºå½“å‰è¿è¡Œè¿›ç¨‹``` --><h2 id="Hello-World-cpp"><a href="#Hello-World-cpp" class="headerlink" title="Hello World.cpp"></a>Hello World.cpp</h2><p>å®‰è£…vscode</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install code</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯é€šè¿‡å°é±¼çš„ä¸€é”®å®‰è£…è¿›è¡Œé…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://fishros.com/install -O fishros &amp;&amp; . fishros</span><br></pre></td></tr></table></figure><p>å®‰è£…g++</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install g++</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code . #æ‰“å¼€vscode</span><br></pre></td></tr></table></figure><blockquote><p>ä¸€äº›å¸¸è§å¥½ç”¨çš„æ’ä»¶<br>c&#x2F;c++</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt;<span class="string">&quot;hello world!&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ hello.cpp -o hello</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./hello</span><br></pre></td></tr></table></figure><h2 id="Hello-World-py"><a href="#Hello-World-py" class="headerlink" title="Hello World.py"></a>Hello World.py</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch hello.py</span><br><span class="line">code hello.py</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World!&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 hello.py</span><br></pre></td></tr></table></figure><blockquote><p>python ç¼–è¯‘å‹è¯­è¨€ï¼Œæ‰§è¡Œé€Ÿåº¦å¿«ã€æ•ˆç‡é«˜ï¼›ä¾é ç¼–è¯‘å™¨ã€è·¨å¹³å°æ€§å·®äº›ã€‚<br>C++ è§£é‡Šå‹è¯­è¨€ï¼Œæ‰§è¡Œé€Ÿåº¦æ…¢ã€æ•ˆç‡ä½ï¼›ä¾é è§£é‡Šå™¨ã€è·¨å¹³å°æ€§å¥½ã€‚</p></blockquote><h2 id="Terminate"><a href="#Terminate" class="headerlink" title="Terminate"></a>Terminate</h2><blockquote><p>Terminator æ˜¯linuxä¸­ä¸€ä¸ªéå¸¸å®ç”¨ä¸”å¼€æºçš„ç»ˆç«¯ä»¿çœŸå™¨</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install terminator</span><br></pre></td></tr></table></figure><p>ä»¥åæ‰“å¼€ç»ˆç«¯ä¾¿ä¼šè‡ªåŠ¨æ˜¯ç”¨terminator</p><blockquote><p>å¸¸è§çš„æŒ‡ä»¤</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+Shift+O     #æ°´å¹³åˆ†å‰²ç»ˆç«¯</span><br><span class="line">Ctrl+Shift+E     #å‚ç›´åˆ†å‰²ç»ˆç«¯</span><br></pre></td></tr></table></figure><h2 id="ros2çš„ä¸€äº›è‡ªå¸¦åŒ…"><a href="#ros2çš„ä¸€äº›è‡ªå¸¦åŒ…" class="headerlink" title="ros2çš„ä¸€äº›è‡ªå¸¦åŒ…"></a>ros2çš„ä¸€äº›è‡ªå¸¦åŒ…</h2><blockquote><p>Talker and Listener</p></blockquote><p>å€¾å¬è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run demo_nodes_py listener</span><br></pre></td></tr></table></figure><p>è¯´è¯è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run demo_nodes_cpp talker</span><br></pre></td></tr></table></figure><blockquote><p>æµ·é¾Ÿ</p></blockquote><p>å¯åŠ¨æµ·é¾ŸèŠ‚ç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run turtlesim turtlesim_node</span><br></pre></td></tr></table></figure><p>å¯åŠ¨æµ·é¾Ÿæ§åˆ¶èŠ‚ç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run turtlesim turtle_teleop_key</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±å¯ä»¥æ§åˆ¶æµ·é¾Ÿå•¦!</p><h2 id="ä½œä¸š"><a href="#ä½œä¸š" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h2><ul><li><p>ç”¨mdè¯­æ³•å¯¹ä»Šå¤©è®²åˆ°çš„ä¸€äº›å‘½ä»¤è¡ŒçŸ¥è¯†ç­‰åšæ€»ç»“æ³¨é‡Šç¬”è®°(æ ¹æ®è‡ªå·±æƒ…å†µå†™,ä¹Ÿå¯æ·»åŠ å…¶ä½™çŸ¥è¯†)</p></li><li><p>ç”¨mkdirç­‰ç»ˆç«¯å‘½ä»¤åˆ›å»ºCLASS_1æ–‡ä»¶å¤¹,åœ¨æ­¤ç›®å½•ä¸‹åˆ†åˆ«ç”¨python å’Œ c++ ç¼–å†™ä¸¤ä¸ªç¨‹åºè¾“å‡º Welcome to RM ! (<strong>éœ€æä¾›histroyç»ˆç«¯å‘½ä»¤,ä»¥åŠç¨‹åºæºç </strong>)</p></li></ul><p>ä»¥å‹ç¼©åŒ…å½¢å¼å‘é€è‡³é‚®ç®± <a href="mailto:&#x32;&#x32;&#x36;&#x30;&#x32;&#55;&#52;&#x34;&#53;&#x37;&#x40;&#x71;&#x71;&#x2e;&#99;&#x6f;&#x6d;">2260274457@qq.com</a> å‹ç¼©åŒ…å‘½åä¸º <strong>è§†è§‰ç»„ç¬¬ä¸€æ¬¡ä½œä¸š+å­¦å·+å§“åçš„æ–¹å¼</strong></p><p>:warning: <strong>é¼“åŠ±ç”¨githubä¸Šä¼ è‡ªå·±çš„æºç ,å¹¶æä¾›readmeçš„gitæ–¹å¼</strong></p><h1 id="ç®—æ³•ç»„ç¬¬äºŒæ¬¡åŸ¹è®­"><a href="#ç®—æ³•ç»„ç¬¬äºŒæ¬¡åŸ¹è®­" class="headerlink" title="ç®—æ³•ç»„ç¬¬äºŒæ¬¡åŸ¹è®­"></a>ç®—æ³•ç»„ç¬¬äºŒæ¬¡åŸ¹è®­</h1><blockquote><p>ç¬¬äºŒèŠ‚è¯¾å°†å¸¦é¢†å¤§å®¶äº†è§£ROS2ä¸­çš„åŸºç¡€é€šä¿¡æœºåˆ¶,å…·ä½“åŒ…æ‹¬è¯é¢˜(Topic)èŠ‚ç‚¹(node)é€šä¿¡çš„ä½¿ç”¨ã€å¦‚ä½•æ„å»ºROS2èŠ‚ç‚¹ï¼ŒCMakeæ„å»ºå·¥å…·çš„ä½¿ç”¨ç­‰å†…å®¹ã€‚é€šè¿‡å®è·µï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸¤ä¸ªC++ç¨‹åºï¼šä¸€ä¸ªPublisherï¼ˆå‘å¸ƒè€…ï¼‰å’Œä¸€ä¸ªListenerï¼ˆè®¢é˜…è€…ï¼‰,å¹¶é™„å¸¦è®²è§£GitHubçš„ä¸€äº›ä½¿ç”¨,å¸®åŠ©å¤§å®¶å¿«é€Ÿæ¸¸èµ°å¼€æºç¤¾åŒº!</p></blockquote><h2 id="Introduce-â€“-CMake"><a href="#Introduce-â€“-CMake" class="headerlink" title="Introduce â€“ CMake"></a>Introduce â€“ CMake</h2><p>åœ¨ä¸ŠèŠ‚è¯¾,æˆ‘ä»¬å­¦ä¹ ä½¿ç”¨äº†g++ç¼–è¯‘ç¨‹åº,å¯èƒ½åŒå­¦ä»¬åˆå­¦è§‰å¾—ç”¨g++ç¼–è¯‘ç®€å•å¿«æ·,ä½†å®é™…ä¸Š,åœ¨è¾ƒå¤§å·¥ç¨‹é¡¹ç›®çš„ç¼–å†™è¿‡ç¨‹å¾€å¾€éœ€è¦å¼•å…¥è®¸å¤šåº“,åŒ…æ‹¬è¿æ¥é™æ€åº“,åŠ¨æ€åº“ç­‰,ç”¨g++ç¼–è¯‘ç»å¸¸ä¼šå‡ºç°<code>No such file or directory</code> æ‰¾ä¸åˆ°åº“çš„æƒ…å†µ,å°çš„é¡¹ç›®å¯èƒ½åªæœ‰å‡ ä¸ªincludesè·¯å¾„,æ— ä¼¤å¤§é›…,ä½†æ˜¯å¤§é¡¹ç›®ä¸‹,æˆç™¾ä¸Šåƒçš„å¼•ç”¨æ˜¾ç„¶æ˜¯ä¸åˆ‡å®é™…çš„,å› æ­¤CMake make å­•è‚²è€Œç”Ÿ</p><h3 id="ä»¥-Hello-RM-ä¸ºä¾‹å­å±•ç¤º"><a href="#ä»¥-Hello-RM-ä¸ºä¾‹å­å±•ç¤º" class="headerlink" title="ä»¥ Hello RM ä¸ºä¾‹å­å±•ç¤º"></a>ä»¥ Hello RM ä¸ºä¾‹å­å±•ç¤º</h3><h4 id="æ–°å»ºå·¥ä½œç©ºé—´"><a href="#æ–°å»ºå·¥ä½œç©ºé—´" class="headerlink" title="æ–°å»ºå·¥ä½œç©ºé—´"></a>æ–°å»ºå·¥ä½œç©ºé—´</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ./CLASS_2/Task1/src/</span><br><span class="line">mkdir -p ./CLASS_2/Task1/includes/</span><br><span class="line">mkdir -p ./CLASS_2/Task1/tools/</span><br><span class="line">cd ./CLASS_2/Task1/src/</span><br></pre></td></tr></table></figure><h4 id="æ²¡æœ‰CMakeæ—¶å€™"><a href="#æ²¡æœ‰CMakeæ—¶å€™" class="headerlink" title="æ²¡æœ‰CMakeæ—¶å€™"></a>æ²¡æœ‰CMakeæ—¶å€™</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ includes</span><br><span class="line">â”‚   â””â”€â”€ hello<span class="selector-class">.hpp</span></span><br><span class="line">â”œâ”€â”€ <span class="attribute">src</span></span><br><span class="line">â”‚   â””â”€â”€ cmake<span class="selector-class">.cpp</span></span><br><span class="line">â””â”€â”€ tools</span><br><span class="line">    â””â”€â”€ hello.cpp</span><br></pre></td></tr></table></figure><ul><li>hello.hpp</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> HELLO_HPP</span></span><br><span class="line"><span class="comment">// å¦‚æœHELLO_HPPæ²¡æœ‰è¢«å®šä¹‰ï¼Œåˆ™ç¼–è¯‘ä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="comment">// è¿™æ˜¯ä¸€ç§é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šæ¬¡åŒ…å«çš„å¸¸è§æŠ€æœ¯ï¼Œç§°ä¸ºåŒ…å«ä¿æŠ¤</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HELLO_HPP   </span></span><br><span class="line"><span class="comment">// å®šä¹‰HELLO_HPP</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªåä¸ºHelloçš„ç±»</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// ç§æœ‰æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°çš„å£°æ˜åŒºåŸŸ</span></span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥æ”¾ç½®ç§æœ‰æ•°æ®æˆå‘˜ï¼Œä½†ç›®å‰ä¸ºç©º</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å…¬æœ‰æˆå‘˜å‡½æ•°çš„å£°æ˜åŒºåŸŸ</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">hello_rm</span><span class="params">(<span class="comment">/* args */</span>)</span></span>;</span><br><span class="line">    <span class="comment">// å£°æ˜ä¸€ä¸ªå…¬æœ‰æˆå‘˜å‡½æ•°hello_rmï¼Œå‡½æ•°å‚æ•°åˆ—è¡¨ä¸ºç©ºï¼Œè¿”å›ç±»å‹ä¸ºvoid</span></span><br><span class="line">    <span class="comment">// å…·ä½“å®ç°å°†åœ¨ç±»çš„å®šä¹‰ä½“å¤–éƒ¨è¿›è¡Œ</span></span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> </span></span><br></pre></td></tr></table></figure><ul><li>hello.cpp</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">// #include &quot;../includes/hello.hpp&quot;</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hello.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Hello::hello_rm</span><span class="params">()</span> </span>&#123; <span class="comment">// å®šä¹‰Helloç±»çš„æˆå‘˜å‡½æ•°hello_rm</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello, RM !&quot;</span> &lt;&lt; std::endl; <span class="comment">// è¾“å‡ºå­—ç¬¦ä¸²&quot;Hello, RM !&quot;åˆ°æ ‡å‡†è¾“å‡ºæµ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>cmake.cpp</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> <span class="comment">// åŒ…å«æ ‡å‡†è¾“å…¥è¾“å‡ºåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hello.hpp&quot;</span> <span class="comment">// åŒ…å«è‡ªå®šä¹‰çš„å¤´æ–‡ä»¶hello.hpp</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;     <span class="comment">// ä¸»å‡½æ•°å…¥å£</span></span><br><span class="line">    Hello hello; <span class="comment">// åˆ›å»ºHelloç±»çš„å®ä¾‹</span></span><br><span class="line">    hello.<span class="built_in">hello_rm</span>(); <span class="comment">// è°ƒç”¨Helloç±»çš„hello_rmæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    <span class="comment">// è¿”å›0ï¼Œè¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µ,ç”¨g++ç¼–å†™éœ€è¦æŒ‡æ˜include</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g++ ./src/cmake.cpp ./tools/hello.cpp -I ./includes/ -o cmake_exe</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰§è¡Œ</span></span><br><span class="line">./cmake_exe</span><br></pre></td></tr></table></figure><p>è¾“å‡º hello RM!</p><p>å› ä¸ºæ­¤æ—¶includeè¿˜å¾ˆå°‘,æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ ,å½“è·¯å¾„è¾ƒå¤šæ—¶å€™,æˆ‘ä»¬å°±éœ€è¦åŠ ä¸€é•¿ä¸²æ–‡ä»¶,ä¸ºç®€åŒ–æ“ä½œ,æˆ‘ä»¬ç”¨cmake å’Œ make</p><h4 id="CMake-and-make-æ“ä½œ"><a href="#CMake-and-make-æ“ä½œ" class="headerlink" title="CMake and make æ“ä½œ"></a>CMake and make æ“ä½œ</h4><!-- ![è½¬è½½äºçŸ¥ä¹](https://pic1.zhimg.com/v2-f5d3d7cda7778c0240e8f44a53766b58_1440w.jpg) --><!-- ![ ](https://whvn.cc/qz1pdq) --><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/cmake_rule.JPG" alt=" "></p><blockquote><p>CMakeé€šè¿‡è°ƒç”¨CMakeLists.txtç›´æ¥ç”ŸæˆMakefile !</p></blockquote><p>æ‰€ä»¥æˆ‘ä»¬å°±åªéœ€è¦å­¦ä¹ ç¼–å†™CMakeLists.txtå³å¯</p><blockquote><p>å®‰è£… CMake make</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install make cmake</span><br></pre></td></tr></table></figure><p>åœ¨VScodeå®‰è£…CMakeæ’ä»¶</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ cmake_exe</span><br><span class="line">â”œâ”€â”€ CMakeLists<span class="selector-class">.txt</span></span><br><span class="line">â”œâ”€â”€ includes</span><br><span class="line">â”‚   â””â”€â”€ hello<span class="selector-class">.hpp</span></span><br><span class="line">â”œâ”€â”€ <span class="attribute">src</span></span><br><span class="line">â”‚   â””â”€â”€ cmake<span class="selector-class">.cpp</span></span><br><span class="line">â””â”€â”€ tools</span><br><span class="line">    â””â”€â”€ hello.cpp</span><br></pre></td></tr></table></figure><ul><li>CMakeLists.txt</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># æŒ‡å®šCMakeçš„æœ€ä½ç‰ˆæœ¬è¦æ±‚</span><br><span class="line">cmake_minimum_required(VERSION 3.11)</span><br><span class="line"></span><br><span class="line"># å®šä¹‰é¡¹ç›®åç§°</span><br><span class="line">project(CLASS_2)</span><br><span class="line"></span><br><span class="line"># æ·»åŠ å¤´æ–‡ä»¶ç›®å½•</span><br><span class="line">include_directories(./includes)</span><br><span class="line"></span><br><span class="line"># æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶æŒ‡å®šæºæ–‡ä»¶</span><br><span class="line">add_executable(cmake_exe src/cmake.cpp tools/hello.cpp)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œcmake</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmake -B build </span><br><span class="line">make -C build # cd build &amp;&amp; make</span><br><span class="line">./build/cmake_exe</span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡cmakeè¿è¡ŒCMakeLists.txt, -Bå‚æ•° æŒ‡å®šç”Ÿæˆbuildæ–‡ä»¶å¤¹</li><li>makeè¿›å…¥build,è¿è¡Œmakefile, -Cå‚æ•° è¿›å…¥buildæ–‡ä»¶å¤¹</li><li>æœ€åè¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶</li></ul><p>å¯ä»¥ç›´æ¥å¤åˆ¶å¦‚ä¸‹åˆ°ç»ˆç«¯,ä¸€é”®å®ç°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir build </span><br><span class="line">cd build </span><br><span class="line">cmake .. &amp;&amp; make -j</span><br><span class="line">./cmake_exe</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿè·å–æºæ–‡ä»¶"><a href="#å¿«é€Ÿè·å–æºæ–‡ä»¶" class="headerlink" title="å¿«é€Ÿè·å–æºæ–‡ä»¶"></a>å¿«é€Ÿè·å–æºæ–‡ä»¶</h3><p>åœ¨CMakeLists.txtæ–‡ä»¶ä¸­,æœ‰äº›æ—¶å€™æºæ–‡ä»¶éå¸¸çš„å¤š,è¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨ <code>aux_source_directory</code> å‡½æ•°ä¸€é”®è·å–æŸä¸€è·¯å¾„ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶</p><ul><li>CMakeLists.txt</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.11)</span><br><span class="line"></span><br><span class="line">project(Task_2)</span><br><span class="line"></span><br><span class="line">include_directories(./includes)</span><br><span class="line"></span><br><span class="line">aux_source_directory(./tools TOOLS)</span><br><span class="line"># ä¿å­˜è‡³TOOLSå˜é‡</span><br><span class="line"></span><br><span class="line">add_executable(cmake_exe src/cmake.cpp $&#123;TOOLS&#125; )</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ä¸€ä¸‹å˜é‡é‡Œé¢æœ‰ä»€ä¹ˆ</span><br><span class="line">message($&#123;TOOLS&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -B build</span><br></pre></td></tr></table></figure><p>è¾“å‡º <code>./tools/hello.cpp</code> æºæ–‡ä»¶çš„ç›®å½•</p><h2 id="ROS2èŠ‚ç‚¹ä¸è¯é¢˜é€šä¿¡"><a href="#ROS2èŠ‚ç‚¹ä¸è¯é¢˜é€šä¿¡" class="headerlink" title="ROS2èŠ‚ç‚¹ä¸è¯é¢˜é€šä¿¡"></a>ROS2èŠ‚ç‚¹ä¸è¯é¢˜é€šä¿¡</h2><p>åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨ROS2ä¸­è¿›è¡ŒèŠ‚ç‚¹é€šä¿¡ï¼Œç‰¹åˆ«æ˜¯è¯é¢˜ï¼ˆTopicï¼‰é€šä¿¡ã€‚ROS2é‡‡ç”¨äº†å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œä½¿å¾—å¤šä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡è¯é¢˜ï¼ˆTopicï¼‰è¿›è¡Œæ•°æ®äº¤æ¢ã€‚æˆ‘ä»¬å°†åŠ¨æ‰‹ç¼–å†™ä¸¤ä¸ªç®€å•çš„èŠ‚ç‚¹ï¼Œä¸€ä¸ªå‘å¸ƒæ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªè®¢é˜…æ¶ˆæ¯ã€‚é€šè¿‡è¿™ä¸ªå®è·µï¼Œå¤§å®¶å°†èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£ROS2çš„é€šä¿¡æœºåˆ¶ã€‚</p><h3 id="ROS2æ¶æ„ä¸é€šä¿¡æ¨¡å‹"><a href="#ROS2æ¶æ„ä¸é€šä¿¡æ¨¡å‹" class="headerlink" title="ROS2æ¶æ„ä¸é€šä¿¡æ¨¡å‹"></a>ROS2æ¶æ„ä¸é€šä¿¡æ¨¡å‹</h3><p>ROS2é‡‡ç”¨äº†â€œå‘å¸ƒ-è®¢é˜…â€æ¨¡å¼ï¼ŒåŸºæœ¬ç»„ä»¶åŒ…æ‹¬ï¼š</p><ul><li><strong>èŠ‚ç‚¹ï¼ˆNodeï¼‰</strong>ï¼šROS2ä¸­æ¯ä¸ªç‹¬ç«‹çš„ç¨‹åºæ¨¡å—ç§°ä¸ºèŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥å‘å¸ƒå’Œè®¢é˜…æ¶ˆæ¯ï¼Œæ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚</li><li><strong>è¯é¢˜ï¼ˆTopicï¼‰</strong>ï¼šè¯é¢˜æ˜¯ä¸€ä¸ªé€šä¿¡åª’ä»‹ï¼ŒèŠ‚ç‚¹å¯ä»¥å°†æ¶ˆæ¯å‘å¸ƒåˆ°è¯é¢˜ï¼Œå…¶ä»–èŠ‚ç‚¹å¯ä»¥ä»è¯¥è¯é¢˜è®¢é˜…æ¶ˆæ¯ã€‚</li><li><strong>æœåŠ¡ï¼ˆServiceï¼‰</strong>ï¼šæœåŠ¡æ˜¯ä¸€ç§åŸºäºè¯·æ±‚-å“åº”çš„é€šä¿¡æ¨¡å¼ï¼Œé€šå¸¸ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’ã€‚</li><li><strong>åŠ¨ä½œï¼ˆActionï¼‰</strong>ï¼šåŠ¨ä½œæ˜¯ä¸€ç§é•¿æœŸè¿è¡Œä»»åŠ¡çš„é€šä¿¡æ¨¡å¼ï¼Œå¯ä»¥ä¸­æ–­ä»»åŠ¡å¹¶è¿”å›ç»“æœã€‚</li></ul><p>ROS2ä¸­ä¸‰ç§ä¸»è¦çš„é€šä¿¡æ¨¡å¼ï¼š</p><ul><li><strong>å‘å¸ƒ&#x2F;è®¢é˜…ï¼ˆPublish&#x2F;Subscribeï¼‰</strong>ï¼šé€šè¿‡è¯é¢˜å®ç°ï¼Œé€‚ç”¨äºä¸€å¯¹å¤šçš„é€šä¿¡ã€‚</li><li><strong>æœåŠ¡&#x2F;å®¢æˆ·ç«¯ï¼ˆService&#x2F;Clientï¼‰</strong>ï¼šé€šè¿‡è¯·æ±‚&#x2F;å“åº”æ–¹å¼å®ç°ï¼Œé€‚ç”¨äºä¸€å¯¹ä¸€çš„é€šä¿¡ã€‚</li><li><strong>åŠ¨ä½œï¼ˆActionï¼‰</strong>ï¼šé€‚ç”¨äºé•¿æœŸä»»åŠ¡å¤„ç†ï¼Œéœ€è¦åé¦ˆå’Œä¸­æ–­çš„åœºæ™¯ã€‚</li></ul><hr><h3 id="åˆ›å»ºROS2å·¥ä½œç©ºé—´"><a href="#åˆ›å»ºROS2å·¥ä½œç©ºé—´" class="headerlink" title="åˆ›å»ºROS2å·¥ä½œç©ºé—´"></a>åˆ›å»ºROS2å·¥ä½œç©ºé—´</h3><p>åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªROS2å·¥ä½œç©ºé—´ã€‚å‡è®¾ä½ çš„ROS2å·²ç»å®‰è£…å¥½å¹¶ä¸”å·¥ä½œæ­£å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥åˆ›å»ºå·¥ä½œç©ºé—´ã€‚</p><p>æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/CLASS_2/Task2/src/</span><br><span class="line"><span class="built_in">cd</span> ~/CLASS_2/Task2/src/</span><br><span class="line"><span class="comment"># colcon build</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹-C"><a href="#ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹-C" class="headerlink" title="ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹ (C++)"></a>ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹ (C++)</h3><p>è¿›å…¥srcç›®å½•å¹¶åˆ›å»ºåŒ…</p><p>åœ¨<code>src</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåŸºäºC++çš„ROS2åŒ…ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/CLASS_2/Task2/src/</span><br><span class="line">ros2 pkg create --build-type ament_cmake Publisher2Listener</span><br></pre></td></tr></table></figure><p>è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º<code>Publisher2Listener</code>çš„ROS2åŒ…ã€‚</p><h4 id="ç¼–å†™PublisherèŠ‚ç‚¹"><a href="#ç¼–å†™PublisherèŠ‚ç‚¹" class="headerlink" title="ç¼–å†™PublisherèŠ‚ç‚¹"></a>ç¼–å†™PublisherèŠ‚ç‚¹</h4><p>åœ¨<code>src</code>ç›®å½•ä¸‹åˆ›å»º<code>publisher.cpp</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;rclcpp/rclcpp.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;std_msgs/msg/string.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std::chrono_literals;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PublisherNode</span> : <span class="keyword">public</span> rclcpp::Node</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">PublisherNode</span>() : <span class="built_in">Node</span>(<span class="string">&quot;publisher_node&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        publisher_ = <span class="keyword">this</span>-&gt;<span class="built_in">create_publisher</span>&lt;std_msgs::msg::String&gt;(<span class="string">&quot;welcome_topic&quot;</span>, <span class="number">10</span>);</span><br><span class="line">        timer_ = <span class="keyword">this</span>-&gt;<span class="built_in">create_wall_timer</span>(</span><br><span class="line">            <span class="number">1</span>s, std::<span class="built_in">bind</span>(&amp;PublisherNode::timer_callback, <span class="keyword">this</span>));  <span class="comment">// æ¯ç§’å‘å¸ƒä¸€æ¬¡æ¶ˆæ¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">timer_callback</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> message = std_msgs::msg::<span class="built_in">String</span>();</span><br><span class="line">        message.data = <span class="string">&quot;Welcome to RM!&quot;</span>;  <span class="comment">// å‘å¸ƒçš„æ¶ˆæ¯</span></span><br><span class="line">        publisher_-&gt;<span class="built_in">publish</span>(message);</span><br><span class="line">        <span class="built_in">RCLCPP_INFO</span>(<span class="keyword">this</span>-&gt;<span class="built_in">get_logger</span>(), <span class="string">&quot;Publishing: &#x27;%s&#x27;&quot;</span>, message.data.<span class="built_in">c_str</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rclcpp::Publisher&lt;std_msgs::msg::String&gt;::SharedPtr publisher_;</span><br><span class="line">    rclcpp::TimerBase::SharedPtr timer_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    rclcpp::<span class="built_in">init</span>(argc, argv);</span><br><span class="line">    rclcpp::<span class="built_in">spin</span>(std::<span class="built_in">make_shared</span>&lt;PublisherNode&gt;());</span><br><span class="line">    rclcpp::<span class="built_in">shutdown</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¼–å†™ListenerèŠ‚ç‚¹"><a href="#ç¼–å†™ListenerèŠ‚ç‚¹" class="headerlink" title="ç¼–å†™ListenerèŠ‚ç‚¹"></a>ç¼–å†™ListenerèŠ‚ç‚¹</h4><p>åŒæ ·ï¼Œåœ¨<code>src</code>ç›®å½•ä¸‹åˆ›å»º<code>listener.cpp</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;rclcpp/rclcpp.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;std_msgs/msg/string.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListenerNode</span> : <span class="keyword">public</span> rclcpp::Node</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ListenerNode</span>() : <span class="built_in">Node</span>(<span class="string">&quot;listener_node&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        subscription_ = <span class="keyword">this</span>-&gt;<span class="built_in">create_subscription</span>&lt;std_msgs::msg::String&gt;(</span><br><span class="line">            <span class="string">&quot;welcome_topic&quot;</span>, <span class="number">10</span>, std::<span class="built_in">bind</span>(&amp;ListenerNode::listener_callback, <span class="keyword">this</span>, std::placeholders::_1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">listener_callback</span><span class="params">(<span class="type">const</span> std_msgs::msg::String::SharedPtr msg)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">RCLCPP_INFO</span>(<span class="keyword">this</span>-&gt;<span class="built_in">get_logger</span>(), <span class="string">&quot;Received: &#x27;%s&#x27;&quot;</span>, msg-&gt;data.<span class="built_in">c_str</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rclcpp::Subscription&lt;std_msgs::msg::String&gt;::SharedPtr subscription_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    rclcpp::<span class="built_in">init</span>(argc, argv);</span><br><span class="line">    rclcpp::<span class="built_in">spin</span>(std::<span class="built_in">make_shared</span>&lt;ListenerNode&gt;());</span><br><span class="line">    rclcpp::<span class="built_in">shutdown</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é…ç½®CMake"><a href="#é…ç½®CMake" class="headerlink" title="é…ç½®CMake"></a>é…ç½®CMake</h4><p>ROS2ä½¿ç”¨CMakeæ¥æ„å»ºé¡¹ç›®ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®<code>CMakeLists.txt</code>æ–‡ä»¶ï¼Œä»¥ä¾¿æ­£ç¡®ç¼–è¯‘å’Œé“¾æ¥æˆ‘ä»¬çš„C++ä»£ç ã€‚</p><p>æ‰“å¼€<code>Publisher2Listener/CMakeLists.txt</code>ï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.11</span>)</span><br><span class="line"><span class="keyword">project</span>(Publisher2Listener)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ROS2ç›¸å…³çš„CMakeä¾èµ–</span></span><br><span class="line"><span class="keyword">find_package</span>(rclcpp REQUIRED)</span><br><span class="line"><span class="keyword">find_package</span>(std_msgs REQUIRED)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span>(publisher_node src/publisher.cpp)</span><br><span class="line">ament_target_dependencies(publisher_node rclcpp std_msgs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span>(listener_node src/listener.cpp)</span><br><span class="line">ament_target_dependencies(listener_node rclcpp std_msgs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">install</span>(TARGETS</span><br><span class="line">  publisher_node</span><br><span class="line">  listener_node</span><br><span class="line">  DESTINATION lib/<span class="variable">$&#123;PROJECT_NAME&#125;</span>)</span><br><span class="line"></span><br><span class="line">ament_package()</span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜ï¼š</p></blockquote><ul><li><code>find_package(rclcpp REQUIRED)</code>å’Œ<code>find_package(std_msgs REQUIRED)</code>ï¼šç”¨äºæŸ¥æ‰¾ROS2çš„æ ¸å¿ƒåŒ…å’Œæ ‡å‡†æ¶ˆæ¯åŒ…ã€‚</li><li><code>add_executable(publisher_node src/publisher.cpp)</code>ï¼šå°†C++æºæ–‡ä»¶ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</li><li><code>ament_target_dependencies(publisher_node rclcpp std_msgs)</code>ï¼šæŒ‡å®šæ„å»ºæ—¶çš„ä¾èµ–é¡¹ã€‚</li></ul><hr><blockquote><p>åˆ é™¤ ROS2 çš„åŒ… (ç›´æ¥rm -rfå³å¯)</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf Publisher2Listener</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹-Python"><a href="#ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹-Python" class="headerlink" title="ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹ (Python)"></a>ç¼–å†™Publisherå’ŒListenerèŠ‚ç‚¹ (Python)</h3><p>è¿›å…¥srcç›®å½•å¹¶åˆ›å»ºåŒ…</p><p>åœ¨<code>src</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåŸºäºC++çš„ROS2åŒ…ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/CLASS_2/Task2/src/</span><br><span class="line">ros2 pkg create --build-type ament_python Publisher2Listener</span><br></pre></td></tr></table></figure><p>è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º<code>Publisher2Listener</code>çš„ROS2åŒ…ã€‚</p><h4 id="PublisherèŠ‚ç‚¹"><a href="#PublisherèŠ‚ç‚¹" class="headerlink" title="PublisherèŠ‚ç‚¹"></a>PublisherèŠ‚ç‚¹</h4><p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªPublisherèŠ‚ç‚¹ï¼Œå‘å¸ƒå­—ç¬¦ä¸²æ¶ˆæ¯ <code>Welcome to RM!</code>åˆ°ä¸€ä¸ªè¯é¢˜<code>/welcome_topic</code>ã€‚åˆ›å»ºä¸€ä¸ªPythonæ–‡ä»¶<code>publisher.py</code>ï¼Œåœ¨<code>Publisher2Listener</code>åŒ…çš„<code>Publisher2Listener</code>æ–‡ä»¶å¤¹ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># publisher.py</span></span><br><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br><span class="line"><span class="keyword">from</span> std_msgs.msg <span class="keyword">import</span> String</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PublisherNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">&#x27;publisher_node&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.publisher_ = <span class="variable language_">self</span>.create_publisher(String, <span class="string">&#x27;welcome_topic&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.timer = <span class="variable language_">self</span>.create_timer(<span class="number">1.0</span>, <span class="variable language_">self</span>.timer_callback)  <span class="comment"># æ¯ç§’å‘å¸ƒä¸€æ¬¡æ¶ˆæ¯</span></span><br><span class="line">        <span class="variable language_">self</span>.get_logger().info(<span class="string">&quot;Publisher node has started.&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">timer_callback</span>(<span class="params">self</span>):</span><br><span class="line">        msg = String()</span><br><span class="line">        msg.data = <span class="string">&quot;Welcome to RM!&quot;</span>  <span class="comment"># å‘å¸ƒçš„æ¶ˆæ¯</span></span><br><span class="line">        <span class="variable language_">self</span>.publisher_.publish(msg)</span><br><span class="line">        <span class="variable language_">self</span>.get_logger().info(<span class="string">f&quot;Publishing: &#x27;<span class="subst">&#123;msg.data&#125;</span>&#x27;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):</span><br><span class="line">    rclpy.init(args=args)</span><br><span class="line">    publisher_node = PublisherNode()</span><br><span class="line">    rclpy.spin(publisher_node)</span><br><span class="line">    rclpy.shutdown()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><ul><li><code>create_publisher</code>æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ªå‘å¸ƒå™¨ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©äº†<code>String</code>ç±»å‹çš„æ¶ˆæ¯ï¼Œè¯é¢˜åä¸º<code>/welcome_topic</code>ï¼Œé˜Ÿåˆ—å¤§å°ä¸º10ã€‚</li><li><code>create_timer</code>æ–¹æ³•ç”¨äºå®šæ—¶è°ƒç”¨<code>timer_callback</code>æ–¹æ³•ï¼Œæ¯ç§’å‘å¸ƒä¸€æ¬¡æ¶ˆæ¯ã€‚</li></ul><h4 id="ListenerèŠ‚ç‚¹"><a href="#ListenerèŠ‚ç‚¹" class="headerlink" title="ListenerèŠ‚ç‚¹"></a>ListenerèŠ‚ç‚¹</h4><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ListenerèŠ‚ç‚¹ï¼Œè®¢é˜…<code>/welcome_topic</code>è¯é¢˜å¹¶æ‰“å°æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚åˆ›å»ºä¸€ä¸ªPythonæ–‡ä»¶<code>listener.py</code>ï¼Œåœ¨<code>Publisher2Listener</code>åŒ…çš„<code>Publisher2Listener</code>æ–‡ä»¶å¤¹ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># listener.py</span></span><br><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br><span class="line"><span class="keyword">from</span> std_msgs.msg <span class="keyword">import</span> String</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListenerNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">&#x27;listener_node&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.subscription = <span class="variable language_">self</span>.create_subscription(</span><br><span class="line">            String,</span><br><span class="line">            <span class="string">&#x27;welcome_topic&#x27;</span>,</span><br><span class="line">            <span class="variable language_">self</span>.listener_callback,</span><br><span class="line">            <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.get_logger().info(<span class="string">&quot;Listener node has started.&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">listener_callback</span>(<span class="params">self, msg</span>):</span><br><span class="line">        <span class="variable language_">self</span>.get_logger().info(<span class="string">f&quot;Received: &#x27;<span class="subst">&#123;msg.data&#125;</span>&#x27;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):</span><br><span class="line">    rclpy.init(args=args)</span><br><span class="line">    listener_node = ListenerNode()</span><br><span class="line">    rclpy.spin(listener_node)</span><br><span class="line">    rclpy.shutdown()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><ul><li><code>create_subscription</code>æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ªè®¢é˜…å™¨ï¼Œè®¢é˜…<code>/welcome_topic</code>è¯é¢˜ã€‚æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œè°ƒç”¨<code>listener_callback</code>æ–¹æ³•å¤„ç†æ•°æ®ã€‚</li></ul><h4 id="setup-py-and-package-xml"><a href="#setup-py-and-package-xml" class="headerlink" title="setup.py and package.xml"></a>setup.py and package.xml</h4><blockquote><p>ç¼–è¾‘<code>setup.py</code></p></blockquote><p>åœ¨<code>Publisher2Listener</code>ç›®å½•ä¸‹æ‰¾åˆ°å¹¶ç¼–è¾‘<code>setup.py</code>æ–‡ä»¶ï¼Œç¡®ä¿æ·»åŠ äº†<code>Publisher2Listener</code>åŒ…çš„ä¾èµ–ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup</span><br><span class="line"></span><br><span class="line">package_name = <span class="string">&#x27;Publisher2Listener&#x27;</span></span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=package_name,</span><br><span class="line">    version=<span class="string">&#x27;0.0.0&#x27;</span>,</span><br><span class="line">    packages=[package_name],</span><br><span class="line">    data_files=[</span><br><span class="line">        (<span class="string">&#x27;share/ament_index/resource_index/packages&#x27;</span>,</span><br><span class="line">            [<span class="string">&#x27;resource/&#x27;</span> + package_name]),</span><br><span class="line">        (<span class="string">&#x27;share/&#x27;</span> + package_name, [<span class="string">&#x27;package.xml&#x27;</span>]),</span><br><span class="line">    ],</span><br><span class="line">    install_requires=[<span class="string">&#x27;setuptools&#x27;</span>, <span class="string">&#x27;rclpy&#x27;</span>, <span class="string">&#x27;std_msgs&#x27;</span>],</span><br><span class="line">    zip_safe=<span class="literal">True</span>,</span><br><span class="line">    maintainer=<span class="string">&#x27;Whaltze&#x27;</span>,</span><br><span class="line">    maintainer_email=<span class="string">&#x27;2260274457@qq.com&#x27;</span>,</span><br><span class="line">    description=<span class="string">&#x27;ROS2 Publisher and Listener Example&#x27;</span>,</span><br><span class="line">    license=<span class="string">&#x27;Apache License 2.0&#x27;</span>,</span><br><span class="line">    tests_require=[<span class="string">&#x27;pytest&#x27;</span>],</span><br><span class="line">    entry_points=&#123;</span><br><span class="line">        <span class="string">&#x27;console_scripts&#x27;</span>: [</span><br><span class="line">            <span class="string">&#x27;publisher = Publisher2Listener.publisher:main&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;listener = Publisher2Listener.listener:main&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p>ç¼–è¾‘<code>package.xml</code></p></blockquote><p>ç¡®ä¿åœ¨<code>package.xml</code>ä¸­æ·»åŠ äº†æ‰€éœ€çš„ä¾èµ–é¡¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">exec_depend</span>&gt;</span>rclpy<span class="tag">&lt;/<span class="name">exec_depend</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exec_depend</span>&gt;</span>std_msgs<span class="tag">&lt;/<span class="name">exec_depend</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘å’Œè¿è¡Œ"><a href="#ç¼–è¯‘å’Œè¿è¡Œ" class="headerlink" title="ç¼–è¯‘å’Œè¿è¡Œ"></a>ç¼–è¯‘å’Œè¿è¡Œ</h3><p>åœ¨å·¥ä½œç©ºé—´æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./src</span><br><span class="line">colcon build </span><br><span class="line"><span class="built_in">source</span> install/setup.bash</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯ï¼Œå¯åŠ¨Publisherå’ŒListenerï¼š</p><blockquote><p>é¦–å…ˆä¸€å®šè¦è®°å¾— source ä¸€ä¸‹ç¯å¢ƒ</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source install/setup.bash</span><br></pre></td></tr></table></figure><ol><li>å¯åŠ¨PublisherèŠ‚ç‚¹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run Publisher2Listener publisher</span><br></pre></td></tr></table></figure><ol start="2"><li>å¯åŠ¨ListenerèŠ‚ç‚¹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run Publisher2Listener listener</span><br></pre></td></tr></table></figure><p>ä½ å°†çœ‹åˆ°ListenerèŠ‚ç‚¹åœ¨æ¥æ”¶åˆ°PublisherèŠ‚ç‚¹å‘é€çš„æ¶ˆæ¯â€œWelcome to RMï¼â€åï¼Œè¾“å‡ºå¦‚ä¸‹æ—¥å¿—ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Received: &#x27;Welcome to RM!&#x27;</span><br></pre></td></tr></table></figure><h3 id="æŠ¥é”™-No-executable-found"><a href="#æŠ¥é”™-No-executable-found" class="headerlink" title="æŠ¥é”™ No executable found"></a>æŠ¥é”™ No executable found</h3><ul><li>source install&#x2F;setup.bash</li><li>æ£€æŸ¥ CMakeLists.txt æ–‡ä»¶æ˜¯å¦é…ç½®æ­£ç¡®</li><li>ä½¿ç”¨å‘½ä»¤ <code>ros2 pkg executables Publisher2Listener</code> æŸ¥çœ‹ç¡®ä¿è¾“å…¥æ­£ç¡®</li></ul><blockquote><p>æ€»ç»“</p></blockquote><p>é€šè¿‡è¿™æ¬¡ç»ƒä¹ ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åˆ›å»ºäº†ROS2èŠ‚ç‚¹ï¼Œä¸€ä¸ªä½œä¸ºPublisherï¼Œå¦ä¸€ä¸ªä½œä¸ºListenerã€‚å­¦ä¹ å¦‚ä½•åˆ›å»ºèŠ‚ç‚¹ã€è¯é¢˜ä»¥åŠå¦‚ä½•é€šè¿‡ROS2çš„å‘å¸ƒ-è®¢é˜…æ¨¡å‹è¿›è¡Œæ•°æ®ä¼ é€’ã€‚è¿™æ˜¯ROS2ä¸­éå¸¸å¸¸è§çš„é€šä¿¡æ–¹å¼ä¹‹ä¸€ï¼Œæœªæ¥ä½ å°†ä¼šç”¨åˆ°æ›´å¤šç±»ä¼¼çš„é€šä¿¡æœºåˆ¶æ¥æ„å»ºæ›´å¤æ‚çš„ç³»ç»Ÿã€‚</p><p>å¸Œæœ›å¤§å®¶åœ¨æ¥ä¸‹æ¥çš„å­¦ä¹ ä¸­èƒ½å¤ŸæŒæ¡è¿™äº›åŸºæœ¬æ¦‚å¿µï¼Œæ·±å…¥ç†è§£ROS2çš„é€šä¿¡æ¶æ„ã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶å‘æˆ‘æé—®ï¼</p><h2 id="ä½œä¸š-1"><a href="#ä½œä¸š-1" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h2><ol><li>é˜è¿°rosæ¶æ„ä»¥åŠè¯é¢˜èŠ‚ç‚¹æœåŠ¡ç­‰ä¹‹é—´çš„é€šä¿¡å…³ç³»</li><li>åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªlistenerå’Œpublisherï¼Œå‘å¸ƒä¿¡æ¯ä¸ºwelcome to RMï¼</li><li>æä¾›rqtæˆªå›¾</li><li>å†™ä¸€ä¸ªreadmeï¼Œå‘Šè¯‰æˆ‘å¦‚ä½•è¿è¡Œä½ çš„èŠ‚ç‚¹ï¼ˆå‘½ä»¤è¡Œï¼‰</li><li>ä½œä¸šä¸Šä¼ è‡³CLASSä»“åº“,ä¸”éœ€ç¬¦åˆæäº¤è§„èŒƒ</li></ol><h1 id="ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­"><a href="#ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­" class="headerlink" title="ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­"></a>ç®—æ³•ç»„ç¬¬ä¸‰æ¬¡åŸ¹è®­</h1><blockquote><p>æœ¬èŠ‚è¯¾ä¸»è¦è®²è§£ <code>OpenCV</code> çš„ä½¿ç”¨ æ–¹é¢åŒå­¦ä»¬å¿«é€Ÿå…¥é—¨ æ­å»ºç¯å¢ƒ(ä¼—æ‰€å‘¨çŸ¥,å¥½çš„ç¯å¢ƒæ˜¯æˆåŠŸçš„ä¸€åŠ) ä¸ºæ ¡èµ›å‡†å¤‡(æ ¡èµ›å…è®¸èƒ½åŠ›å¼ºçš„åŒå­¦ä¸Š <code>YOLO</code>, å¯è‡ªè¡Œå­¦ä¹  æœ¬ç»“è¯¾å°†ç•¥å¸¦è€Œè¿‡ ä¸ºåæœŸå¤§ä½œä¸šä½œé“ºå«)</p></blockquote><hr><h2 id="What-is-OpenCV"><a href="#What-is-OpenCV" class="headerlink" title="What is OpenCV"></a>What is OpenCV</h2><p><code>OpenCV</code> å…¨ç§° <code>Open Source Computer Vision Library</code> æ˜¯ä¸–ç•Œä¸Šè‘—åçš„å¼€æºè®¡ç®—æœºè§†è§‰è½¯ä»¶åº“ã€‚åœ¨å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰ä»¥åŠæœºå™¨å­¦ä¹ ç­‰æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨, OpenCVä¸»è¦ç”±Cå‡½æ•°å’Œå°‘é‡C++ç±»æ„æˆï¼Œä½†åŒæ—¶æä¾›Pythonã€Javaå’ŒMATLABç­‰å¤šç§è¯­è¨€çš„æ¥å£, å¹¿æ³›è¢«å¤§ä¼—ä½¿ç”¨ </p><blockquote><p>åœ¨ RoboMaster ç«æŠ€ä¸­ ä¸»è¦é€šè¿‡ OpenCV äº¦æˆ–æ˜¯ YOLO å®ç°å¯¹ è£…ç”²æ¿çš„è¯†åˆ« å®ç°è‡ªç„</p></blockquote><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="ä¸€é”®å®‰è£…"><a href="#ä¸€é”®å®‰è£…" class="headerlink" title="ä¸€é”®å®‰è£…"></a>ä¸€é”®å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libopencv-dev</span><br></pre></td></tr></table></figure><p>æ€•éº»çƒ¦çš„å¯ä»¥ä¸€é”®å®‰è£… è‡ªåŠ¨è·å–OpenCV4æ‰€éœ€çš„åº“æ–‡ä»¶ å¤§æ¦‚2ä¸ªå°æ—¶ </p><h3 id="æºç ä¸‹è½½"><a href="#æºç ä¸‹è½½" class="headerlink" title="æºç ä¸‹è½½"></a>æºç ä¸‹è½½</h3><h4 id="ä¸‹è½½å‹ç¼©åŒ…"><a href="#ä¸‹è½½å‹ç¼©åŒ…" class="headerlink" title="ä¸‹è½½å‹ç¼©åŒ…"></a>ä¸‹è½½å‹ç¼©åŒ…</h4><p>è¿›å…¥ <a href="https://opencv.org/releases/">opencvå®˜ç½‘</a>ï¼Œä¸‹è½½Sourceså‹ç¼©åŒ…</p><h4 id="å®‰è£…ä¾èµ–é¡¹"><a href="#å®‰è£…ä¾èµ–é¡¹" class="headerlink" title="å®‰è£…ä¾èµ–é¡¹"></a>å®‰è£…ä¾èµ–é¡¹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential libgtk2.0-dev libjpeg-dev  libtiff5-dev libopenexr-dev libtbb-dev</span><br><span class="line">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libgtk-3-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev pkg-config</span><br></pre></td></tr></table></figure><p>å…¶å®ä¾èµ–è¿˜æœ‰å¾ˆå¤š, å¯¹ç›®å‰æ¯”èµ›é¡¹ç›®æ¥è¯´ è¿™äº›è¶³å¤Ÿ</p><h4 id="cmake-make"><a href="#cmake-make" class="headerlink" title="cmake &amp;&amp; make"></a>cmake &amp;&amp; make</h4><p>å°†æºä»£ç è§£å‹åˆ°homeç›®å½•ä¸‹ï¼Œåˆ›å»ºbuildæ–‡ä»¶å¤¹ï¼Œç”¨cmakeæ£€æŸ¥ä¾èµ–é¡¹æ˜¯å¦å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd opencv-4.5.4/  # æ­¤å¤„ä¸ºè‡ªå·±å®‰è£…çš„ç‰ˆæœ¬</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake .. -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local/lib/opencv4.5.4 -D OPENCV_GENERATE_PKGCONFIG=ON</span><br></pre></td></tr></table></figure><ul><li><p><code>CMAKE_INSTALL_PREFIX</code> æ˜¯ opencv çš„å®‰è£…åœ°å€ã€‚ä¸ºä¾¿äºåç»­å¼€å‘ opencv å¤šç‰ˆæœ¬å…±å­˜ï¼Œå°† opencv ä¸åŒç‰ˆæœ¬å®‰æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­ï¼ˆç¼–è¯‘å…¶ä»–ç‰ˆæœ¬æ—¶æŠŠ opencv4.5.4 æ”¹æˆç›¸åº”çš„ç‰ˆæœ¬åå³å¯ï¼‰ï¼Œç›®çš„æ˜¯åˆ†å¼€ä½¿ç”¨ opencv å„ç‰ˆæœ¬</p></li><li><p><code>OPENCV_GENERATE_PKGCONFIG</code> å¼ºçƒˆå»ºè®®è®¾ç½®ä¸ºONã€‚<br>opencv4 é»˜è®¤ä¸ç”Ÿæˆ .pc æ–‡ä»¶ï¼Œæ‰€ä»¥åŠ ä¸Šè¿™å¥ç”¨äºç”Ÿæˆ opencv4.pc æ–‡ä»¶ï¼Œæ”¯æŒ <code>pkg-config --modversion opencv4</code> å‘½ä»¤ï¼Œä»è€Œå¯ä»¥æœç´¢åˆ° opencv ç‰ˆæœ¬ã€‚</p></li></ul><p>cmakeæ£€æŸ¥å®Œæˆï¼Œå°±ä¼šæ˜¾ç¤ºé…ç½®å’Œç”Ÿæˆå·²ç»“æŸ ç„¶åæˆ‘ä»¬ç”¨ <code>make</code>ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make -j8</span><br></pre></td></tr></table></figure><blockquote><p>-j8å°±æ˜¯å¼€å¯8çº¿ç¨‹è¿›è¡Œç¼–è¯‘ï¼ˆ-jåé¢çš„å‚æ•°å°±æ˜¯ä½¿ç”¨çš„çº¿ç¨‹æ•°é‡ï¼‰ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚è¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹æ¯”è¾ƒæ¼«é•¿ï¼Œä¸­é—´å¯èƒ½ä¼šå‡ºç°å„ç§warningçš„æç¤ºï¼Œä½†åªè¦æœ€å100%å°±OK æ ¹æ®è‡ªå·±ç”µè„‘æƒ…å†µåˆç†é€‰æ‹©</p></blockquote><p>ç¼–è¯‘æˆåŠŸåè¿è¡Œ make installå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h4><p>ä¿®æ”¹ <code>~/.bashrc</code> æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc </span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾åŠ ä¸Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">OpenCV 4.5.4</span></span><br><span class="line">export PKG_CONFIG_PATH=/usr/local/lib/opencv4.5.4/lib/pkgconfig  </span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/lib/opencv4.5.4/lib</span><br></pre></td></tr></table></figure><p>sourceç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>è¾“å…¥å‘½ä»¤æŸ¥çœ‹opencvç‰ˆæœ¬ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg-config opencv4 --modversion</span><br></pre></td></tr></table></figure><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image.png" alt=" "></p><blockquote><p>éœ€è¦æŸ¥çœ‹å…¶ä»–ç‰ˆæœ¬çš„ æŠŠopencv4 æ”¹æˆ opencv å³å¯</p></blockquote><p>ä¹Ÿå¯ä»¥è¯•è¿è¡Œ ä¾‹å­ç¨‹åº </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~/opencv-4.6.0/samples/cpp/example_cmake #ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”ä¸‹è½½çš„ç‰ˆæœ¬å·ç </span><br><span class="line">cmake .</span><br><span class="line">make</span><br><span class="line">./opencv_example</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>è¿™é‡Œä¹Ÿå¯ä»¥è¿è¡Œæˆ‘æä¾›çš„æµ‹è¯•ç¨‹åº</p><p>æ–°å»º <code>detect.py</code> å†™å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;armor.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å›¾åƒæ˜¯å¦æˆåŠŸè¯»å–</span></span><br><span class="line"><span class="keyword">if</span> image <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å›¾åƒè¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒ</span></span><br><span class="line">    gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œç°åº¦å›¾åƒ</span></span><br><span class="line">    cv2.imshow(<span class="string">&#x27;Original Image&#x27;</span>, image)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;Gray Image&#x27;</span>, gray_image)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç­‰å¾…æŒ‰é”®æŒ‰ä¸‹ï¼Œç„¶åå…³é—­æ‰€æœ‰çª—å£</span></span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿å­˜ç°åº¦å›¾åƒ</span></span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;armor_gray.png&#x27;</span>, gray_image)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œ <code>python3 detect.py</code> å¾—åˆ°å¦‚ä¸‹å›¾ç‰‡ å°±è¯æ˜æˆåŠŸäº†!!! (æ’’èŠ±)</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-3.png" alt=" "></p><p>ç»†å¿ƒçš„åŒå­¦ åº”è¯¥ä¹Ÿæ³¨æ„åˆ° åœ¨æ–‡ä»¶å¤¹å†…å¤šäº†ä¸€ä¸ªæ–°æ–‡ä»¶</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ armor_gray<span class="selector-class">.jpg</span></span><br><span class="line">â”œâ”€â”€ armor<span class="selector-class">.png</span></span><br><span class="line">â””â”€â”€ detect.py</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ OpenCV ç¯å¢ƒå°±ç®—æ­å»ºå®Œæˆäº† åç»­æœ‰ç›¸å…³éœ€æ±‚çš„åŒå­¦ ä¹Ÿå¯ä»¥é€šè¿‡ å®‰è£…ä¸åŒç‰ˆæœ¬<code>cv</code>æˆ–è€…ä½¿ç”¨ Anaconda å»ç®¡ç†ä¸åŒçš„pythonç‰ˆæœ¬ç­‰ä¸åŒç¯å¢ƒ,ä»¥é€‚åº”ä¸åŒçš„å·¥ä½œç¯å¢ƒ<br>ä½†å€¼å¾—æ³¨æ„çš„æ˜¯condaæœ‰æ—¶å€™é¢ä¸´ä¸€äº›å’Œé¡¹ç›®å†²çªçš„åœ°æ–¹ ä¼šæŠ¥é”™ æ­¤æ—¶éœ€è¦å®Œå…¨é€€å‡ºcondaç¯å¢ƒ(åŒ…æ‹¬base)</p><hr><h2 id="å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡"><a href="#å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡" class="headerlink" title="å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡"></a>å›¾åƒå¤„ç†çŸ¥è¯†é¢„å¤‡</h2><h3 id="å›¾åƒçš„ç©ºé—´è¡¨ç¤º"><a href="#å›¾åƒçš„ç©ºé—´è¡¨ç¤º" class="headerlink" title="å›¾åƒçš„ç©ºé—´è¡¨ç¤º"></a>å›¾åƒçš„ç©ºé—´è¡¨ç¤º</h3><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-6.png" alt=" "></p><blockquote><p>æ‘˜è‡ª Rafeal C.Gonzalez(æ‹‰æ–å°”Â·C. å†ˆè¨é›·æ–¯) Richard E.Woods(ç†æŸ¥å¾·Â·E. ä¼å…¹) è€å¸ˆçš„è‘—ä½œ Digital Image Processing,Fourth Edition(æ•°å­—å›¾åƒå¤„ç† ç¬¬å››ç‰ˆ)</p></blockquote><p><strong>å›¾åƒåœ¨è®¡ç®—æœºä¸­æ˜¯ä¸€ä¸ªäºŒç»´ç¦»æ•£ä¿¡å·ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºçŸ©é˜µå½¢å¼</strong></p><p>$$<br>I(x, y) \in \mathbb{R}^{M \times N}<br>$$</p><p>å…¶ä¸­ $x$ å’Œ $y$ æ˜¯åƒç´ åæ ‡ï¼Œ$M$ å’Œ $N$ æ˜¯å›¾åƒçš„é«˜åº¦å’Œå®½åº¦ã€‚å¯¹äºå½©è‰²å›¾åƒï¼Œé€šå¸¸ä½¿ç”¨ä¸‰é€šé“ $RGB$ï¼š</p><p>$$<br>I(x, y) &#x3D; [R(x, y), G(x, y), B(x, y)]<br>$$</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-4.png" alt=" "></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-5.png" alt=" "></p><blockquote><p>ä»è¿™æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå›¾åƒçš„æ•°æ®ä¸åŒäºè‡ªç„¶ç•Œä¸­è¿ç»­çš„å›¾åƒè‰²å½© è€Œæ˜¯ä¸€ä¸ªä¸ªç¦»æ•£çš„åƒç´ ç‚¹ æ„å‘³ç€ä¸€ä¸ªå›¾åƒä¸­ å­˜å‚¨ä¸€ä¸ªåƒç´ æ‰€ç”¨çš„ä½æ•°(bit)è¶Šå¤š ä¹Ÿå°±æ˜¯å¸¸è¯´çš„ä½æ·±è¶Šé«˜ å›¾åƒå°±è¶Šæ¸…æ™° æ‰€è¡¨è¾¾çš„ä¿¡æ¯å°±è¶Šä¸°å¯Œ</p></blockquote><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-17.png"></p><p>æˆ‘ä»¬åæœŸä¸»è¦ä½¿ç”¨çš„ç°åº¦å›¾åƒ æ˜¯ä¸€ä¸ªå•é€šé“å›¾åƒ åªç”¨ ä¸€ä½è¡¨ç¤º å³åªæœ‰0å’Œ1 è¡¨ç¤ºé»‘å’Œç™½ è™½ç„¶åœ¨è§†è§‰ä¸Šä¸å¦‚å½©è‰²å›¾åƒåŒ…å«ä¿¡æ¯å¤š ä½†åœ¨å¤„ç†ä¸Šç°åº¦å›¾åƒæ›´ç®€å•æ›´ä¾¿æ·ä¹Ÿæ›´è¿…é€Ÿ</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-18.png" alt=" "></p><h3 id="å›¾åƒçš„é¢œè‰²ç©ºé—´"><a href="#å›¾åƒçš„é¢œè‰²ç©ºé—´" class="headerlink" title="å›¾åƒçš„é¢œè‰²ç©ºé—´"></a>å›¾åƒçš„é¢œè‰²ç©ºé—´</h3><h4 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h4><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-8.png" alt=" "></p><ul><li><strong>RGB</strong>ï¼ˆRed, Green, Blueï¼‰åŸºäºåŠ è‰²åŸç†,æ˜¯æœ€å¸¸ç”¨çš„é¢œè‰²æ¨¡å‹ï¼Œ</li><li>å…¶ä¸­æ¯ä¸ªåƒç´ ç”±ä¸‰ä¸ªé€šé“ç»„æˆï¼Œå–å€¼èŒƒå›´é€šå¸¸ä¸º <code>[0, 255]</code>ï¼ˆ8ä½å›¾åƒï¼‰ã€‚</li></ul><p>$$<br>\text{Image} &#x3D; (R, G, B)&#x3D;\left( \frac{r}{255}, \frac{g}{255}, \frac{b}{255} \right), \quad R,G,B \in [0, 255]<br>$$</p><p>ç™½è‰² RGB(255,255,255)<br>é»‘è‰² RGB(0,0,0)</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-7.png"></p><p><code>cd Test2</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒï¼ˆOpenCVé»˜è®¤è¯»å–ä¸ºBGRæ ¼å¼ï¼‰</span></span><br><span class="line">img_bgr = cv2.imread(<span class="string">&quot;image.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # è½¬æ¢ä¸ºRGBæ ¼å¼</span></span><br><span class="line">img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†ç¦»RGBé€šé“</span></span><br><span class="line">r, g, b = cv2.split(img_rgb)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶RGBé€šé“</span></span><br><span class="line">img_red = cv2.merge([r, g, b])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;Original Image&quot;</span>, img_bgr)</span><br><span class="line">cv2.imshow(<span class="string">&quot;Red Image&quot;</span>, img_red)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p>è“è‰²å’Œçº¢è‰²å‘ç”Ÿè°ƒæ¢</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/%E6%88%AA%E5%9B%BE%202025-02-23%2001-01-30.png"></p><h4 id="HSV-HSLé¢œè‰²ç©ºé—´"><a href="#HSV-HSLé¢œè‰²ç©ºé—´" class="headerlink" title="HSV&#x2F;HSLé¢œè‰²ç©ºé—´"></a>HSV&#x2F;HSLé¢œè‰²ç©ºé—´</h4><ul><li><strong>HSV</strong>ï¼ˆHue, Saturation, Valueï¼‰å’Œ <strong>HSL</strong>ï¼ˆHue, Saturation, Lightnessï¼‰æ˜¯é¢å‘è§†è§‰æ„ŸçŸ¥çš„é¢œè‰²æ¨¡å‹,ä¹Ÿä¼šæ˜¯æˆ‘ä»¬ä»¥åç»å¸¸ä½¿ç”¨çš„é¢œè‰²ç©ºé—´ã€‚</li></ul><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-9.png" alt=" "></p><ul><li><strong>Hueï¼ˆè‰²ç›¸ï¼‰</strong>ï¼šé¢œè‰²ç±»å‹ï¼Œè§’åº¦èŒƒå›´ <code>[0Â°, 360Â°)</code>ï¼Œåœ¨OpenCVä¸­æ˜ å°„ä¸º <code>[0, 179]</code>ï¼ˆ8ä½å›¾åƒï¼‰ã€‚</li><li><strong>Saturationï¼ˆé¥±å’Œåº¦ï¼‰</strong>ï¼šé¢œè‰²çº¯åº¦ï¼ŒèŒƒå›´ <code>[0, 1]</code>ï¼ˆOpenCVä¸­æ˜ å°„ä¸º <code>[0, 255]</code>ï¼‰ã€‚</li><li><strong>Value(æ˜åº¦)</strong> æˆ– <strong>Lightness(äº®åº¦)</strong> ï¼šé¢œè‰²æ˜æš—ç¨‹åº¦ï¼ŒèŒƒå›´ <code>[0, 1]</code>ï¼ˆOpenCVä¸­æ˜ å°„ä¸º <code>[0, 255]</code>ï¼‰ã€‚</li></ul><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-13.png" alt=" "></p><blockquote><p>ç™½è‰² HSV(0,0,1)<br>é»‘è‰² HSV(0,0,0)</p></blockquote><p><strong>RGBåˆ°HSVçš„è½¬æ¢å…¬å¼</strong>ï¼ˆæ ‡å‡†åŒ–åˆ° [0,1]ï¼‰ï¼š</p><ol><li><p>è®¡ç®—æœ€å¤§å€¼ $ C_{\text{max}} &#x3D; \max(R, G, B) $ å’Œæœ€å°å€¼ $ C_{\text{min}} &#x3D; \min(R, G, B) $ã€‚</p></li><li><p>è®¡ç®—å·®å€¼ $ \Delta &#x3D; C_{\text{max}} - C_{\text{min}} $ã€‚</p></li><li><p><strong>Hue</strong>ï¼š</p><span> $$H = \begin{cases}0^\circ & \text{if } \Delta = 0 \\60^\circ \times \left( \frac{G - B}{\Delta} +0 \right) & \text{if } C_{\text{max}} = R \\60^\circ \times \left( \frac{B - R}{\Delta} + 2 \right) & \text{if } C_{\text{max}} = G \\60^\circ \times \left( \frac{R - G}{\Delta} + 4 \right) & \text{if } C_{\text{max}} = B\end{cases}$$</span></li></ol><p> <strong>Saturation</strong>ï¼š</p>   <span>    $$   S =    \begin{cases}   0 & \text{if } C_{\text{max}} = 0 \\   \frac{\Delta}{C_{\text{max}}} & \text{else}   \end{cases}   $$ **Value**ï¼š   $$   V = C_{\text{max}}   $$   </span><p><code>cd Test3</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">img_bgr = cv2.imread(<span class="string">&#x27;image.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºHSVé¢œè‰²ç©ºé—´ï¼ˆæ³¨æ„OpenCVä¸­HèŒƒå›´ä¸º[0,179]ï¼ŒS/Vä¸º[0,255]ï¼‰</span></span><br><span class="line">img_hsv = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2HSV)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†ç¦»HSVé€šé“</span></span><br><span class="line">h, s, v = cv2.split(img_hsv)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šæå–çº¢è‰²åŒºåŸŸï¼ˆHâ‰ˆ0æˆ–Hâ‰ˆ180é™„è¿‘ï¼‰</span></span><br><span class="line">lower_red1 = np.array([<span class="number">0</span>, <span class="number">50</span>, <span class="number">50</span>])</span><br><span class="line">upper_red1 = np.array([<span class="number">10</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">lower_red2 = np.array([<span class="number">170</span>, <span class="number">50</span>, <span class="number">50</span>])</span><br><span class="line">upper_red2 = np.array([<span class="number">180</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">mask_red = cv2.inRange(img_hsv, lower_red1, upper_red1) | cv2.inRange(img_hsv, lower_red2, upper_red2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œçº¢è‰²æ©è†œ</span></span><br><span class="line">cv2.imshow(<span class="string">&#x27;Original Image&#x27;</span>, img_bgr)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;Red Mask&#x27;</span>, mask_red)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å¾…æŒ‰é”®ï¼Œç„¶åå…³é—­æ‰€æœ‰çª—å£</span></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-14.png" alt=" "></p><p><strong>æ€»ç»“</strong></p><table><thead><tr><th>é¢œè‰²ç©ºé—´</th><th>é€šé“å«ä¹‰</th><th>ä¸»è¦åº”ç”¨</th></tr></thead><tbody><tr><td>RGB&#x2F;BGR</td><td>çº¢ã€ç»¿ã€è“</td><td>å›¾åƒæ˜¾ç¤ºä¸å­˜å‚¨</td></tr><tr><td>HSV&#x2F;HSL</td><td>è‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦&#x2F;äº®åº¦</td><td>é¢œè‰²åˆ†å‰²ã€æ»¤é•œ</td></tr></tbody></table><p><strong>OpenCVé¢œè‰²ç©ºé—´é€šç”¨è½¬æ¢å‡½æ•°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ï¼šcv2.cvtColor(src, code)</span></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šBGRè½¬ç°åº¦å›¾</span></span><br><span class="line">img_gray = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¯æŒçš„è½¬æ¢ä»£ç åŒ…æ‹¬ï¼š</span></span><br><span class="line"><span class="comment"># COLOR_BGR2RGB, COLOR_BGR2HSV, COLOR_BGR2LAB, COLOR_BGR2YUVç­‰</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd Test4</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">img_bgr = cv2.imread(<span class="string">&quot;image.png&quot;</span>)</span><br><span class="line">img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºä¸åŒé¢œè‰²ç©ºé—´</span></span><br><span class="line">img_hsv = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2HSV)</span><br><span class="line">img_lab = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2LAB)</span><br><span class="line">img_ycrcb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2YCrCb)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯è§†åŒ–</span></span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>,<span class="number">10</span>))</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>), plt.imshow(img_rgb), plt.title(<span class="string">&quot;RGB&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>), plt.imshow(img_hsv), plt.title(<span class="string">&quot;HSV&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>), plt.imshow(img_lab), plt.title(<span class="string">&quot;LAB&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>), plt.imshow(img_ycrcb), plt.title(<span class="string">&quot;YCbCr&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ol><li><strong>é€šé“èŒƒå›´</strong>ï¼šOpenCVä¸­ä¸åŒé¢œè‰²ç©ºé—´çš„é€šé“èŒƒå›´å¯èƒ½ä¸åŒï¼ˆå¦‚HSVçš„Hé€šé“ä¸º <code>[0,179]</code>ï¼‰ã€‚</li><li><strong>æ•°æ®ç±»å‹</strong>ï¼šé¢œè‰²ç©ºé—´è½¬æ¢å‰éœ€ç¡®ä¿å›¾åƒä¸º <code>float32</code> æˆ– <code>uint8</code> ç±»å‹ã€‚</li><li><strong>é¢œè‰²å¤±çœŸ</strong>ï¼šå¤šæ¬¡é¢œè‰²ç©ºé—´è½¬æ¢å¯èƒ½å¯¼è‡´ç²¾åº¦æŸå¤±ã€‚</li></ol><h3 id="å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ"><a href="#å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ" class="headerlink" title="å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ"></a>å›¾åƒå½¢æ€å­¦ç‰¹å¾æ“ä½œ</h3><h4 id="è†¨èƒ€ä¸è…èš€"><a href="#è†¨èƒ€ä¸è…èš€" class="headerlink" title="è†¨èƒ€ä¸è…èš€"></a>è†¨èƒ€ä¸è…èš€</h4><p>å¯¹å›¾åƒå½¢æ€å­¦ç‰¹å¾ æœ€åŸºç¡€çš„å°±æ˜¯ <strong>è†¨èƒ€</strong>ï¼ˆDilationï¼‰å’Œ <strong>è…èš€</strong>ï¼ˆErosionï¼‰ã€‚</p><ul><li><strong>è†¨èƒ€</strong>ï¼ˆDilationï¼‰ï¼š<br>$$<br>A \oplus B &#x3D; { z | (\hat{B})_z \cap A \neq \emptyset }<br>$$</li><li><strong>è…èš€</strong>ï¼ˆErosionï¼‰ï¼š<br>$$<br>A \ominus B &#x3D; { z | (B)_z \subseteq A }<br>$$<br>å…¶ä¸­ $B$ æ˜¯ç»“æ„å…ƒç´ ã€‚</li></ul><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-15.png"></p><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>), np.uint8)</span><br><span class="line">dilated = cv2.dilate(img, kernel)</span><br><span class="line">eroded = cv2.erode(img, kernel)</span><br></pre></td></tr></table></figure><p><strong>å¼€è¿ç®—ä¸é—­è¿ç®—</strong></p><ul><li>å¼€è¿ç®—ï¼šå…ˆè…èš€åè†¨èƒ€ï¼ˆå»é™¤å°ç‰©ä½“ï¼‰ã€‚</li><li>é—­è¿ç®—ï¼šå…ˆè†¨èƒ€åè…èš€ï¼ˆå¡«å……å°å­”ï¼‰ã€‚</li></ul><p>ä¸€æ¬¡è†¨èƒ€ä¸€æ¬¡è…èš€ ä¿æŒä½“ç§¯ä¸å˜</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-12.png"></p><h4 id="æ»¤æ³¢å·ç§¯"><a href="#æ»¤æ³¢å·ç§¯" class="headerlink" title="æ»¤æ³¢å·ç§¯"></a>æ»¤æ³¢å·ç§¯</h4><p>å›¾åƒæ»¤æ³¢çš„æ ¸å¿ƒæ˜¯å·ç§¯è¿ç®—ã€‚ç»™å®šå›¾åƒ $I(x, y)$ å’Œå·ç§¯æ ¸ $K(i, j)$ï¼Œå·ç§¯å…¬å¼ä¸ºï¼š<br>$$<br>(I * K)(x, y) &#x3D; \sum_{i&#x3D;-a}^{a} \sum_{j&#x3D;-b}^{b} I(x-i, y-j) \cdot K(i, j)<br>$$<br>å…¶ä¸­ $K$ çš„å¤§å°ä¸º $(2a+1) \times (2b+1)$ã€‚</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-10.png"></p><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">kernel = np.array([[<span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">5</span>, -<span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>]])  <span class="comment"># é”åŒ–å·ç§¯æ ¸</span></span><br><span class="line">filtered = cv2.filter2D(img, -<span class="number">1</span>, kernel)</span><br></pre></td></tr></table></figure><h3 id="é«˜æ–¯æ»¤æ³¢"><a href="#é«˜æ–¯æ»¤æ³¢" class="headerlink" title="é«˜æ–¯æ»¤æ³¢"></a>é«˜æ–¯æ»¤æ³¢</h3><p>é«˜æ–¯æ ¸çš„æ•°å­¦å…¬å¼ï¼ˆæ ‡å‡†å·®ä¸º $\sigma$ï¼š<br>$$<br>K(i, j) &#x3D; \frac{1}{2\pi\sigma^2} e^{-\frac{i^2 + j^2}{2\sigma^2}}<br>$$<br>ç¦»æ•£åŒ–åï¼Œç”Ÿæˆé«˜æ–¯æ ¸çŸ©é˜µã€‚</p><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blur = cv2.GaussianBlur(img, (<span class="number">5</span>,<span class="number">5</span>), sigmaX=<span class="number">1.5</span>)</span><br></pre></td></tr></table></figure><h3 id="Sobelç®—å­è¾¹ç¼˜æ£€æµ‹"><a href="#Sobelç®—å­è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="Sobelç®—å­è¾¹ç¼˜æ£€æµ‹"></a>Sobelç®—å­è¾¹ç¼˜æ£€æµ‹</h3><p>Sobelç®—å­çš„æ°´å¹³å’Œå‚ç›´å·ç§¯æ ¸ï¼š</p><span>$$K_x = \begin{bmatrix}-1 & 0 & 1 \\-2 & 0 & 2 \\-1 & 0 & 1\end{bmatrix}, \quadK_y = \begin{bmatrix}-1 & -2 & -1 \\0 & 0 & 0 \\1 & 2 & 1\end{bmatrix}$$æ¢¯åº¦å¹…å€¼è®¡ç®—ï¼š$$G = \sqrt{G_x^2 + G_y^2}$$</span><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grad_x = cv2.Sobel(img, cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>, ksize=<span class="number">3</span>)</span><br><span class="line">grad_y = cv2.Sobel(img, cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>, ksize=<span class="number">3</span>)</span><br><span class="line">grad = np.sqrt(grad_x**<span class="number">2</span> + grad_y**<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="å›¾åƒæ’å€¼"><a href="#å›¾åƒæ’å€¼" class="headerlink" title="å›¾åƒæ’å€¼"></a>å›¾åƒæ’å€¼</h3><p>åœ¨ç¼©æ”¾æˆ–æ—‹è½¬æ—¶ï¼Œåƒç´ ä½ç½®å¯èƒ½éæ•´æ•°ï¼Œéœ€æ’å€¼ã€‚å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li><p><strong>åŒçº¿æ€§æ’å€¼</strong>ï¼š</p><p>$$<br>I(x, y) &#x3D; (1 - \alpha)(1 - \beta) I_{00} + \alpha(1 - \beta) I_{10} + (1 - \alpha)\beta I_{01} + \alpha\beta I_{11}<br>$$</p><p>å…¶ä¸­ $$\alpha &#x3D; x - \lfloor x \rfloor$$  $$\beta &#x3D; y - \lfloor y \rfloor$$</p></li></ul><p><strong>OpenCVå®ç°</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resized = cv2.resize(img, <span class="literal">None</span>, fx=<span class="number">2</span>, fy=<span class="number">2</span>, interpolation=cv2.INTER_LINEAR)</span><br></pre></td></tr></table></figure><h2 id="armor-detect"><a href="#armor-detect" class="headerlink" title="armor_detect"></a>armor_detect</h2><p>è¿™æ˜¯Roboasteræ¯”èµ›ä¸­å¸¸è§çš„è£…ç”²æ¿å›¾å½¢</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TB    A[Robomasterè£…ç”²æ¿è¯†åˆ«] --&gt; B[å›¾åƒé¢„å¤„ç†];    B --&gt; B1[é€‰å–é¢œè‰²é€šé“é˜ˆå€¼åŒºé—´];    B --&gt; B2[äºŒå€¼åŒ–];    B --&gt; B3[å½¢æ€å­¦æ“ä½œ];    B --&gt; B4[è¾¹ç¼˜æ£€æµ‹];    B --&gt; B5[...];    B1 --&gt; C[ç­›é€‰çŸ©å½¢];    B2 --&gt; C;    B3 --&gt; C;    B4 --&gt; C;    B5 --&gt; C;    C --&gt; C1[æŸ¥æ‰¾è½®å»“];    C1 --&gt; C2[ç­›é€‰é™¤å»éƒ¨åˆ†çŸ©å½¢];    C2 --&gt; D[åˆ¤æ–­æ˜¯å¦ä¸ºè£…ç”²æ¿];    D --&gt; E[éå†çŸ©å½¢ï¼Œä¸¤ä¸¤ç»„åˆåˆ¤æ–­];    E --&gt; F[è¯†åˆ«è£…ç”²æ¿];    F --&gt; F1[è£…ç”²æ¿ä¸­å¿ƒç›¸å¯¹ç”»é¢ä¸­å¿ƒåæ ‡];  </pre></div><p>è§‚å¯Ÿå›¾å½¢å¯ä»¥çœ‹åˆ°</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-1.png" alt=" "></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-2.png" alt=" "></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-16.png" alt=" "></p><h2 id="OpenCV"><a href="#OpenCV" class="headerlink" title="OpenCV !"></a>OpenCV !</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libopencv-dev</span><br></pre></td></tr></table></figure><p>ç¡®ä¿ç¯å¢ƒå·²ç»æ­å»º æœ¬èŠ‚è¯¾åŸºäºç”¨ OpenCV åœ¨å±å¹•å³ä¸Šè§’ç»˜åˆ¶çŸ©å½¢ä¸ºæ¡ˆä¾‹ å¸¦å¤§å®¶äº†è§£åŸºæœ¬çš„æ“ä½œæ€è·¯</p><blockquote><p>æ¼”ç¤ºæ‘„åƒå¤´æ­è½½ USB å…¨åŸŸéƒ¨æ‘„åƒå¤´ è¿›è¡Œæ‰«æ æœ‰æ¡ä»¶çš„åŒå­¦å¯ä»¥è´­ä¹°ç±»ä¼¼USBé©±åŠ¨æ‘„åƒå¤´ ä½¿ç”¨ç”µè„‘è‡ªå¸¦æ‘„åƒå¤´ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„</p></blockquote><h3 id="å®‰è£…-usb-camæ‘„åƒå¤´é©±åŠ¨"><a href="#å®‰è£…-usb-camæ‘„åƒå¤´é©±åŠ¨" class="headerlink" title="å®‰è£… usb_camæ‘„åƒå¤´é©±åŠ¨"></a>å®‰è£… usb_camæ‘„åƒå¤´é©±åŠ¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-humble-usb_cam </span><br></pre></td></tr></table></figure><p>cheese èŒ„å­</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cheese </span><br><span class="line">cheese  # è¿è¡ŒèŒ„å­</span><br></pre></td></tr></table></figure><p>è¿è¡Œ <code>red_circle_detect.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æ‘„åƒå¤´</span></span><br><span class="line">cap = cv2.VideoCapture(<span class="number">2</span>) <span class="comment"># æ•°å­—æ ¹æ®è‡ªå·±æ‘„åƒå¤´ç¡®å®šç¼–å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># è¯»å–è§†é¢‘å¸§</span></span><br><span class="line">    ret, frame = cap.read()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ret:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•è·å–è§†é¢‘å¸§&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†å›¾åƒè½¬æ¢ä¸ºHSVé¢œè‰²ç©ºé—´ï¼ˆæ›´å¥½çš„é¢œè‰²åˆ†ç¦»ï¼‰</span></span><br><span class="line">    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å®šä¹‰çº¢è‰²çš„HSVèŒƒå›´ï¼ˆéœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰</span></span><br><span class="line">    lower_red1 = np.array([<span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>])</span><br><span class="line">    upper_red1 = np.array([<span class="number">10</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">    lower_red2 = np.array([<span class="number">160</span>, <span class="number">100</span>, <span class="number">100</span>])</span><br><span class="line">    upper_red2 = np.array([<span class="number">180</span>, <span class="number">255</span>, <span class="number">255</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆ›å»ºçº¢è‰²æ©è†œ</span></span><br><span class="line">    mask1 = cv2.inRange(hsv, lower_red1, upper_red1)</span><br><span class="line">    mask2 = cv2.inRange(hsv, lower_red2, upper_red2)</span><br><span class="line">    mask = cv2.bitwise_or(mask1, mask2)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å›¾åƒé¢„å¤„ç†</span></span><br><span class="line">    mask = cv2.erode(mask, <span class="literal">None</span>, iterations=<span class="number">2</span>)</span><br><span class="line">    mask = cv2.dilate(mask, <span class="literal">None</span>, iterations=<span class="number">2</span>)</span><br><span class="line">    mask = cv2.GaussianBlur(mask, (<span class="number">9</span>, <span class="number">9</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># éœå¤«åœ†æ£€æµ‹</span></span><br><span class="line">    circles = cv2.HoughCircles(mask, cv2.HOUGH_GRADIENT, dp=<span class="number">1.2</span>, minDist=<span class="number">100</span>,</span><br><span class="line">                              param1=<span class="number">50</span>, param2=<span class="number">30</span>, minRadius=<span class="number">20</span>, maxRadius=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¦‚æœæ£€æµ‹åˆ°åœ†å½¢</span></span><br><span class="line">    <span class="keyword">if</span> circles <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        circles = np.<span class="built_in">round</span>(circles[<span class="number">0</span>, :]).astype(<span class="string">&quot;int&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># éå†æ‰€æœ‰æ£€æµ‹åˆ°çš„åœ†</span></span><br><span class="line">        <span class="keyword">for</span> (x, y, r) <span class="keyword">in</span> circles:</span><br><span class="line">            <span class="comment"># ç»˜åˆ¶åœ†å½¢å’Œä¸­å¿ƒç‚¹</span></span><br><span class="line">            cv2.circle(frame, (x, y), r, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">4</span>)</span><br><span class="line">            cv2.circle(frame, (x, y), <span class="number">2</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">3</span>)</span><br><span class="line">            <span class="comment"># æ˜¾ç¤ºåœ†å¿ƒåæ ‡</span></span><br><span class="line">            cv2.putText(frame, <span class="string">f&quot;(<span class="subst">&#123;x&#125;</span>, <span class="subst">&#123;y&#125;</span>)&quot;</span>, (x-<span class="number">50</span>, y-<span class="number">20</span>),</span><br><span class="line">                       cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºç»“æœ</span></span><br><span class="line">    cv2.imshow(<span class="string">&quot;Frame&quot;</span>, frame)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;Mask&quot;</span>, mask)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŒ‰qé€€å‡º</span></span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡Šæ”¾èµ„æº</span></span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p>éšæ‰‹ç”»ä¸€å¼ å›¾æ£€éªŒä¸€ä¸‹</p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-20.png" alt=" "></p><p>å¯ä»¥çœ‹åˆ°å›¾ç‰‡ä¸Šå­˜åœ¨ä¸åŒé¢œè‰²çš„å¹²æ‰° ä»¥åŠå½¢æ€çš„å¹²æ‰° ä¸¤è€…éƒ½éœ€è¦è€ƒè™‘</p><p>çœ‹çœ‹æ£€æµ‹ç»“æœ</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/result.png"></p><p>æ­£ç¡®åˆ†ç¦»å‡ºäº†çº¢è‰²éƒ¨åˆ†</p><p>è€Œä¸”å›¾å½¢åˆ¤æ–­æ­£ç¡® æ²¡æœ‰è¯¯åˆ¤çŸ©å½¢</p><blockquote><p>ä½†åœ¨å®é™…æ¯”èµ›ä¸­ å¯èƒ½å—åˆ°å…‰ç…§ç­‰å› ç´ å½±å“ ä»¥åŠå°çƒé¢œè‰²å¤šæ · å¯èƒ½æ²¡æœ‰å¦‚æ­¤é²œæ˜ç‰¹å¾ç­‰ç­‰ è¿™éƒ½ä¼šå½±å“æˆ‘ä»¬è¯†åˆ«çš„ç»“æœ è¿™é‡Œæä¾›ä¸€ä¸ªç®€å•çš„æ ·ä¾‹æ€è·¯ è¿˜æœ‰å¾ˆå¤šåœ°æ–¹å¯ä»¥ä¼˜åŒ–</p></blockquote><h2 id="ä½œä¸š-2"><a href="#ä½œä¸š-2" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h2><ul><li><p>åŸºäºOpenCVç¼–å†™è¯†åˆ«ç¨‹åº è¯†åˆ«ç»¿è‰²ä¸‰è§’å½¢ (è¯†åˆ«ç¯å¢ƒè‡ªå·±ç»˜å›¾,è¶Šèƒ½é€‚åº”å¤æ‚ç¯å¢ƒ,ä½œä¸šè¯„åˆ†è¶Šé«˜)</p></li><li><p>ROSä¸OpenCVçš„è½¬æ¢</p><ul><li>ä»¥ROSåŠŸèƒ½åŒ…çš„å½¢å¼ç¼–å†™èŠ‚ç‚¹å®æ—¶è®¢é˜…æ‘„åƒå¤´å‘å¸ƒçš„å›¾åƒè¯é¢˜æ¶ˆæ¯å¹¶å°†ROSå›¾åƒæ¶ˆæ¯è½¬æ¢ä¸ºOpenCVå›¾åƒ</li><li>åœ¨å›¾åƒå³ä¸Šè§’ç»˜åˆ¶çŸ©å½¢ï¼Œå†å°†OpenCVå›¾åƒè½¬æ¢å›ROSå›¾åƒæ¶ˆæ¯é‡æ–°å‘å¸ƒåˆ°ä¸€ä¸ªæ–°çš„è¯é¢˜</li><li>ç”¨rvizæˆ–è€…rqt_image_viewæ˜¾ç¤ºå›¾åƒæ¶ˆæ¯</li></ul></li></ul><p>ä½œä¸šå‡è¦æ±‚æä¾› æºç¨‹åºå’Œå®ä¾‹å›¾åƒ READMEè®²è§£è¿è¡Œè¿‡ç¨‹ (å¯å¼•ç”¨å›¾ç‰‡å±•ç¤º) æˆªæ­¢äº <strong>2025å¹´3æœˆ29æ—¥æ™š24ç‚¹</strong></p><p><strong>æ ·ä¾‹</strong></p><p><img src="/images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/image-21.png" alt=" "></p><p><img src="/./images/%E8%A7%86%E8%A7%89%E7%BB%84%E5%9F%B9%E8%AE%AD/7.png" alt=" "></p><!-- ç¬¬å››èŠ‚è¯¾ä¼šç»™å¤§å®¶æä¾›ç›¸å…³å¯¼èˆªä»¿çœŸèµ„æ–™å’Œè£…ç”²æ¿è¯†åˆ«èµ„æ–™ï¼Œå¤§å®¶å¯ä»¥äºŒé€‰ä¸€è¿›è¡Œå­¦ä¹ slamå»ºå›¾æˆ–è£…ç”²æ¿è¯†åˆ«ï¼ˆè¿™éƒ¨åˆ†è‡ªå­¦ä¸ºä¸»ï¼‰æœ€åå¸¦å¤§å®¶å®Œæˆä¸€ä¸ªæ¯”è¾ƒå¤§çš„é¡¹ç›®ï¼Œåœ¨è‡ªå·±ç”µè„‘ä¸Šéƒ¨ç½²ä¸€ä¸ªyolov5è¿›è¡Œä¸€äº›ç®€å•çš„è¯†åˆ« -->]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Robomaster </tag>
            
            <tag> è§†è§‰ç»„åŸ¹è®­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32å­¦ä¹ è®°å½•</title>
      <link href="/2024/10/20/Stm32%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2024/10/20/Stm32%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸€äº›å¥½ç”¨çš„ç½‘ç«™<br><a href="https://shequ.stmicroelectronics.cn/thread-623877-1-1.html">STM32å‚è€ƒæ‰‹å†Œå¤§æ±‡æ€»ï¼Œå²ä¸Šå·¨å…¨ï¼Œå†ä¹Ÿä¸ç”¨åˆ°å¤„æ‰¾å•¦</a><br><a href="https://www.cnblogs.com/ligangblog/p/9963786.html">keilç¼–è¯‘è¿è¡Œé”™è¯¯ï¼Œç¼ºå°‘error:#5ï¼š#include â€œcore_cm3.hâ€</a><br><a href="https://zhuanlan.zhihu.com/p/561047339">MDK5.37ä¸é¢„å®‰è£…Compiler Version5è§£å†³åŠæ³•</a><br><a href="https://blog.csdn.net/AI_QS_CSDN/article/details/105213662">keil5 æ˜¾ç¤º No target connected</a><br><a href="https://blog.csdn.net/kangweijian/article/details/107564868">STM32 No Target connectedå››ç§è§£å†³åŠæ³•</a><br><a href="https://bbs.huaweicloud.com/blogs/433459">ã€Keil5æ•™ç¨‹åŠæŠ€å·§ã€‘</a><br><a href="https://blog.csdn.net/gitblog_06586/article/details/142399385">Keil ä¸¢å¤±ç¼–è¯‘å™¨ç‰ˆæœ¬5ã€å†…æ ¸æ–‡ä»¶core_cm3.cæŠ¥é”™è§£å†³æ–¹æ¡ˆ</a><br>å‘ç°ä¸stm32çš„ä¸‰ç§å¯åŠ¨æ–¹å¼æœ‰å…³ï¼ˆæˆ‘å¬ä¿¡åˆ«äººï¼Œå¦‚æœä½¿ç”¨swdä¸‹è½½ç¨‹åºï¼Œåˆ™boot0å°±å¯ä»¥æ‚¬ç©ºï¼Œæ‰å¯¼è‡´å‡ºç°flashé”æ­»ï¼‰ï¼Œäºæ˜¯æˆ‘å°†ç¨‹åºæ“¦é™¤åï¼Œå¹¶ç”¨çŸ­æ¥å¸½å°†boot0æ¥åœ°ï¼Œboot1æ­¤æ—¶å¯ä»¥ä½œå®ƒç”¨ï¼Œé‡æ–°è¿›å…¥è°ƒè¯•æ—¶ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„äº†ã€‚<br><a href="https://blog.csdn.net/m0_46217142/article/details/122861796">åœ¨MDKè°ƒè¯•STM32å‡ºç°â€œcould not stop cortex-m deviceâ€è§£å†³åŠæ³•</a><br><a href="https://blog.csdn.net/HongAndYi/article/details/115604543">ä½¿ç”¨STM32CubeMXå’ŒSTM32CubeIDEçš„å¸¸è§é—®é¢˜å’Œæ³¨æ„äº‹é¡¹</a><br><a href="https://doc.embedfire.com/mcu/stm32/f103zhinanzhe/std/zh/latest/book/USART.html">å®˜æ–¹æ–‡æ¡£-ä¸²å£é€šä¿¡</a><br><a href="https://shequ.stmicroelectronics.cn/thread-634287-1-1.html">ã€ç»éªŒåˆ†äº«ã€‘STM32ä½¿ç”¨HALåº“çš„ADCå¤šé€šé“æ•°æ®é‡‡é›†ï¼ˆDMA+éDMAæ–¹å¼ï¼‰+ è¯»å–å†…éƒ¨ä¼ æ„Ÿå™¨æ¸©åº¦</a><br><a href="https://www.cnblogs.com/Lavender-edgar/p/18347469">ADCæ¨¡æ•°è½¬æ¢</a></p></blockquote><h1 id="Stm32F103C8T6å­¦ä¹ "><a href="#Stm32F103C8T6å­¦ä¹ " class="headerlink" title="Stm32F103C8T6å­¦ä¹ "></a>Stm32F103C8T6å­¦ä¹ </h1><blockquote><p>è¯¾è®¾å¯»è¿¹å°è½¦éœ€è¦,é‚å¼€å§‹å­¦ä¹ å•ç‰‡æœºæœ‰å…³çŸ¥è¯†,åœ¨æ­¤è¿›è¡Œè®°å½•å­¦ä¹ </p></blockquote><p>ä¸‹è½½Keil5(ä¸è¦ä¸‹è½½å¤ªé«˜ç‰ˆæœ¬çš„),é«˜ç‰ˆæœ¬ä¸å†è‡ªå¸¦arm compiler,éœ€è¦è‡ªè¡Œå®‰è£…version5ç¼–è¯‘å™¨ç‰ˆæœ¬<br>å°tips,ä¹Ÿå¯ä»¥ä»åˆ«äººé‚£é‡Œç›´æ¥copy <strong>AEMCC</strong>æ•´ä¸ªç›®å½•åˆ°è‡ªå·±çš„ARMç›®å½•ä¸‹å»é…ç½®</p><p>è¿™é‡Œè´´å‡ ä¸ªç½‘å›¾</p><p><img src="/./images/Stm32%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/1.png" alt=" "></p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> SMART </tag>
            
            <tag> stm32 </tag>
            
            <tag> å•ç‰‡æœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vimä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2024/10/11/vim%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2024/10/11/vim%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä»‹ç»vimçš„å®‰è£…ä¸ä½¿ç”¨,(å¾…æ›´æ–°)<br><a href="https://cn.linux-console.net/?p=29585">ubuntu-vimå®˜ç½‘æ–‡æ¡£-å®‰è£…ä¸ä»‹ç»</a><br><a href="https://www.runoob.com/linux/linux-vim.html">Vim-èœé¸Ÿæ•™ç¨‹</a><br><a href="https://blog.csdn.net/scaleqiao/article/details/45153379">CSDN-è¿›é˜¶å‚æ•°é€‰é¡¹æŒ‡ä»¤</a></p></blockquote><h1 id="vimå®‰è£…"><a href="#vimå®‰è£…" class="headerlink" title="vimå®‰è£…"></a>vimå®‰è£…</h1><p><a href="https://cn.linux-console.net/?p=29585">ubuntu-vimå®‰è£…å®˜ç½‘æ–‡æ¡£</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vim</span><br></pre></td></tr></table></figure><p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim --version</span><br></pre></td></tr></table></figure><blockquote><p>ä¸€äº›è®¾ç½®ä»Šåå¯ä»¥cd &#x2F;etc&#x2F;vim&#x2F; æ‰¾åˆ°vimrcæ–‡ä»¶è¿›è¡Œè®¾ç½®</p></blockquote><h1 id="æŒ‡ä»¤é›†åˆ"><a href="#æŒ‡ä»¤é›†åˆ" class="headerlink" title="æŒ‡ä»¤é›†åˆ"></a>æŒ‡ä»¤é›†åˆ</h1><h2 id="å¯åŠ¨vim"><a href="#å¯åŠ¨vim" class="headerlink" title="å¯åŠ¨vim"></a>å¯åŠ¨vim</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi</span><br></pre></td></tr></table></figure><h1 id="vi-vim-åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#vi-vim-åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="vi&#x2F;vim åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>vi&#x2F;vim åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h1><blockquote><p>vi&#x2F;vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼ï¼ˆCommand Modeï¼‰ã€è¾“å…¥æ¨¡å¼ï¼ˆInsert Modeï¼‰å’Œå‘½ä»¤è¡Œæ¨¡å¼ï¼ˆCommand-Line Modeï¼‰</p></blockquote><p><strong style="color:red;font-family:'ä»¿å®‹';"> å‘½ä»¤æ¨¡å¼ </strong></p><blockquote><p><strong style="font-family:'ä»¿å®‹';">ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi&#x2F;vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼</strong></p></blockquote><p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢« Vim è¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ï¼Œæ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹ iï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œi è¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤</p><p><strong>ä»¥ä¸‹æ˜¯æ™®é€šæ¨¡å¼å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</strong></p><table><thead><tr><th align="center">æŒ‡ä»¤</th><th align="center">ä»‹ç»</th></tr></thead><tbody><tr><td align="center">i</td><td align="center">åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œåœ¨å…‰æ ‡å½“å‰ä½ç½®å¼€å§‹è¾“å…¥æ–‡æœ¬</td></tr><tr><td align="center">x</td><td align="center">åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦</td></tr><tr><td align="center">:</td><td align="center">åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤</td></tr><tr><td align="center">a</td><td align="center">è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œåœ¨å…‰æ ‡ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹è¾“å…¥æ–‡æœ¬</td></tr><tr><td align="center">o</td><td align="center">åœ¨å½“å‰è¡Œçš„ä¸‹æ–¹æ’å…¥ä¸€ä¸ªæ–°è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td align="center">O</td><td align="center">åœ¨å½“å‰è¡Œçš„ä¸Šæ–¹æ’å…¥ä¸€ä¸ªæ–°è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td align="center">dd</td><td align="center">å‰ªåˆ‡å½“å‰è¡Œ</td></tr><tr><td align="center">yy</td><td align="center">å¤åˆ¶å½“å‰è¡Œ</td></tr><tr><td align="center">p</td><td align="center">ç²˜è´´å‰ªè´´æ¿å†…å®¹åˆ°å…‰æ ‡ä¸‹æ–¹</td></tr><tr><td align="center">P</td><td align="center">ç²˜è´´å‰ªè´´æ¿å†…å®¹åˆ°å…‰æ ‡ä¸Šæ–¹</td></tr><tr><td align="center">u</td><td align="center">æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ</td></tr><tr><td align="center">Ctrl + r</td><td align="center">é‡åšä¸Šä¸€æ¬¡æ’¤é”€çš„æ“ä½œ</td></tr><tr><td align="center">:w</td><td align="center">ä¿å­˜æ–‡ä»¶</td></tr><tr><td align="center">:q</td><td align="center">é€€å‡º Vim ç¼–è¾‘å™¨</td></tr><tr><td align="center">:q!</td><td align="center">å¼ºåˆ¶é€€å‡ºVim ç¼–è¾‘å™¨ï¼Œä¸ä¿å­˜ä¿®æ”¹</td></tr></tbody></table><blockquote><p>å‘½ä»¤æ¨¡å¼åªæœ‰ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå› æ­¤ä»è¦ä¾é åº•çº¿å‘½ä»¤è¡Œæ¨¡å¼è¾“å…¥æ›´å¤šå‘½ä»¤</p></blockquote><p><strong style="color:red; font-family:'ä»¿å®‹';">è¾“å…¥æ¨¡å¼</strong></p><blockquote><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹ i å°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ï¼Œä½¿ç”¨ Esc é”®å¯ä»¥è¿”å›åˆ°æ™®é€šæ¨¡å¼ã€‚</p></blockquote><p>åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š</p><table><thead><tr><th align="center">æŒ‰é”®</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">ENTER</td><td align="center">å›è½¦é”®ï¼Œæ¢è¡Œ</td></tr><tr><td align="center">BACK SPACE</td><td align="center">é€€æ ¼é”®ï¼Œåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">DEL</td><td align="center">åˆ é™¤é”®ï¼Œåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">æ–¹å‘é”®</td><td align="center">åœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡</td></tr><tr><td align="center">HOME&#x2F;END</td><td align="center">ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–&#x2F;è¡Œå°¾</td></tr><tr><td align="center">Page Up&#x2F;Page Down</td><td align="center">ä¸Š&#x2F;ä¸‹ç¿»é¡µ</td></tr><tr><td align="center">Insert</td><td align="center">åˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥&#x2F;æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿&#x2F;ä¸‹åˆ’çº¿</td></tr><tr><td align="center">ESC</td><td align="center">é€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼</td></tr></tbody></table><p><strong style="color:red; font-family:'ä»¿å®‹';">åº•çº¿å‘½ä»¤æ¨¡å¼<br></strong></p><blockquote><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹ :ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p></blockquote><p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p><table><thead><tr><th align="center">æŒ‡ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">:w</td><td align="center">ä¿å­˜æ–‡ä»¶</td></tr><tr><td align="center">:q</td><td align="center">é€€å‡º Vim ç¼–è¾‘å™¨</td></tr><tr><td align="center">:wq</td><td align="center">ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º Vim ç¼–è¾‘å™¨</td></tr><tr><td align="center">:q!</td><td align="center">å¼ºåˆ¶é€€å‡ºVimç¼–è¾‘å™¨ï¼Œä¸ä¿å­˜ä¿®æ”¹</td></tr></tbody></table><p>ä¸‰ä¸ªæ¨¡å¼è¡¨ç¤ºå›¾</p><p><img src="/./images/vim%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/vim-vi-workmodel.png" alt=" "></p><p>ç§»åŠ¨å…‰æ ‡çš„æ–¹æ³•</p><table><thead><tr><th align="center">æŒ‰é”®</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">h æˆ– å‘å·¦ç®­å¤´é”®(â†)</td><td align="center">å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">j æˆ– å‘ä¸‹ç®­å¤´é”®(â†“)</td><td align="center">å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">k æˆ– å‘ä¸Šç®­å¤´é”®(â†‘)</td><td align="center">å…‰æ ‡å‘ä¸Šç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">l æˆ– å‘å³ç®­å¤´é”®(â†’)</td><td align="center">å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td></tr></tbody></table><p>å¦‚æœä½ å°†å³æ‰‹æ”¾åœ¨é”®ç›˜ä¸Šçš„è¯ï¼Œä½ ä¼šå‘ç° hjkl æ˜¯æ’åˆ—åœ¨ä¸€èµ·çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è¿™å››ä¸ªæŒ‰é’®æ¥ç§»åŠ¨å…‰æ ‡ã€‚ å¦‚æœæƒ³è¦è¿›è¡Œå¤šæ¬¡ç§»åŠ¨çš„è¯ï¼Œä¾‹å¦‚å‘ä¸‹ç§»åŠ¨ 30 è¡Œï¼Œå¯ä»¥ä½¿ç”¨ â€œ30jâ€ æˆ– â€œ30â†“â€ çš„ç»„åˆæŒ‰é”®ï¼Œ äº¦å³åŠ ä¸Šæƒ³è¦è¿›è¡Œçš„æ¬¡æ•°(æ•°å­—)åï¼ŒæŒ‰ä¸‹åŠ¨ä½œå³å¯ï¼</p><table><thead><tr><th align="center">æŒ‰é”®ç»„åˆ</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">[Ctrl] + [f]</td><td align="center">å±å¹•å‘ä¸‹ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down] æŒ‰é”® (å¸¸ç”¨)</td></tr><tr><td align="center">[Ctrl] + [b]</td><td align="center">å±å¹•å‘ä¸Šç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Up] æŒ‰é”® (å¸¸ç”¨)</td></tr><tr><td align="center">[Ctrl] + [d]</td><td align="center">å±å¹•å‘ä¸‹ç§»åŠ¨åŠé¡µ</td></tr><tr><td align="center">[Ctrl] + [u]</td><td align="center">å±å¹•å‘ä¸Šç§»åŠ¨åŠé¡µ</td></tr><tr><td align="center">+</td><td align="center">å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸‹ä¸€è¡Œ</td></tr><tr><td align="center">-</td><td align="center">å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸Šä¸€è¡Œ</td></tr></tbody></table><table><thead><tr><th align="center">æŒ‰é”®ç»„åˆ</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">n&lt;space&gt;</td><td align="center">n è¡¨ç¤ºã€æ•°å­—ã€ï¼Œä¾‹å¦‚ 20 ã€‚æŒ‰ä¸‹æ•°å­—åå†æŒ‰ç©ºæ ¼é”®ï¼Œå…‰æ ‡ä¼šå‘å³ç§»åŠ¨è¿™ä¸€è¡Œçš„ n ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ 20<space> åˆ™å…‰æ ‡ä¼šå‘åé¢ç§»åŠ¨ 20 ä¸ªå­—ç¬¦è·ç¦»</td></tr><tr><td align="center">0 æˆ–åŠŸèƒ½é”®[Home]</td><td align="center">ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€å‰é¢å­—ç¬¦å¤„ (å¸¸ç”¨)</td></tr><tr><td align="center">$ æˆ–åŠŸèƒ½é”®[End]</td><td align="center">ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€åé¢å­—ç¬¦å¤„(å¸¸ç”¨)</td></tr><tr><td align="center">H</td><td align="center">å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸Šæ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">M</td><td align="center">å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„ä¸­å¤®é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">L</td><td align="center">å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸‹æ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">G</td><td align="center">ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„æœ€åä¸€è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="center">nG</td><td align="center">n ä¸ºæ•°å­—ã€‚ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ n è¡Œã€‚ä¾‹å¦‚ 20G åˆ™ä¼šç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ 20 è¡Œ(å¯é…åˆ :set nu)</td></tr><tr><td align="center"><strong>&#x2F;word</strong></td><td align="center"><strong>å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚è¦åœ¨æ¡£æ¡ˆå†…æœå¯» bird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±è¾“å…¥ &#x2F;bird</strong></td></tr><tr><td align="center"><strong>?word</strong></td><td align="center"><strong>å‘å…‰æ ‡ä¹‹ä¸Šå¯»æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²åç§°ä¸º word çš„å­—ç¬¦ä¸²</strong></td></tr><tr><td align="center"><strong>n</strong></td><td align="center"><strong>è¿™ä¸ª n æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä»£è¡¨é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘è¦è¿ç»­æ‰¾åˆ° bird å¹¶æŒ‰ä¸‹ n åï¼Œä¼šå‘ä¸‹ç»§ç»­æ‰¾åˆ°ä¸‹ä¸€ä¸ªåç§°ä¸º vbird çš„å­—ç¬¦ä¸²</strong></td></tr><tr><td align="center"><strong>N</strong></td><td align="center"><strong>è¿™ä¸ª N æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä¸ n åˆšå¥½ç›¸åï¼Œä¸ºã€åå‘ã€è¿›è¡Œå‰ä¸€ä¸ªæœå¯»åŠ¨ä½œ</strong></td></tr><tr><td align="center"><strong>:n1,n2s&#x2F;word1&#x2F;word2&#x2F;g</strong></td><td align="center">**n1 ä¸ n2 ä¸ºæ•°å­—ï¼Œåœ¨ç¬¬ n1 ä¸ n2 è¡Œä¹‹é—´å¯»æ‰¾ word1 è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸ºword2ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ 100 åˆ° 200 è¡Œä¹‹é—´æœå¯» bird å¹¶å–ä»£ä¸º BIRD åˆ™ï¼š<code>:100,200s/bird/BIRD/g</code></td></tr><tr><td align="center">:1,$s&#x2F;word1&#x2F;word2&#x2F;g æˆ– :%s&#x2F;word1&#x2F;word2&#x2F;g</td><td align="center">ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œå¯»æ‰¾ word1 å­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2</td></tr><tr><td align="center">:1,$s&#x2F;word1&#x2F;word2&#x2F;gc æˆ– :%s&#x2F;word1&#x2F;word2&#x2F;gc</td><td align="center">ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œå¯»æ‰¾ word1 å­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2 ï¼ä¸”åœ¨å–ä»£å‰æ˜¾ç¤ºæç¤ºå­—ç¬¦ç»™ç”¨æˆ·ç¡®è®¤ (confirm) æ˜¯å¦éœ€è¦å–ä»£</td></tr><tr><td align="center">dd</td><td align="center">å‰ªåˆ‡æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€æ•´è¡Œ(å¸¸ç”¨)ï¼Œç”¨ p&#x2F;P å¯ä»¥ç²˜è´´</td></tr><tr><td align="center">ndd</td><td align="center">n ä¸ºæ•°å­—ã€‚å‰ªåˆ‡å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20dd åˆ™æ˜¯å‰ªåˆ‡ 20 è¡Œ(å¸¸ç”¨)ï¼Œç”¨ p&#x2F;P å¯ä»¥ç²˜è´´</td></tr><tr><td align="center">d1G</td><td align="center">åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="center">dG</td><td align="center">åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="center">d$</td><td align="center">åˆ é™¤æ¸¸æ ‡æ‰€åœ¨å¤„ï¼Œåˆ°è¯¥è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">d0</td><td align="center">é‚£ä¸ªæ˜¯æ•°å­—çš„ 0 ï¼Œåˆ é™¤æ¸¸æ ‡æ‰€åœ¨å¤„ï¼Œåˆ°è¯¥è¡Œçš„æœ€å‰é¢ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="center">yy</td><td align="center">å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="center">nyy</td><td align="center">n ä¸ºæ•°å­—ã€‚å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20yy åˆ™æ˜¯å¤åˆ¶ 20 è¡Œ(å¸¸ç”¨)</td></tr><tr><td align="center">y1G</td><td align="center">å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="center">yG</td><td align="center">å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="center">y0</td><td align="center">å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œé¦–çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="center">y$</td><td align="center">å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œå°¾çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td align="center">J</td><td align="center">å°†å…‰æ ‡æ‰€åœ¨è¡Œä¸ä¸‹ä¸€è¡Œçš„æ•°æ®ç»“åˆæˆåŒä¸€è¡Œ</td></tr><tr><td align="center">c</td><td align="center">é‡å¤åˆ é™¤å¤šä¸ªæ•°æ®ï¼Œä¾‹å¦‚å‘ä¸‹åˆ é™¤ 10 è¡Œï¼Œ[ 10cj ]</td></tr><tr><td align="center"><strong>u</strong></td><td align="center"><strong>å¤åŸå‰ä¸€ä¸ªåŠ¨ä½œ</strong></td></tr><tr><td align="center"><strong>[Ctrl]+r</strong></td><td align="center"><strong>é‡åšä¸Šä¸€ä¸ªåŠ¨ä½œ</strong></td></tr><tr><td align="center"><strong>.</strong></td><td align="center"><strong>é‡å¤å‰ä¸€ä¸ªåŠ¨ä½œçš„æ„æ€</strong></td></tr></tbody></table><p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼çš„å¯ç”¨çš„æŒ‰é’®è¯´æ˜</p><table><thead><tr><th align="center">æŒ‡ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">:w</td><td align="center">å°†ç¼–è¾‘çš„æ•°æ®å†™å…¥ç¡¬ç›˜æ¡£æ¡ˆä¸­</td></tr><tr><td align="center">:w!</td><td align="center">è‹¥æ–‡ä»¶å±æ€§ä¸ºã€åªè¯»ã€æ—¶ï¼Œå¼ºåˆ¶å†™å…¥è¯¥æ¡£æ¡ˆã€‚ä¸è¿‡ï¼Œåˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œ è¿˜æ˜¯è·Ÿä½ å¯¹è¯¥æ¡£æ¡ˆçš„æ¡£æ¡ˆæƒé™æœ‰å…³å•Šï¼</td></tr><tr><td align="center">:q</td><td align="center">ç¦»å¼€ vi</td></tr><tr><td align="center">:q!</td><td align="center">è‹¥æ›¾ä¿®æ”¹è¿‡æ¡£æ¡ˆï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ¡£æ¡ˆã€‚</td></tr><tr><td align="center">:wq</td><td align="center">å‚¨å­˜åç¦»å¼€ï¼Œè‹¥ä¸º :wq! åˆ™ä¸ºå¼ºåˆ¶å‚¨å­˜åç¦»å¼€</td></tr><tr><td align="center">ZZ</td><td align="center">è¿™æ˜¯å¤§å†™çš„ Z å–”ï¼å¦‚æœä¿®æ”¹è¿‡ï¼Œä¿å­˜å½“å‰æ–‡ä»¶ï¼Œç„¶åé€€å‡ºï¼æ•ˆæœç­‰åŒäº(ä¿å­˜å¹¶é€€å‡º)</td></tr><tr><td align="center">ZQ</td><td align="center">ä¸ä¿å­˜ï¼Œå¼ºåˆ¶é€€å‡ºã€‚æ•ˆæœç­‰åŒäº :q!</td></tr><tr><td align="center">:w [filename]</td><td align="center">å°†ç¼–è¾‘çš„æ•°æ®å‚¨å­˜æˆå¦ä¸€ä¸ªæ¡£æ¡ˆï¼ˆç±»ä¼¼å¦å­˜æ–°æ¡£ï¼‰</td></tr><tr><td align="center">:r [filename]</td><td align="center">åœ¨ç¼–è¾‘çš„æ•°æ®ä¸­ï¼Œè¯»å…¥å¦ä¸€ä¸ªæ¡£æ¡ˆçš„æ•°æ®ã€‚äº¦å³å°† ã€filenameã€ è¿™ä¸ªæ¡£æ¡ˆå†…å®¹åŠ åˆ°æ¸¸æ ‡æ‰€åœ¨è¡Œåé¢</td></tr><tr><td align="center">:n1,n2 w [filename]</td><td align="center">å°† n1 åˆ° n2 çš„å†…å®¹å‚¨å­˜æˆ filename è¿™ä¸ªæ¡£æ¡ˆ</td></tr><tr><td align="center">:! command</td><td align="center">æš‚æ—¶ç¦»å¼€ vi åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ command çš„æ˜¾ç¤ºç»“æœï¼ä¾‹å¦‚ ã€:! ls &#x2F;homeã€å³å¯åœ¨ vi å½“ä¸­å¯Ÿçœ‹ &#x2F;home åº•ä¸‹ä»¥ ls è¾“å‡ºçš„æ¡£æ¡ˆä¿¡æ¯ï¼</td></tr></tbody></table><p>vim ç¯å¢ƒçš„å˜æ›´</p><table><thead><tr><th align="center">æŒ‡ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">:set nu</td><td align="center">æ˜¾ç¤ºè¡Œå·ï¼Œè®¾å®šä¹‹åï¼Œä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·</td></tr><tr><td align="center">:set nonu</td><td align="center">ä¸ set nu ç›¸åï¼Œä¸ºå–æ¶ˆè¡Œå·ï¼</td></tr></tbody></table><p>ç‰¹åˆ«æ³¨æ„ï¼Œåœ¨ vi&#x2F;vim ä¸­ï¼Œæ•°å­—æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼æ•°å­—é€šå¸¸ä»£è¡¨é‡å¤åšå‡ æ¬¡çš„æ„æ€ï¼ ä¹Ÿæœ‰å¯èƒ½æ˜¯ä»£è¡¨å»åˆ°ç¬¬å‡ ä¸ªä»€ä¹ˆä»€ä¹ˆçš„æ„æ€ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œè¦åˆ é™¤ 50 è¡Œï¼Œåˆ™æ˜¯ç”¨ ã€50ddã€ å¯¹å§ï¼ æ•°å­—åŠ åœ¨åŠ¨ä½œä¹‹å‰ï¼Œå¦‚æˆ‘è¦å‘ä¸‹ç§»åŠ¨ 20 è¡Œå‘¢ï¼Ÿé‚£å°±æ˜¯ã€20jã€æˆ–è€…æ˜¯ã€20â†“ã€å³å¯ã€‚</p><p><img src="/./images/vim%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/morden1.png" alt=" "></p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TurtleBot3</title>
      <link href="/2024/10/10/TurtleBot3/"/>
      <url>/2024/10/10/TurtleBot3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>TurtleBot3 æ˜¯ä¸€ä¸ªåŸºäºrosçš„å°å‹å¯ç¼–ç¨‹å¼€æºæœºå™¨äºº,å¹¿æ³›ç”¨äºæ•™è‚²å’Œç ”ç©¶é¢†åŸŸ,æœ¬æ–‡å°†ä»‹ç»Turtlebot3çš„ä¸€äº›åŸºæœ¬ç©æ³•,åŸºäºgazeboä»¿çœŸç³»ç»Ÿ(ä»–ä¹Ÿæ˜¯åŸºäºrosç³»ç»Ÿçš„)è¿›è¡Œä»¿çœŸå¯¼èˆªå»ºå›¾ç­‰æ“ä½œ<br><a href="https://emanual.robotis.com/docs/en/platform/turtlebot3/simulation/#gazebo-simulation">TurtleBot3å®˜æ–¹æ–‡æ¡£</a><br><a href="https://blog.csdn.net/leo0308/article/details/138868282">CSDN:ROS2+TurtleBot3+Cartographer+Nav2å®ç°slamå»ºå›¾å’Œå¯¼èˆª</a><br><a href="https://book.guyuehome.com/ROS2/3.%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/3.4_Gazebo/">å¤æœˆå±…-Gazeboè¿›é˜¶é…ç½®æ•™ç¨‹</a></p></blockquote><h1 id="TurtleBOt3å®‰è£…"><a href="#TurtleBOt3å®‰è£…" class="headerlink" title="TurtleBOt3å®‰è£…"></a>TurtleBOt3å®‰è£…</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-humble-turtlebot3*</span><br><span class="line">sudo apt install ros-humble-gazebo*</span><br><span class="line">sudo apt install ros-humble-cartogarpher</span><br><span class="line">sudo apt install ros-humble-cartographer_ros</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">sudo</span> apt install ros-humble-cartographer*</span></span><br><span class="line">sudo apt install ros-humble-navigation2</span><br><span class="line">sudo apt install ros-humble-nav2-bringup</span><br><span class="line">sudo apt install ros-humble-releop-twist-keyboard #é”®ç›˜æ§åˆ¶ç¨‹åºåŒ…å®‰è£…</span><br></pre></td></tr></table></figure><h1 id="cartoå¯¼èˆª"><a href="#cartoå¯¼èˆª" class="headerlink" title="cartoå¯¼èˆª"></a>cartoå¯¼èˆª</h1><h2 id="åŠ è½½gazeboä»¿çœŸåœ°å›¾"><a href="#åŠ è½½gazeboä»¿çœŸåœ°å›¾" class="headerlink" title="åŠ è½½gazeboä»¿çœŸåœ°å›¾"></a>åŠ è½½gazeboä»¿çœŸåœ°å›¾</h2><blockquote><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œç©ºé—´å­˜æ”¾æºç è¿›è¡Œè™šæ‹Ÿä»¿çœŸå¯¼èˆªå®éªŒ,ä¹Ÿå¯ä»¥ç›´æ¥ç”¨sudo apt installå®‰è£…çš„åŒ…ç›´æ¥è¿è¡Œ,æ–°æ‰‹æœ€å¥½å…ˆç›´æ¥ç”¨sudoçš„åŒ…æœ€æœ‰ä¿éšœ,åœ¨&#x2F;opt&#x2F;ros&#x2F;humble&#x2F;share&#x2F;ç›®å½•ä¸‹,è‹¥gitçš„åŒ…å’Œaptçš„åŒ…ä¸å…¼å®¹,åæœŸè°ƒè¯•å¯èƒ½ä¼šæœ‰å¥‡æ€ªçš„æŠ¥é”™,è‹¥ä¸¤è€…å…¼å®¹,åˆ™ä¼šå°†ä½ å·¥ä½œç©ºé—´çš„åŒ…è¦†ç›–aptçš„åŒ…</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/turtlebot_ws/src/</span><br><span class="line">cd ~/turtlebot3_ws/src/</span><br><span class="line">git clone https://github.com/ROBOTIS-GIT/turtlebot3_simulations.git</span><br><span class="line">cd ~/turtlebot3_ws &amp;&amp; colcon build --symlink-install #symlinkæ˜¯åˆ›å»ºé“¾æ¥ç¬¦å·,ä¿éšœåœ¨ä¿®æ”¹å·¥ä½œç©ºé—´ä»£ç åä¼šç›´æ¥ç”Ÿæ•ˆ,ä¸ç”¨å†source install/setup.bash</span><br></pre></td></tr></table></figure><p>åœ¨~&#x2F;.bashrcä¸­åŠ å…¥turtlebotçš„æœºå™¨äººçš„ç›¸å…³ç¯å¢ƒå˜é‡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;export TURTLEBOT3_MODEL=burger&#x27; &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span>æ˜¯æ‰“å°å‡ºåé¢çš„å­—ç¬¦ä¸², &gt;&gt; è¡¨ç¤ºæŠŠä»–è¿½åŠ åˆ°.bashrcæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&#x27;export TURTLEBOT3_MODEL=burger&#x27;</span> &gt; ~/.bashrc</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨æ„åªæœ‰ä¸€ä¸ª &gt; çš„è¡¨ç¤ºå°†å†…å®¹è¦†ç›–.bashrcæ–‡ä»¶,ä¸è¦è¾“é”™å•¦</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>âš ï¸ æ­¤å¤„è¦æ³¨æ„æ·»åŠ è¿›å…¥.bashrcä¸­å°±æ˜¯æ°¸ä¹…æ›´æ”¹,åç»­è¦æ›¿æ¢å…¶ä»–modelè¦åˆ é™¤æ­¤æ¡å‘½ä»¤ç„¶åå†æ¢å…¶ä»–çš„,å¦‚æœä¸æƒ³æ°¸ä¹…æ›´æ”¹,å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤,åªåœ¨æ­¤ç»ˆç«¯ç”Ÿæ•ˆ,ä¹‹åå†æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯å°±è¦å†è¾“å…¥ä¸€é(.bashrcæœ¬è´¨ä¸Šå°±æ˜¯æ‰“å¼€ç»ˆç«¯åè‡ªåŠ¨æ‰§è¡Œä¸€äº›æŒ‡ä»¤)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export TURTLEBOT3_MODEL=burger</span><br></pre></td></tr></table></figure><p>å› ä¸ºä¸åŒçš„turtlebotå¯èƒ½æœ‰ä¸åŒçš„æœºå™¨äººå‚æ•°,æˆ‘ä»¬è¿™é‡Œé€‰æ‹©burgerçš„modelæ¨¡å‹,å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–æ¨¡å‹,å¦‚waffle</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export TURTLEBOT3_MODEL=waffle</span><br></pre></td></tr></table></figure><p>æ·»åŠ å®Œæˆåè®°å¾—sourceç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒçš„æ–‡æœ¬ç¼–è¾‘å™¨è¿›å…¥~&#x2F;.bashrcç›´æ¥ä¿®æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.bahsrc</span><br><span class="line">gedit ~/.bashrc </span><br><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>åŒæ ·ä¿®æ”¹å®Œæˆåéœ€è¦åœ¨ç»ˆç«¯sourceä¸€ä¸‹</p><p>è¿è¡Œä»¿çœŸåœ°å›¾</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆåŠŸ,å¤§æ¦‚ç‡å¯ä»¥çœ‹åˆ°å¦‚å›¾æ‰€ç¤ºåœ°å›¾<br><img src="/./images/TurtleBot3/1.png" alt=" "></p><blockquote><p><strong style="color: red ; font-family:'ä»¿å®‹';">æŠ¥é”™0:</strong>gazeboæ— æ³•æ‰“å¼€<br><img src="/./images/TurtleBot3/%E6%8A%A5%E9%94%990.png" alt=" "><br>ä¸€èˆ¬ä¸‹è½½å®Œgazeboåè‡ªåŠ¨åŠ å…¥è‡ªå¯åŠ¨åˆ°ç¯å¢ƒå˜é‡,å¦‚æœæ²¡åŠ å…¥,éœ€è¦è‡ªè¡Œsource,åŠ å…¥åˆ°.bashrc<br>æ£€æŸ¥æ˜¯å¦æ˜¯setup.bashé—®é¢˜<br>ç»ˆç«¯è¾“å…¥ source &#x2F;usr&#x2F;share&#x2F;gazebo&#x2F;setup.bash<br>é‡æ–°è¿è¡Œgazebo ,å¦‚æœæˆåŠŸäº†,ç»§ç»­ä¸‹é¢æ­¥éª¤æ·»åŠ sourceåˆ°.bashrc<br>åœ¨ç»ˆç«¯è¾“å…¥ echo â€œsource &#x2F;usr&#x2F;share&#x2F;gazebo&#x2F;setup.bashâ€ &gt;&gt; ~&#x2F;.bashrc<br>source ~&#x2F;.bashrcå³å¯</p></blockquote><blockquote><p><strong style="color: red ; font-family:'ä»¿å®‹';">æŠ¥é”™1:</strong>gazeboåŠ è½½åœ°å›¾å¤±è´¥,å´©æºƒé€€å‡º<br><img src="/./images/TurtleBot3/%E6%8A%A5%E9%94%991.png" alt=" "><br>å…¶å®æ˜¯gazeboåå°æ²¡æœ‰å®Œå…¨å…³é—­çš„åŸå› <br>ç»ˆç«¯è¾“å…¥ killall gzserver åé‡æ–°è¿è¡ŒæŒ‡ä»¤å³å¯</p></blockquote><blockquote><p>å¦‚æœèƒ½æ‰“å¼€gazeboä½†æ˜¯åœ°å›¾å‡ºä¸æ¥ä¹Ÿå¯èƒ½æ˜¯modelæ²¡æœ‰ä¸‹è½½æˆ–è€…é“¾æ¥ä¸æˆåŠŸ<br><strong style="color: red ; font-family:'ä»¿å®‹';">æ–¹æ³•ä¸€</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /opt/ros/humble/share/turtlebot3_gazebo/models</span><br></pre></td></tr></table></figure><p>çœ‹çœ‹æ˜¯å¦æœ‰modelsæ–‡ä»¶,å¦‚æœå­˜åœ¨,æ‰§è¡Œä¸‹é¢æŒ‡ä»¤,ç¡®ä¿è·¯å¾„é“¾æ¥æ­£ç¡®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:/opt/ros/humble/share/turtlebot3_gazebo/models</span><br></pre></td></tr></table></figure><p><strong style="color: red ; font-family:'ä»¿å®‹';">æ–¹æ³•äºŒ</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.gazebo/</span><br><span class="line">git clone https://github.com/osrf/gazebo_models models</span><br></pre></td></tr></table></figure><p>éœ€è¦åˆ é™¤.gitä¸ç„¶å¯èƒ½ä¼šå‡ºé”™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf models/.git</span><br></pre></td></tr></table></figure><p>è¿™æ ·åº”è¯¥modelå°±èƒ½é“¾æ¥åˆ°äº†</p></blockquote><h2 id="è¿›è¡Œslamå»ºå›¾"><a href="#è¿›è¡Œslamå»ºå›¾" class="headerlink" title="è¿›è¡Œslamå»ºå›¾"></a>è¿›è¡Œslamå»ºå›¾</h2><p>æ–°å»ºä¸€ä¸ªç»ˆç«¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch turtlebot3_cartographer cartographer.launch.py use_sim_time:=True</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨gazeboä¸­è™šæ‹Ÿä»¿çœŸæ—¶é—´æˆ³sim_timeè®¾ç½®ä¸º<span class="literal">true</span>,å®æ—¶å»ºå›¾è®¾ç½®ä¸º<span class="literal">false</span></span></span><br></pre></td></tr></table></figure><p>å†æ–°å»ºä¸€ä¸ªç»ˆç«¯,å¯åŠ¨åˆšåˆšgazeboåœ°å›¾èŠ‚ç‚¹çš„åŠŸèƒ½åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py</span><br></pre></td></tr></table></figure><p>å†æ–°å»ºä¸€ä¸ªç»ˆç«¯,å¯åŠ¨é”®ç›˜æ§åˆ¶èŠ‚ç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 run turtlebot3_teleop teleop_keyboard</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ ¹æ®æŒ‡ä»¤æ“ä½œæ—¶å€™å¿…é¡»åœ¨ç»ˆç«¯å†…,ä¸èƒ½ç‚¹åˆ°å…¶ä»–åœ°æ–¹</span></span><br></pre></td></tr></table></figure><p>æ­£å¸¸æƒ…å†µç”¨é”®ç›˜æ“æ§æœºå™¨äººèµ°ä¸€åœˆåœ°å›¾ä¼šæœ‰å¦‚ä¸‹æ•ˆæœ<br><img src="/./images/TurtleBot3/2.png" alt=" "></p><blockquote><p><strong style="color: red ; font-family:'ä»¿å®‹';">æŠ¥é”™2:</strong>:tfæ ‘transformé”™è¯¯<br><img src="/./images/TurtleBot3/%E6%8A%A5%E9%94%992.png" alt=" "><br>ç¡®ä¿ç»ˆç«¯è¾“å…¥æŒ‡ä»¤æ˜¯use_sim_time &#x3D; True , é‡æ–°è¿è¡Œ<br>è‹¥è¿˜æœªè§£å†³,æ£€æŸ¥launch,luaæ–‡ä»¶é“¾æ¥åˆ°çš„urdfæ–‡ä»¶,ç¡®ä¿çˆ¶èŠ‚ç‚¹çš„jointé“¾æ¥æ­£ç¡®,ä¸€èˆ¬çˆ¶èŠ‚ç‚¹æ˜¯base_link,æ¯ä¸ªframe_idéƒ½è¦æ ¸å¯¹æ¸…æ¥š</p></blockquote><h2 id="save-map"><a href="#save-map" class="headerlink" title="save map"></a>save map</h2><p>å°†åˆšåˆšå»ºç«‹çš„åœ°å›¾ä¿å­˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run nav2_map_server map_saver_cli -f ~/map</span><br></pre></td></tr></table></figure><p><strong>-f</strong> æ˜¯ä¸€ä¸ªé€‰é¡¹,ç”¨äºä¿å­˜åœ°å›¾è·¯å¾„çš„æ–‡ä»¶å,å³ä¼šåœ¨~&#x2F;ç›®å½•ä¸‹ç”Ÿæˆmap.pgmå’Œmap.yamlæ–‡ä»¶,æ³¨æ„å¯ä»¥ä¿®æ”¹ä¸ºå…¶ä»–ç›®å½•è·¯å¾„,ä½†æœ€åéƒ½åº”ä¸º&#x2F;mapçš„å½¢å¼ç»“å°¾,å¦åˆ™æ— æ³•ç”Ÿæˆåœ°å›¾</p><h1 id="nav2å¯¼èˆª"><a href="#nav2å¯¼èˆª" class="headerlink" title="nav2å¯¼èˆª"></a>nav2å¯¼èˆª</h1><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch turtlebot3_cartographer cartographer.launch.py use_sim_time:=True</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch turtlebot3_navigation2 navigation2.launch.py use_sim_time:=True map:=~/rm/sllidar/src/turtlrbot3/map.yaml</span><br></pre></td></tr></table></figure><p>ç¡®ä¿å¼€å¯ç¬¬ä¸€,äºŒä¸ªæŒ‡ä»¤åå¼€å¯ç¬¬ä¸‰ä¸ªæ‰ä¼šæ¥æ”¶æ•°æ®,åœ°å›¾å­˜æ”¾ä½ç½®å°±æ˜¯å‰é¢å»ºå›¾ä¿å­˜çš„yamlæ–‡ä»¶</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> å¯¼èˆª </tag>
            
            <tag> turtlebot </tag>
            
            <tag> gazebo </tag>
            
            <tag> è™šæ‹Ÿä»¿çœŸ </tag>
            
            <tag> slam </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Terminateç»ˆç«¯</title>
      <link href="/2024/10/10/Terminate%E7%BB%88%E7%AB%AF/"/>
      <url>/2024/10/10/Terminate%E7%BB%88%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä»‹ç»ä¸€äº›å¥½ç©å¥½ç”¨çš„ç»ˆç«¯æ’ä»¶,åˆ†äº«ä¸€äº›diyè®¾ç½®</p></blockquote><h1 id="Terminator"><a href="#Terminator" class="headerlink" title="Terminator"></a>Terminator</h1><blockquote><p>Terminator æ˜¯linuxä¸­ä¸€ä¸ªéå¸¸å®ç”¨ä¸”å¼€æºçš„ç»ˆç«¯ä»¿çœŸå™¨</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install terminator</span><br></pre></td></tr></table></figure><p>ä»¥åæ‰“å¼€ç»ˆç«¯ä¾¿ä¼šè‡ªåŠ¨æ˜¯ç”¨terminator,è¦æƒ³ä¿®æ”¹å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢æ›´æ”¹</p><h2 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h2><blockquote><p>ä¸‹é¢ä»‹ç»ä¸€äº›å¸¸è§çš„æŒ‡ä»¤</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">//ç¬¬ä¸€éƒ¨ä»½ï¼šå…³äºåœ¨åŒä¸€ä¸ªæ ‡ç­¾å†…çš„æ“ä½œ</span><br><span class="line">Alt+Up                          //ç§»åŠ¨åˆ°ä¸Šé¢çš„ç»ˆç«¯</span><br><span class="line">Alt+Down                        //ç§»åŠ¨åˆ°ä¸‹é¢çš„ç»ˆç«¯</span><br><span class="line">Alt+Left                        //ç§»åŠ¨åˆ°å·¦è¾¹çš„ç»ˆç«¯</span><br><span class="line">Alt+Right                       //ç§»åŠ¨åˆ°å³è¾¹çš„ç»ˆç«¯</span><br><span class="line">Ctrl+Shift+O                    //æ°´å¹³åˆ†å‰²ç»ˆç«¯</span><br><span class="line">Ctrl+Shift+E                    //å‚ç›´åˆ†å‰²ç»ˆç«¯</span><br><span class="line">Ctrl+Shift+Right                //åœ¨å‚ç›´åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘å³ç§»åŠ¨</span><br><span class="line">Ctrl+Shift+Left                 //åœ¨å‚ç›´åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘å·¦ç§»åŠ¨</span><br><span class="line">Ctrl+Shift+Up                   //åœ¨æ°´å¹³åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘ä¸Šç§»åŠ¨</span><br><span class="line">Ctrl+Shift+Down                 //åœ¨æ°´å¹³åˆ†å‰²çš„ç»ˆç«¯ä¸­å°†åˆ†å‰²æ¡å‘ä¸‹ç§»åŠ¨</span><br><span class="line">Ctrl+Shift+S                    //éšè—/æ˜¾ç¤ºæ»šåŠ¨æ¡</span><br><span class="line">Ctrl+Shift+F                    //æœç´¢</span><br><span class="line">Ctrl+Shift+C                    //å¤åˆ¶é€‰ä¸­çš„å†…å®¹åˆ°å‰ªè´´æ¿</span><br><span class="line">Ctrl+Shift+V                    //ç²˜è´´å‰ªè´´æ¿çš„å†…å®¹åˆ°æ­¤å¤„</span><br><span class="line">Ctrl+Shift+W                    //å…³é—­å½“å‰ç»ˆç«¯</span><br><span class="line">Ctrl+Shift+Q                    //é€€å‡ºå½“å‰çª—å£ï¼Œå½“å‰çª—å£çš„æ‰€æœ‰ç»ˆç«¯éƒ½å°†è¢«å…³é—­</span><br><span class="line">Ctrl+Shift+X                    //æœ€å¤§åŒ–æ˜¾ç¤ºå½“å‰ç»ˆç«¯</span><br><span class="line">Ctrl+Shift+Z                    //æœ€å¤§åŒ–æ˜¾ç¤ºå½“å‰ç»ˆç«¯å¹¶ä½¿å­—ä½“æ”¾å¤§</span><br><span class="line">Ctrl+Shift+N or Ctrl+Tab        //ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»ˆç«¯</span><br><span class="line">Ctrl+Shift+P or Ctrl+Shift+Tab  //Crtl+Shift+Tab ç§»åŠ¨åˆ°ä¹‹å‰çš„ä¸€ä¸ªç»ˆç«¯</span><br><span class="line"> </span><br><span class="line">//ç¬¬äºŒéƒ¨ä»½ï¼šæœ‰å…³å„ä¸ªæ ‡ç­¾ä¹‹é—´çš„æ“ä½œ</span><br><span class="line">F11                             //å…¨å±å¼€å…³</span><br><span class="line">Ctrl+Shift+T                    //æ‰“å¼€ä¸€ä¸ªæ–°çš„æ ‡ç­¾</span><br><span class="line">Ctrl+PageDown                   //ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾</span><br><span class="line">Ctrl+PageUp                     //ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾</span><br><span class="line">Ctrl+Shift+PageDown             //å°†å½“å‰æ ‡ç­¾ä¸å…¶åä¸€ä¸ªæ ‡ç­¾äº¤æ¢ä½ç½®</span><br><span class="line">Ctrl+Shift+PageUp               //å°†å½“å‰æ ‡ç­¾ä¸å…¶å‰ä¸€ä¸ªæ ‡ç­¾äº¤æ¢ä½ç½®</span><br><span class="line">Ctrl+Plus (+)                   //å¢å¤§å­—ä½“</span><br><span class="line">Ctrl+Minus (-)                  //å‡å°å­—ä½“</span><br><span class="line">Ctrl+Zero (0)                   //æ¢å¤å­—ä½“åˆ°åŸå§‹å¤§å°</span><br><span class="line">Ctrl+Shift+R                    //é‡ç½®ç»ˆç«¯çŠ¶æ€</span><br><span class="line">Ctrl+Shift+G                    //é‡ç½®ç»ˆç«¯çŠ¶æ€å¹¶clearå±å¹•</span><br><span class="line">Super+g                         //ç»‘å®šæ‰€æœ‰çš„ç»ˆç«¯ï¼Œä»¥ä¾¿å‘ä¸€ä¸ªè¾“å…¥èƒ½å¤Ÿè¾“å…¥åˆ°æ‰€æœ‰çš„ç»ˆç«¯</span><br><span class="line">Super+Shift+G                   //è§£é™¤ç»‘å®š</span><br><span class="line">Super+t                         //ç»‘å®šå½“å‰æ ‡ç­¾çš„æ‰€æœ‰ç»ˆç«¯ï¼Œå‘ä¸€ä¸ªç»ˆç«¯è¾“å…¥çš„å†…å®¹ä¼šè‡ªåŠ¨è¾“å…¥åˆ°å…¶ä»–ç»ˆç«¯</span><br><span class="line">Super+Shift+T                   //è§£é™¤ç»‘å®š</span><br><span class="line">Ctrl+Shift+I                    //æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œæ–°çª—å£ä¸åŸæ¥çš„çª—å£ä½¿ç”¨åŒä¸€ä¸ªè¿›ç¨‹</span><br><span class="line">Super+i                         //æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œæ–°çª—å£ä¸åŸæ¥çš„çª—å£ä½¿ç”¨ä¸åŒçš„è¿›ç¨‹</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥ç»ˆç«¯å†…å³é”®,é¦–é€‰é¡¹è‡ªè¡Œé…ç½®</p></blockquote><p>è¿™é‡Œå†åˆ†äº«ä¸€ä¸ªæ¯”è¾ƒå¥½çš„CSDNæ•™ç¨‹ <a href="https://blog.csdn.net/u011895157/article/details/130608150">Ubuntué«˜æ•ˆå·¥å…·â€”â€”autojumpã€terminator(å¿«æ·é”®å¤±çµé—®é¢˜)</a></p><p>â€¦ä»¥åæœ‰æ—¶é—´å†æ›´æ–°ç©ç©å“ˆå“ˆå“ˆ<br>waitingâ€¦..</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Linux </tag>
            
            <tag> è§†è§‰ç»„ </tag>
            
            <tag> ubuntu </tag>
            
            <tag> terminate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºhexoçš„butterfiyä¸»é¢˜çš„åšå®¢é…ç½®æ•™ç¨‹</title>
      <link href="/2024/09/22/%E5%9F%BA%E4%BA%8Ehexo%E7%9A%84butterfiy%E4%B8%BB%E9%A2%98%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/"/>
      <url>/2024/09/22/%E5%9F%BA%E4%BA%8Ehexo%E7%9A%84butterfiy%E4%B8%BB%E9%A2%98%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>scaffolds ä¿®æ”¹post.mdçš„é»˜è®¤æ¨¡æ¿(layoutåœ¨_config.ymlå†…é»˜è®¤è®¾ç½®ä¸ºpostæ—¶)</p></blockquote><h2 id="hexo-æ‡’äººåŒ…"><a href="#hexo-æ‡’äººåŒ…" class="headerlink" title="hexo æ‡’äººåŒ…"></a>hexo æ‡’äººåŒ…</h2><p>å¯ç”¨äºUç›˜éƒ¨ç½² ä¸ç”¨å®‰è£…nodejs npmç­‰  é€‚ç”¨äºwindowsç‰ˆæœ¬<br><a href="https://github.com/BitMOE/PortableHexo">PortableHexo-GitHub</a></p><p>Ubuntu Linux çš„ node å¦å¤–ä¸‹è½½è§£å‹<br><a href="https://nodejs.org/en/download">nodejsä¸‹è½½å®˜ç½‘</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xJf node-v18.20.2-linux-x64.tar.xz -C /media/whale/Media/BLOG/Whaltze-BLOG/blog-demo/support/</span><br><span class="line">mv /media/whale/Media/BLOG/Whaltze-BLOG/blog-demo/support/node-v18.20.2-linux-x64 /media/whale/Media/BLOG/Whaltze-BLOG/blog-demo/support/nodejs</span><br></pre></td></tr></table></figure><p>è§£å‹å¯¹åº”å‹ç¼©åŒ… å¹¶ä¸”ä¿®æ”¹åå­—</p><p>éªŒè¯ Node.js æ˜¯å¦å¯ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./nodejs/bin/node -v</span><br><span class="line">./nodejs/bin/npm -v   </span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹è¯„è®ºåŒº-å°å‰ªåˆ€åˆ†å‰²çº¿"><a href="#ä¿®æ”¹è¯„è®ºåŒº-å°å‰ªåˆ€åˆ†å‰²çº¿" class="headerlink" title="ä¿®æ”¹è¯„è®ºåŒº å°å‰ªåˆ€åˆ†å‰²çº¿"></a>ä¿®æ”¹è¯„è®ºåŒº å°å‰ªåˆ€åˆ†å‰²çº¿</h2><blockquote><p>å‚è€ƒ <a href="https://luoyuy.top/posts/5c76ad4123cd/#%E5%89%8D%E8%A8%80">æ´›è¯­ ã® Blog</a></p></blockquote><ul><li>æ³•ä¸€ï¼šä¿®æ”¹ _config.butterfly.yml æ–‡ä»¶ä¸­çš„ hr_icon -&gt; icon å†…å®¹ï¼ˆæ¨èï¼‰</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The setting of divider icon (æ°´å¹³åˆ†éš”ç·šåœ–æ¨™è¨­ç½®)</span></span><br><span class="line"><span class="attr">hr_icon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">&#x27;f005&#x27;</span> <span class="comment"># the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line">  <span class="string">//</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><ul><li>æ³•äºŒï¼šä¿®æ”¹ <code>themes\butterfly\source\css\_global\index.styl</code> æ–‡ä»¶ä¸­çš„ <code>hr -&gt; &amp;:before -&gt; content</code> å†…å®¹</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hr</span></span><br><span class="line">    <span class="string">//</span> <span class="string">...</span></span><br><span class="line">    <span class="string">&amp;:before</span></span><br><span class="line">    <span class="string">//</span> <span class="string">...</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">$hr-icon</span> <span class="string">//</span> <span class="string">åŒæ ·ä¿®æ”¹ä¸ºå¦‚</span> <span class="string">&#x27;\3423&#x27;</span> <span class="string">å½¢å¼</span></span><br></pre></td></tr></table></figure><p><strong>å¦‚æœæƒ³å»é™¤æµ®åŠ¨å›¾æ ‡ï¼Œä»…éœ€å°†å‚æ•°ä¿®æ”¹ä¸º â€˜â€™ å³å¯ï¼Œä¾‹å¦‚ <code>icon: &#39;&#39;</code></strong></p><h2 id="Font-Awesome-icon-å›¾æ ‡"><a href="#Font-Awesome-icon-å›¾æ ‡" class="headerlink" title="Font Awesome icon å›¾æ ‡"></a>Font Awesome icon å›¾æ ‡</h2><p>the unicode value of Font Awesome icon è·å–æ–¹æ³•ï¼š</p><p>æ‰“å¼€ Font Awesome ç½‘å€ï¼š<a href="https://fontawesome.com/v5/search">Search v5 Icons | Font Awesome</a></p><p>é€šè¿‡æœç´¢æ é€‰æ‹©å¹¶ç‚¹å‡»è‡ªå·±å¿ƒä»ªçš„å›¾æ ‡</p><p>ä¸‹å›¾ä¸­ æ‰€<code>Unicode</code>å³ä¸ºæ‰€éœ€ <code>f005</code> å°æ˜Ÿæ˜Ÿå›¾æ ‡</p><p><img src="/images/%E5%9F%BA%E4%BA%8Ehexo%E7%9A%84butterfiy%E4%B8%BB%E9%A2%98%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/image-6"></p><h2 id="åˆ é™¤comment-æ°´å¹³åˆ†å‰²çº¿-å°å‰ªåˆ€å›¾æ ‡"><a href="#åˆ é™¤comment-æ°´å¹³åˆ†å‰²çº¿-å°å‰ªåˆ€å›¾æ ‡" class="headerlink" title="åˆ é™¤comment æ°´å¹³åˆ†å‰²çº¿ å°å‰ªåˆ€å›¾æ ‡"></a>åˆ é™¤comment æ°´å¹³åˆ†å‰²çº¿ å°å‰ªåˆ€å›¾æ ‡</h2><p>è¿›å…¥ <code>M:\BLOG\Whaltze-BLOG\blog-demo\node_modules\hexo-theme-butterfly\scripts\events</code>æ–‡ä»¶å¤¹</p><p>æ‰¾åˆ°<code>merge_config</code>æ–‡ä»¶ ä¿®æ”¹ ä¸º<code>false</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hr_icon</span>: &#123;</span><br><span class="line">  <span class="attr">enable</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">icon</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="string">&#x27;icon-top&#x27;</span>: <span class="literal">null</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æˆåŠŸ</p><p><img src="/images/%E5%9F%BA%E4%BA%8Ehexo%E7%9A%84butterfiy%E4%B8%BB%E9%A2%98%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/image-7"></p><p>åˆ é™¤åˆ†å‰²çº¿ </p><p>è¿›å…¥<code>M:\BLOG\Whaltze-BLOG\blog-demo\node_modules\hexo-theme-butterfly\source\css\_global\function.styl</code></p><p>æ‰¾åˆ°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">custom</span>-hr</span><br><span class="line"><span class="attr">position</span>: relative</span><br><span class="line"><span class="attr">margin</span>: 40px auto</span><br><span class="line"><span class="attr">border</span>: 2px dashed <span class="title function_">var</span>(--hr-border)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>2px</code> ä¸º <code>0</code> å³å¯</p><p>æˆ–è€… æ›´ç›´æ¥ åˆ é™¤Comment å›¾æ ‡</p><p><code>M:\BLOG\Whaltze-BLOG\blog-demo\node_modules\hexo-theme-butterfly\layout\includes\third-party\comments\index.pug</code></p><p>ä¿®æ”¹ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//- hr.custom-hr</span><br><span class="line">#post-comment // æ³¨é‡Šï¼šå®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰æ ·å¼çš„æ°´å¹³çº¿ï¼ˆhrï¼‰å…ƒç´ ï¼Œç±»åä¸ºcustom-hr</span><br><span class="line">  .comment-head // æ³¨é‡Šï¼šå®šä¹‰ä¸€ä¸ªIDä¸ºpost-commentçš„å®¹å™¨ï¼Œç”¨äºåŒ…å«è¯„è®ºç›¸å…³çš„å…ƒç´ </span><br><span class="line">    //- .comment-headline // æ³¨é‡Šï¼šå®šä¹‰ä¸€ä¸ªç±»åä¸ºcomment-headçš„å®¹å™¨ï¼Œç”¨äºåŒ…å«è¯„è®ºå¤´éƒ¨çš„å…ƒç´ </span><br><span class="line">    //-   i.fas.fa-comments.fa-fw // æ³¨é‡Šï¼šæ³¨é‡Šæ‰çš„ä»£ç ï¼ŒåŸæœ¬å¯èƒ½åŒ…å«ä¸€ä¸ªç±»åä¸ºcomment-headlineçš„å®¹å™¨ï¼Œç”¨äºæ˜¾ç¤ºè¯„è®ºæ ‡é¢˜</span><br><span class="line">    //-   span= &#x27; &#x27; + _p(&#x27;comment&#x27;) // æ³¨é‡Šï¼šæ³¨é‡Šæ‰çš„ä»£ç ï¼ŒåŸæœ¬å¯èƒ½åŒ…å«ä¸€ä¸ªå›¾æ ‡å…ƒç´ ï¼Œä½¿ç”¨Font Awesomeåº“çš„fasã€fa-commentså’Œfa-fwç±»ï¼Œè¡¨ç¤ºè¯„è®ºå›¾æ ‡</span><br></pre></td></tr></table></figure><p>æˆåŠŸ</p><p><img src="/images/%E5%9F%BA%E4%BA%8Ehexo%E7%9A%84butterfiy%E4%B8%BB%E9%A2%98%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/image-14"></p><h2 id="æ‰¹é‡åˆå§‹åŒ–-Gitalk-è¯„è®º"><a href="#æ‰¹é‡åˆå§‹åŒ–-Gitalk-è¯„è®º" class="headerlink" title="æ‰¹é‡åˆå§‹åŒ– Gitalk è¯„è®º"></a>æ‰¹é‡åˆå§‹åŒ– Gitalk è¯„è®º</h2><blockquote><p>ä»¥ä¸‹ä¿¡æ¯ç”± DeepSeekç”Ÿæˆ</p></blockquote><div style="background-color: hsla(0, 0.00%, 49.00%, 0.25); color: white; padding: 10px; margin: 0 auto; margin-top: 20px; border-left: 1px hsla(213, 88.40%, 62.90%, 0.94); border-right: 1px hsla(213, 88.40%, 62.90%, 0.94); text-align: center; font-family: 'Comic Sans MS', cursive; font-size: 17px;  color:hsl(0, 0.00%, 93.70%);">æ²¡æœ‰æˆåŠŸ å·²ç»å¼ƒç”¨ åç»­æœ‰æ—¶é—´å†çœ‹çœ‹ (ç›®å‰è¿›å…¥åšå®¢è‡ªåŠ¨åˆå§‹åŒ–)</div><hr><h3 id="ğŸ”-é—®é¢˜æ ¹æºåˆ†æ"><a href="#ğŸ”-é—®é¢˜æ ¹æºåˆ†æ" class="headerlink" title="ğŸ” é—®é¢˜æ ¹æºåˆ†æ"></a>ğŸ” é—®é¢˜æ ¹æºåˆ†æ</h3><ol><li><p><strong>Gitalk å®¢æˆ·ç«¯åŒ¹é…æœºåˆ¶</strong>ï¼š</p><ul><li>é€šè¿‡ <code>id</code> å‚æ•°åŒ¹é… Issue</li><li>é€šè¿‡ <code>labels</code> è¿‡æ»¤ Issue</li><li>éœ€è¦ä¸è„šæœ¬ä¸­çš„ç”Ÿæˆé€»è¾‘å®Œå…¨ä¸€è‡´</li></ul></li><li><p><strong>å½“å‰å­˜åœ¨çš„çŸ›ç›¾</strong>ï¼š</p><pre><code class="highlight mermaid">graph LRA[è„šæœ¬ç”ŸæˆIssue] --&gt; B&#123;æ ‡ç­¾/idç”Ÿæˆæ–¹å¼&#125;C[å‰ç«¯Gitalké…ç½®] --&gt; BB --&gt;|ä¸ä¸€è‡´| D[æ— æ³•åŒ¹é…]</code></pre></li></ol><hr><h3 id="ğŸ› ï¸-å®Œæ•´è§£å†³æ–¹æ¡ˆ"><a href="#ğŸ› ï¸-å®Œæ•´è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ğŸ› ï¸ å®Œæ•´è§£å†³æ–¹æ¡ˆ"></a>ğŸ› ï¸ å®Œæ•´è§£å†³æ–¹æ¡ˆ</h3><h4 id="ç¬¬ä¸€æ­¥ï¼šç»Ÿä¸€å‰åç«¯æ ‡è¯†ç”Ÿæˆé€»è¾‘"><a href="#ç¬¬ä¸€æ­¥ï¼šç»Ÿä¸€å‰åç«¯æ ‡è¯†ç”Ÿæˆé€»è¾‘" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šç»Ÿä¸€å‰åç«¯æ ‡è¯†ç”Ÿæˆé€»è¾‘"></a>ç¬¬ä¸€æ­¥ï¼šç»Ÿä¸€å‰åç«¯æ ‡è¯†ç”Ÿæˆé€»è¾‘</h4><p>ä¿®æ”¹ <strong><code>scripts/auto-gitalk.js</code></strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; readFileSync &#125; = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; resolve, dirname &#125; = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== æ–°å¢æ¨¡å—å¼•å…¥ ==========</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>); <span class="comment">// ä¿®å¤ fs æœªå®šä¹‰é—®é¢˜</span></span><br><span class="line"><span class="comment">// ================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®‰å…¨åŠ è½½é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">loadConfig</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(</span><br><span class="line">      <span class="title function_">readFileSync</span>(<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../comment-config.json&#x27;</span>), <span class="string">&#x27;utf8&#x27;</span>) <span class="comment">// ä¿®æ­£è·¯å¾„</span></span><br><span class="line">    );</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;âŒ é…ç½®æ–‡ä»¶åŠ è½½å¤±è´¥:&#x27;</span>, error.<span class="property">message</span>);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰æ–‡ç« è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> matter = <span class="built_in">require</span>(<span class="string">&#x27;gray-matter&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getLocalPosts</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> postsDir = <span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../source/_posts&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> fs.<span class="title function_">readdirSync</span>(postsDir)</span><br><span class="line">    .<span class="title function_">filter</span>(<span class="function"><span class="params">file</span> =&gt;</span> file.<span class="title function_">endsWith</span>(<span class="string">&#x27;.md&#x27;</span>))</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function"><span class="params">file</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> fullPath = <span class="title function_">resolve</span>(postsDir, file);</span><br><span class="line">      <span class="keyword">const</span> content = fs.<span class="title function_">readFileSync</span>(fullPath, <span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; <span class="attr">data</span>: frontmatter &#125; = <span class="title function_">matter</span>(content);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è·å–è§„èŒƒåŒ–çš„æ—¥æœŸæ ¼å¼</span></span><br><span class="line">      <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(frontmatter.<span class="property">date</span> || fs.<span class="title function_">statSync</span>(fullPath).<span class="property">birthtime</span>);</span><br><span class="line">      <span class="keyword">const</span> year = date.<span class="title function_">getFullYear</span>();</span><br><span class="line">      <span class="keyword">const</span> month = <span class="title class_">String</span>(date.<span class="title function_">getMonth</span>() + <span class="number">1</span>).<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">      <span class="keyword">const</span> day = <span class="title class_">String</span>(date.<span class="title function_">getDate</span>() - <span class="number">1</span>).<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ç”Ÿæˆä¸Hexoä¸€è‡´çš„è·¯å¾„</span></span><br><span class="line">      <span class="keyword">const</span> filename = file.<span class="title function_">replace</span>(<span class="regexp">/\.md$/</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">      <span class="keyword">const</span> slug = frontmatter.<span class="property">permalink</span> || filename;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">title</span>: frontmatter.<span class="property">title</span> || filename,</span><br><span class="line">        <span class="attr">path</span>: <span class="string">`/<span class="subst">$&#123;year&#125;</span>/<span class="subst">$&#123;month&#125;</span>/<span class="subst">$&#123;day&#125;</span>/<span class="subst">$&#123;slug&#125;</span>/`</span>.<span class="title function_">replace</span>(<span class="regexp">/\/+/g</span>, <span class="string">&#x27;/&#x27;</span>), <span class="comment">// å¤„ç†å¤šä½™æ–œæ </span></span><br><span class="line">        <span class="attr">url</span>: <span class="string">`https://whaltze.github.io/<span class="subst">$&#123;year&#125;</span>/<span class="subst">$&#123;month&#125;</span>/<span class="subst">$&#123;day&#125;</span>/<span class="subst">$&#123;slug&#125;</span>/`</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// GitHub API å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GitHubClient</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">client</span> = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">      <span class="attr">baseURL</span>: <span class="string">`https://api.github.com/repos/<span class="subst">$&#123;config.username&#125;</span>/<span class="subst">$&#123;config.repo&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;config.token&#125;</span>`</span>,</span><br><span class="line">        <span class="title class_">Accept</span>: <span class="string">&#x27;application/vnd.github+json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;X-GitHub-Api-Version&#x27;</span>: <span class="string">&#x27;2022-11-28&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getIssues</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">client</span>.<span class="title function_">get</span>(<span class="string">&#x27;/issues?state=all&amp;per_page=100&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åœ¨ createIssue æ–¹æ³•ä¸­å¢åŠ æ ‡å‡†åŒ–å¤„ç†</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">createIssue</span>(<span class="params">post</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¿æŒä¸å‰ç«¯å®Œå…¨ä¸€è‡´çš„è·¯å¾„å¤„ç†</span></span><br><span class="line">    <span class="keyword">const</span> rawPath = post.<span class="property">path</span></span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/\/$/</span>, <span class="string">&#x27;&#x27;</span>)    <span class="comment">// ç§»é™¤æœ«å°¾æ–œæ </span></span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/\.html$/</span>, <span class="string">&#x27;&#x27;</span>) <span class="comment">// é€‚é…Hexoç”Ÿæˆè·¯å¾„</span></span><br><span class="line">      .<span class="title function_">toLowerCase</span>();         <span class="comment">// ç»Ÿä¸€å°å†™å¤„ç†</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">const</span> id = crypto.<span class="title function_">createHash</span>(<span class="string">&#x27;md5&#x27;</span>)</span><br><span class="line">      .<span class="title function_">update</span>(rawPath)</span><br><span class="line">      .<span class="title function_">digest</span>(<span class="string">&#x27;hex&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">client</span>.<span class="title function_">post</span>(<span class="string">&#x27;/issues&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">`[è¯„è®º] <span class="subst">$&#123;post.title&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">body</span>: <span class="string">`æ–‡ç« æ°¸ä¹…é“¾æ¥ï¼š<span class="subst">$&#123;post.url&#125;</span>\n\nGitalk ID: <span class="subst">$&#123;id&#125;</span>`</span>, <span class="comment">// æ·»åŠ IDè°ƒè¯•ä¿¡æ¯</span></span><br><span class="line">      <span class="attr">labels</span>: [<span class="string">&#x27;Gitalk&#x27;</span>, id]</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸»æµç¨‹</span></span><br><span class="line">(<span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ å¼€å§‹è¯„è®ºç³»ç»Ÿåˆå§‹åŒ–...&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> config = <span class="title function_">loadConfig</span>().<span class="property">github</span>;</span><br><span class="line">  <span class="keyword">const</span> client = <span class="keyword">new</span> <span class="title class_">GitHubClient</span>(config);</span><br><span class="line">  <span class="keyword">const</span> localPosts = <span class="title function_">getLocalPosts</span>();</span><br><span class="line">  <span class="keyword">const</span> issues = <span class="keyword">await</span> client.<span class="title function_">getIssues</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹æ¯”å·®å¼‚</span></span><br><span class="line">  <span class="keyword">const</span> newPosts = localPosts.<span class="title function_">filter</span>(<span class="function"><span class="params">post</span> =&gt;</span> </span><br><span class="line">    !issues.<span class="title function_">some</span>(<span class="function"><span class="params">issue</span> =&gt;</span> </span><br><span class="line">      issue.<span class="property">body</span>.<span class="title function_">includes</span>(post.<span class="property">url</span>) &amp;&amp; issue.<span class="property">state</span> === <span class="string">&#x27;open&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (newPosts.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;âœ… æ²¡æœ‰éœ€è¦åˆå§‹åŒ–çš„æ–°æ–‡ç« &#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ”„ éœ€è¦åˆå§‹åŒ– <span class="subst">$&#123;newPosts.length&#125;</span> ç¯‡æ–‡ç« `</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ‰¹é‡å¤„ç†</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [index, post] <span class="keyword">of</span> newPosts.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> client.<span class="title function_">createIssue</span>(post);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`(<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>/<span class="subst">$&#123;newPosts.length&#125;</span>) <span class="subst">$&#123;post.title&#125;</span> åˆå§‹åŒ–æˆåŠŸ`</span>);</span><br><span class="line">      <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">1500</span>)); <span class="comment">// é˜²æ­¢é€Ÿç‡é™åˆ¶</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`âš ï¸  <span class="subst">$&#123;post.title&#125;</span> å¤±è´¥ï¼š<span class="subst">$&#123;error.response?.data?.message || error.message&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒæ­¥ï¼šä¿®æ­£-Butterfly-ä¸»é¢˜é…ç½®"><a href="#ç¬¬äºŒæ­¥ï¼šä¿®æ­£-Butterfly-ä¸»é¢˜é…ç½®" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šä¿®æ­£ Butterfly ä¸»é¢˜é…ç½®"></a>ç¬¬äºŒæ­¥ï¼šä¿®æ­£ Butterfly ä¸»é¢˜é…ç½®</h4><p>ä¿®æ”¹ <strong><code>_config.butterfly.yml</code></strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Gitalk é…ç½®</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">clientID:</span> <span class="string">&#x27;ä½ çš„GitHubåº”ç”¨ID&#x27;</span></span><br><span class="line">  <span class="attr">clientSecret:</span> <span class="string">&#x27;ä½ çš„GitHubåº”ç”¨Secret&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&#x27;Whaltze.github.io&#x27;</span> <span class="comment"># å¿…é¡»ä¸è„šæœ¬ä¸­çš„repoä¸€è‡´</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">&#x27;Whaltze&#x27;</span></span><br><span class="line">  <span class="attr">admin:</span> [<span class="string">&#x27;Whaltze&#x27;</span>]</span><br><span class="line">  <span class="attr">id:</span> <span class="string">&#x27;md5(location.pathname)&#x27;</span> <span class="comment"># æ ¸å¿ƒä¿®æ”¹ç‚¹ï¼</span></span><br><span class="line">  <span class="attr">labels:</span> [<span class="string">&#x27;Gitalk&#x27;</span>] <span class="comment"># åªéœ€è¦åŸºç¡€æ ‡ç­¾</span></span><br><span class="line">  <span class="attr">perPage:</span> <span class="number">15</span></span><br><span class="line">  <span class="attr">distractionFreeMode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶"><a href="#ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶"></a>ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶</h4><p>ä¿®æ”¹ <strong><code>themes/butterfly/layout/includes/comments/gitalk.pug</code></strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">- const &#123; client_id, client_secret, repo, owner, admin, option &#125; = theme.gitalk</span><br><span class="line"></span><br><span class="line">script.</span><br><span class="line">  (() =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    // æ–°å¢è·¯å¾„æ ‡å‡†åŒ–å¤„ç†</span><br><span class="line">    const getGitalkId = () =&gt; &#123;</span><br><span class="line">      const path = window.location.pathname</span><br><span class="line">        .replace(/\/$/, &#x27;&#x27;)    // ç§»é™¤æœ«å°¾æ–œæ </span><br><span class="line">        .replace(/\.html$/, &#x27;&#x27;) // é€‚é…Hexoç”Ÿæˆè·¯å¾„</span><br><span class="line">        .toLowerCase();         // ç»Ÿä¸€å°å†™å¤„ç†</span><br><span class="line">      return CryptoJS.MD5(path).toString();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    const initGitalk = () =&gt; &#123;</span><br><span class="line">      const gitalk = new Gitalk(Object.assign(&#123;</span><br><span class="line">        clientID: &#x27;!&#123;client_id&#125;&#x27;,</span><br><span class="line">        clientSecret: &#x27;!&#123;client_secret&#125;&#x27;,</span><br><span class="line">        repo: &#x27;!&#123;repo&#125;&#x27;,</span><br><span class="line">        owner: &#x27;!&#123;owner&#125;&#x27;,</span><br><span class="line">        admin: [&#x27;!&#123;admin&#125;&#x27;],</span><br><span class="line">        id: &#x27;!&#123;md5(page.path)&#125;&#x27;,</span><br><span class="line">        updateCountCallback: commentCount</span><br><span class="line">      &#125;,!&#123;JSON.stringify(option)&#125;))</span><br><span class="line"></span><br><span class="line">      gitalk.render(&#x27;gitalk-container&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const loadGitalk = async() =&gt; &#123;</span><br><span class="line">      if (typeof Gitalk === &#x27;function&#x27;) initGitalk()</span><br><span class="line">      else &#123;</span><br><span class="line">        await getCSS(&#x27;!&#123;url_for(theme.asset.gitalk_css)&#125;&#x27;)</span><br><span class="line">        await getScript(&#x27;!&#123;url_for(theme.asset.gitalk)&#125;&#x27;)</span><br><span class="line">        initGitalk()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    const commentCount = n =&gt; &#123;</span><br><span class="line">      const isCommentCount = document.querySelector(&#x27;#post-meta .gitalk-comment-count&#x27;)</span><br><span class="line">      if (isCommentCount) &#123;</span><br><span class="line">        isCommentCount.textContent= n</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (&#x27;!&#123;theme.comments.use[0]&#125;&#x27; === &#x27;Gitalk&#x27; || !!&#123;theme.comments.lazyload&#125;) &#123;</span><br><span class="line">      if (!&#123;theme.comments.lazyload&#125;) btf.loadComment(document.getElementById(&#x27;gitalk-container&#x27;), loadGitalk)</span><br><span class="line">      else loadGitalk()</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      window.loadOtherComment = loadGitalk</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)()</span><br></pre></td></tr></table></figure><h4 id="ç¬¬å››æ­¥ï¼šæ·»åŠ -MD5-æ”¯æŒ"><a href="#ç¬¬å››æ­¥ï¼šæ·»åŠ -MD5-æ”¯æŒ" class="headerlink" title="ç¬¬å››æ­¥ï¼šæ·»åŠ  MD5 æ”¯æŒ"></a>ç¬¬å››æ­¥ï¼šæ·»åŠ  MD5 æ”¯æŒ</h4><p>åœ¨ä¸»é¢˜å¸ƒå±€æ–‡ä»¶ä¸­æ³¨å…¥ <strong><code>crypto-js</code></strong>ï¼ˆä¿®æ”¹ <strong><code>themes/butterfly/layout/includes/head.pug</code></strong>ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//- åœ¨ head æœ«å°¾æ·»åŠ </span><br><span class="line">if theme.comments.use.includes(&#x27;Gitalk&#x27;)</span><br><span class="line">  script(src=&#x27;https://cdn.bootcdn.net/ajax/libs/crypto-js/4.1.1/crypto-js.min.js&#x27;)</span><br></pre></td></tr></table></figure><hr><h3 id="âœ…-éªŒè¯æµç¨‹"><a href="#âœ…-éªŒè¯æµç¨‹" class="headerlink" title="âœ… éªŒè¯æµç¨‹"></a>âœ… éªŒè¯æµç¨‹</h3><ol><li><p>åˆ›å»ºæ–°æ–‡ç« ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;æµ‹è¯•è¯„è®ºå…³è”&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node scripts/auto-gitalk.js</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ç”Ÿæˆå†…å®¹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># GitHub Issue åº”åŒ…å«ï¼š</span></span><br><span class="line"><span class="bullet">-</span> Label: Gitalk + md5å“ˆå¸Œå€¼</span><br><span class="line"><span class="bullet">-</span> Body: åŒ…å«æ–‡ç« å®Œæ•´URL</span><br></pre></td></tr></table></figure></li><li><p>æœ¬åœ°é¢„è§ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo s --debug</span><br></pre></td></tr></table></figure></li></ol><h3 id="ğŸŒ-GitHub-åº”ç”¨é…ç½®æŒ‡å—"><a href="#ğŸŒ-GitHub-åº”ç”¨é…ç½®æŒ‡å—" class="headerlink" title="ğŸŒ GitHub åº”ç”¨é…ç½®æŒ‡å—"></a>ğŸŒ GitHub åº”ç”¨é…ç½®æŒ‡å—</h3><ol><li>è®¿é—® <a href="https://github.com/settings/developers">GitHub OAuth Apps</a></li><li>åˆ›å»ºæ–°åº”ç”¨ï¼š<ul><li><strong>Application name</strong>: ä½ çš„åšå®¢åç§°</li><li><strong>Homepage URL</strong>: ä½ çš„åšå®¢åœ°å€</li><li><strong>Authorization callback URL</strong>: ä½ çš„åšå®¢åœ°å€</li></ul></li><li>è·å– <code>Client ID</code> å’Œ <code>Client Secret</code></li></ol><h2 id="éšè—å¼é€‰é¡¹å¡"><a href="#éšè—å¼é€‰é¡¹å¡" class="headerlink" title="éšè—å¼é€‰é¡¹å¡"></a>éšè—å¼é€‰é¡¹å¡</h2><p><a href="https://butterfly.js.org/posts/ceeb73f/#Tag-hide">Tag-hideå®˜æ–¹æ–‡æ¡£</a></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs &#123;&#123; title &#125;&#125;, [index] %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line"></span><br><span class="line">Any content (support inline tags too).</span><br><span class="line"></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç¬¬ä¸€å€‹Tab --&gt;</span><br><span class="line"></span><br><span class="line"><span class="strong">**tab åå­—ç‚ºç¬¬ä¸€å€‹ Tab**</span></span><br><span class="line"></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"></span><br><span class="line"><span class="strong">**åªæœ‰åœ–æ¨™ æ²’æœ‰ Tab åå­—**</span></span><br><span class="line"></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç‚¸å½ˆ@fas fa-bomb --&gt;</span><br><span class="line"></span><br><span class="line"><span class="strong">**åå­—+icon**</span></span><br><span class="line"></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°å­¦å…¬å¼æ¸²æŸ“"><a href="#æ•°å­¦å…¬å¼æ¸²æŸ“" class="headerlink" title="æ•°å­¦å…¬å¼æ¸²æŸ“"></a>æ•°å­¦å…¬å¼æ¸²æŸ“</h2><h3 id="çŸ©é˜µ"><a href="#çŸ©é˜µ" class="headerlink" title="çŸ©é˜µ"></a>çŸ©é˜µ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">$</span></span><br><span class="line">\begin&#123;pmatrix&#125;  </span><br><span class="line">  a_&#123;11&#125; &amp; a_&#123;12&#125; &amp; a_&#123;13&#125; \\  </span><br><span class="line">  a_&#123;21&#125; &amp; a_&#123;22&#125; &amp; a_&#123;23&#125; \\  </span><br><span class="line">  a_&#123;31&#125; &amp; a_&#123;32&#125; &amp; a_&#123;33&#125;  </span><br><span class="line">\end&#123;pmatrix&#125;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">$</span></span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure><span>$$\begin{pmatrix}    a_{11} & a_{12} & a_{13} \\    a_{21} & a_{22} & a_{23} \\    a_{31} & a_{32} & a_{33}  \end{pmatrix}$$</span><h3 id="è¡Œå†…å…¬å¼"><a href="#è¡Œå†…å…¬å¼" class="headerlink" title="è¡Œå†…å…¬å¼"></a>è¡Œå†…å…¬å¼</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è´¨èƒ½æ–¹ç¨‹ï¼š$E = mc^2$ï¼Œå…¶ä¸­ $m$ æ˜¯è´¨é‡ã€‚</span><br></pre></td></tr></table></figure><p>è´¨èƒ½æ–¹ç¨‹ï¼š$E &#x3D; mc^2$ï¼Œå…¶ä¸­ $m$ æ˜¯è´¨é‡ã€‚</p><h3 id="æ®µè½å…¬ç¤º"><a href="#æ®µè½å…¬ç¤º" class="headerlink" title="æ®µè½å…¬ç¤º"></a>æ®µè½å…¬ç¤º</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">$</span></span><br><span class="line">I(x, y) \in \mathbb&#123;R&#125;^&#123;M \times N&#125;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">$</span></span><br></pre></td></tr></table></figure><p>$$<br>I(x, y) \in \mathbb{R}^{M \times N}<br>$$</p><h2 id="ç½‘é¡µä»£ç å‹ç¼©"><a href="#ç½‘é¡µä»£ç å‹ç¼©" class="headerlink" title="ç½‘é¡µä»£ç å‹ç¼©"></a>ç½‘é¡µä»£ç å‹ç¼©</h2><h3 id="å®‰è£…å‹ç¼©è½¯ä»¶"><a href="#å®‰è£…å‹ç¼©è½¯ä»¶" class="headerlink" title="å®‰è£…å‹ç¼©è½¯ä»¶"></a>å®‰è£…å‹ç¼©è½¯ä»¶</h3><p>è¯·åœ¨ä½ çš„åšå®¢æ ¹ç›®å½•ï¼ˆå³æœ‰ <code>_config.yml</code> çš„é‚£ä¸ªæ–‡ä»¶å¤¹ï¼‰æ‰“å¼€ç»ˆç«¯&#x2F;å‘½ä»¤è¡Œï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><hr><h3 id="ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶</h3><p>æ‰“å¼€<strong>åšå®¢æ ¹ç›®å½•</strong>ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ï¼ˆ<strong>æ³¨æ„ï¼š</strong> æ˜¯åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œä¸æ˜¯ <code>_config.butterfly.yml</code> ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼‰ã€‚</p><p>æ‹‰åˆ°æ–‡ä»¶æœ€åº•éƒ¨ï¼Œç²˜è´´ä»¥ä¸‹é…ç½®ä»£ç ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># === Hexo Neat ä»£ç å‹ç¼©ä¸æ··æ·†é…ç½® ===</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‹ç¼© HTML</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># å‹ç¼© CSS (è¿™æ˜¯ä½ çš„æ ¸å¿ƒéœ€æ±‚)</span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/*.min.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‹ç¼© JS</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span>   <span class="comment"># å¼€å¯å˜é‡åæ··æ·†ï¼ˆè®©ä»£ç æ›´éš¾è¯»ï¼‰</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/*.min.js&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="ç¬¬å››æ­¥ï¼šæµ‹è¯•ä¸éƒ¨ç½²"><a href="#ç¬¬å››æ­¥ï¼šæµ‹è¯•ä¸éƒ¨ç½²" class="headerlink" title="ç¬¬å››æ­¥ï¼šæµ‹è¯•ä¸éƒ¨ç½²"></a>ç¬¬å››æ­¥ï¼šæµ‹è¯•ä¸éƒ¨ç½²</h3><p>ç°åœ¨æˆ‘ä»¬æ¥éªŒè¯æ•ˆæœã€‚</p><ol><li><strong>æ¸…ç†å¹¶ç”Ÿæˆï¼š</strong></li></ol><p>åœ¨ç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><p><em>è§‚å¯Ÿç»ˆç«¯è¾“å‡ºï¼Œå¦‚æœåœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­æ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜æ’ä»¶è¿è¡Œæ­£å¸¸ã€‚</em><br>2. <strong>æœ¬åœ°éªŒè¯ï¼ˆå¯é€‰ï¼‰ï¼š</strong><br>å»ä½ çš„åšå®¢æ–‡ä»¶å¤¹ <code>public/css/</code> ç›®å½•ä¸‹ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€ç”Ÿæˆçš„é‚£ä¸ª CSS æ–‡ä»¶ã€‚</p><ul><li><strong>ä»¥å‰ï¼š</strong> æ’ç‰ˆæ•´é½ï¼Œæœ‰æ¢è¡Œï¼Œæœ‰ç©ºæ ¼ã€‚</li><li><strong>ç°åœ¨ï¼š</strong> åº”è¯¥å˜æˆäº†<strong>åªæœ‰ä¸€è¡Œçš„ä¹±ç </strong>ï¼ˆæ‰€æœ‰ä»£ç æŒ¤åœ¨ä¸€èµ·ï¼‰ï¼Œè¿™å°±æˆåŠŸäº†ï¼</li></ul><ol start="3"><li><strong>æ¨é€åˆ° GitHubï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><hr><h3 id="ç¬¬äº”æ­¥ï¼šæœ€ç»ˆç¡®è®¤"><a href="#ç¬¬äº”æ­¥ï¼šæœ€ç»ˆç¡®è®¤" class="headerlink" title="ç¬¬äº”æ­¥ï¼šæœ€ç»ˆç¡®è®¤"></a>ç¬¬äº”æ­¥ï¼šæœ€ç»ˆç¡®è®¤</h3><p>éƒ¨ç½²å®Œæˆåï¼ˆç­‰å¾… 1-2 åˆ†é’Ÿè®© GitHub Pages æ›´æ–°ï¼‰ï¼š</p><ol><li>æ‰“å¼€ä½ çš„åšå®¢ç½‘å€ã€‚</li><li>æŒ‰ä¸‹ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…· -&gt; <code>Network</code> (ç½‘ç»œ)ã€‚</li><li>åˆ·æ–°é¡µé¢ (<code>Ctrl + F5</code> å¼ºåˆ¶åˆ·æ–°)ã€‚</li><li>æ‰¾åˆ°ä½ çš„ CSS æ–‡ä»¶ï¼Œç‚¹å‡»å®ƒã€‚åœ¨ Preview&#x2F;Response é‡Œçœ‹ï¼Œå®ƒç°åœ¨åº”è¯¥æ˜¯ä¸€å¨â€œå¤©ä¹¦â€ï¼Œæ™®é€šäººå¾ˆéš¾ç›´æ¥çœ‹æ‡‚æˆ–ä¿®æ”¹äº†ã€‚</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Github </tag>
            
            <tag> Git </tag>
            
            <tag> åšå®¢ </tag>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºCartographerç®—æ³•çš„RPLIDARæ¿€å…‰é›·è¾¾å¯¼èˆª</title>
      <link href="/2024/09/22/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/"/>
      <url>/2024/09/22/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ubuntu22.04-ros2-humble<br>ç¯å¢ƒä¸º conda activate rm (å¾…æ›´æ–°)<br>ä»åŠŸèƒ½åŒ…å…¥æ‰‹ä»‹ç»å»ºå›¾è¿‡ç¨‹<br>å·¥ç¨‹æ ¹ç›®å½•ä¸ºsllidar,ä¸‹è®¾srcæ–‡ä»¶å­˜æ”¾å„ç§åŠŸèƒ½åŒ…,ç¼–è¯‘ç›®å½•ä¸º~&#x2F;rm&#x2F;sllidar</p></blockquote><blockquote><p>ä¸€äº›å¥½çš„å­¦ä¹ èµ„æ–™<br><a href="https://book.guyuehome.com/ROS2/3.%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/3.3_URDF/">å¤æœˆå±…-URDFè®²è§£-æœºå™¨äººå»ºæ¨¡æ–¹æ³•</a><br><a href="https://book.guyuehome.com/ROS2/3.%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/3.2_TF/">å¤æœˆå±…-TFæ ‘è®²è§£-æœºå™¨äººåæ ‡ç³»ç®¡ç†ç¥å™¨</a><br><a href="https://wiki.ros.org/navigation/Tutorials">ROS-Wiki-å¯¼èˆªæ•™ç¨‹</a></p></blockquote><h1 id="sllidar-ros"><a href="#sllidar-ros" class="headerlink" title="sllidar_ros"></a>sllidar_ros</h1><blockquote><p><a href="https://github.com/Slamtec/sllidar_ros2">Github-sllidar_ros</a></p></blockquote><blockquote><p><a href="https://www.slamtec.com/cn/Support#rplidar-c1">rplidar_c1å®˜ç½‘èµ„æ–™</a><br>ç¬¬ä¸€ä¸ªåŠŸèƒ½åŒ…,è°ƒè¯•é›·è¾¾æ­£å¸¸é©±åŠ¨è¿è¡Œ,æˆ‘ä½¿ç”¨çš„æ˜¯æ€å²šrplidar_c1é›·è¾¾</p></blockquote><p>åœ¨srcä¸­æ‰“å¼€ç»ˆç«¯,åˆ‡æ¢rmç¯å¢ƒåå¼€å§‹git</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Slamtec/sllidar_ros2.git</span><br></pre></td></tr></table></figure><p>sourceä¸€ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /opt/ros/humble/setup.bash</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ç¼–è¯‘æ„å»º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colcon build --symlink-install</span><br></pre></td></tr></table></figure><blockquote><p>å¯ç”¨â€“symlink-installåå°†ä¸ä¼šæŠŠæ–‡æ‹·è´åˆ°installç›®å½•ï¼Œè€Œæ˜¯é€šè¿‡åˆ›å»ºç¬¦å·é“¾æ¥çš„æ–¹å¼,å…è®¸é€šè¿‡æ›´æ”¹srcä¸‹çš„éƒ¨åˆ†æ–‡ä»¶æ¥æ”¹å˜install,æ¯æ¬¡è°ƒæ•´ python è„šæœ¬æ—¶éƒ½ä¸å¿…é‡æ–°buildäº†</p></blockquote><p>å¦‚æœæ„å»ºåŠŸèƒ½åŒ…æ²¡é—®é¢˜,ç»§ç»­source</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ./install/setup.bash</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæƒ³è¦æ·»åŠ æ°¸ä¹…å·¥ä½œåŒºç¯å¢ƒå˜é‡ã€‚ æ¯æ¬¡å¯åŠ¨æ–° shell æ—¶éƒ½ä¼šè‡ªåŠ¨å°† ROS2 ç¯å¢ƒå˜é‡æ·»åŠ åˆ°æ‚¨çš„ bash ä¼šè¯ä¸­ï¼šè¿è¡Œ</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;source &lt;your_own_ros2_ws&gt;/install/setup.bash&quot; &gt;&gt; ~/.bashrc</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>ä¸º rplidar åˆ›å»º udev è§„åˆ™</p><p>sllidar_ros2è¿è¡Œéœ€è¦ä¸²è¡Œè®¾å¤‡çš„è¯»å†™æƒé™ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨ä¿®æ”¹å®ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 777 /dev/ttyUSB0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">sudo</span> <span class="built_in">chmod</span> 666 /dev/ttyUSB0</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®°ä½æ¯æ¬¡è¿æ¥é›·è¾¾éƒ½è¦è¾“å…¥è¿™ä¸ªæŒ‡ä»¤,ä¸ç„¶åæœŸæŠ¥é”™æŸ¥çš„å¾ˆç—›è‹¦hh</span></span><br></pre></td></tr></table></figure><p>ä½†æ›´å¥½çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ª udev è§„åˆ™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> src/sllidar_ros/</span><br><span class="line"><span class="built_in">source</span> scripts/create_udev_rules.sh</span><br></pre></td></tr></table></figure><p>å¯åŠ¨sllidar_rosåŠŸèƒ½åŒ…<br>è¿è¡Œrplidar_c1 å¹¶åœ¨rvizä¸­æŸ¥çœ‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch sllidar_ros2 view_sllidar_c1_launch.py</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºç‚¹äº‘å›¾,å³å¯åŠ¨æˆåŠŸ<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/1.png" alt=" "></p><h1 id="cartographer-cartographer-ros"><a href="#cartographer-cartographer-ros" class="headerlink" title="cartographer &amp;&amp; cartographer_ros"></a>cartographer &amp;&amp; cartographer_ros</h1><blockquote><p>æˆåŠŸé©±åŠ¨é›·è¾¾å,æˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä½•æ„å»ºåœ°å›¾,æœ‰ç‚¹äº‘çš„,ç¨ å¯†orç¨€ç–,æ …æ ¼åœ°å›¾occupancy_grid_mapç­‰ç­‰</p></blockquote><p>ç¡®ä¿roså’Œcartographerçš„ç›¸å…³ä¾èµ–å·²ç»å®‰è£…å®Œæˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y \</span><br><span class="line">    build-essential cmake git wget curl unzip \</span><br><span class="line">    python3-vcstool python3-pip python3-numpy \</span><br><span class="line">    libceres-dev libprotobuf-dev protobuf-compiler \</span><br><span class="line">    libboost-all-dev libgflags-dev libgoogle-glog-dev \</span><br><span class="line">    liblua5.3-dev ninja-build stow clang \</span><br><span class="line">    libeigen3-dev libopencv-dev</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ros-humbleç‰ˆæœ¬çš„cartographerä¾èµ–"><a href="#å®‰è£…ros-humbleç‰ˆæœ¬çš„cartographerä¾èµ–" class="headerlink" title="å®‰è£…ros-humbleç‰ˆæœ¬çš„cartographerä¾èµ–"></a>å®‰è£…ros-humbleç‰ˆæœ¬çš„cartographerä¾èµ–</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y ros-humble-cartographer ros-humble-cartographer-ros ros-humble-cartographer-ros-msgs</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥git clone ä¸¾ä¸ªä¾‹å­</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/ros2/cartographer_ros.git</span><br></pre></td></tr></table></figure><blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹å»ºè®®æœ‰aptå®‰è£…æ–¹å¼çš„ç›´æ¥apt install,å®˜æ–¹æ•´åˆåŒ…æœ€æ–¹ä¾¿,ä¸å®¹æ˜“å‡ºé”™,å…¶æ¬¡å†è€ƒè™‘git clone<br>å®‰è£…aptå,å†åœ¨å·¥ä½œç©ºé—´gitç›¸åŒçš„åŒ…,è¦äº‹å…ˆç¡®ä¿ä¸¤è€…å…¼å®¹,ä¸ç„¶å¯èƒ½ä¼šæœ‰å†²çª,ä¸¤è€…å¦‚æœå…¼å®¹æ˜¯å¯ä»¥è¦†ç›–&#x2F;opt&#x2F;ç›®å½•å†…çš„åŒ…çš„</p></blockquote><p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg list | grep cartogrpaher</span><br></pre></td></tr></table></figure><h2 id="backpack-2d-launch-py"><a href="#backpack-2d-launch-py" class="headerlink" title="backpack_2d.launch.py"></a>backpack_2d.launch.py</h2><p>æ‰¾åˆ°cartographer_rosåŒ…å†…çš„backpack_2d.launch.py</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/ros/humble/share/cartographer_ros/launch/</span><br><span class="line">sudo vim backpack_2d.launch</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¦‚ä¸‹</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> launch <span class="keyword">import</span> LaunchDescription</span><br><span class="line"><span class="keyword">from</span> launch.actions <span class="keyword">import</span> DeclareLaunchArgument, IncludeLaunchDescription</span><br><span class="line"><span class="keyword">from</span> launch.conditions <span class="keyword">import</span> IfCondition, UnlessCondition</span><br><span class="line"><span class="keyword">from</span> launch.substitutions <span class="keyword">import</span> LaunchConfiguration</span><br><span class="line"><span class="keyword">from</span> launch_ros.actions <span class="keyword">import</span> Node, SetRemap</span><br><span class="line"><span class="keyword">from</span> launch_ros.substitutions <span class="keyword">import</span> FindPackageShare</span><br><span class="line"><span class="keyword">from</span> launch.launch_description_sources <span class="keyword">import</span> PythonLaunchDescriptionSource</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_launch_description</span>():</span><br><span class="line"></span><br><span class="line">    <span class="comment">## ***** Launch arguments *****</span></span><br><span class="line">    use_sim_time_arg = DeclareLaunchArgument(<span class="string">&#x27;use_sim_time&#x27;</span>, default_value = <span class="string">&#x27;False&#x27;</span>)</span><br><span class="line">    <span class="comment"># æˆ‘ä»¬æ˜¯å®æ—¶å»ºå›¾ use_sim_timeè®¾ç½®ä¸ºfalse,ä»¿çœŸåˆ™éœ€è¦æ—¶é—´æˆ³</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">## ***** File paths ****** æ ¹æ®è‡ªå·±æ–‡ä»¶è·¯å¾„ä¿®æ”¹</span></span><br><span class="line">    pkg_share = FindPackageShare(<span class="string">&#x27;cartographer_ros&#x27;</span>).find(<span class="string">&#x27;cartographer_ros&#x27;</span>)</span><br><span class="line">    urdf_dir = os.path.join(pkg_share, <span class="string">&#x27;urdf&#x27;</span>)</span><br><span class="line">    urdf_file = os.path.join(urdf_dir, <span class="string">&#x27;backpack_2d.urdf&#x27;</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(urdf_file, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> infp:</span><br><span class="line">        robot_desc = infp.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment">## ***** Nodes *****</span></span><br><span class="line">    robot_state_publisher_node = Node(</span><br><span class="line">        package = <span class="string">&#x27;robot_state_publisher&#x27;</span>,</span><br><span class="line">        executable = <span class="string">&#x27;robot_state_publisher&#x27;</span>,</span><br><span class="line">        parameters=[</span><br><span class="line">            &#123;<span class="string">&#x27;robot_description&#x27;</span>: robot_desc&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;use_sim_time&#x27;</span>: LaunchConfiguration(<span class="string">&#x27;use_sim_time&#x27;</span>)&#125;],</span><br><span class="line">        output = <span class="string">&#x27;screen&#x27;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    cartographer_node = Node(</span><br><span class="line">        package = <span class="string">&#x27;cartographer_ros&#x27;</span>,</span><br><span class="line">        executable = <span class="string">&#x27;cartographer_node&#x27;</span>,</span><br><span class="line">        parameters = [&#123;<span class="string">&#x27;use_sim_time&#x27;</span>: LaunchConfiguration(<span class="string">&#x27;use_sim_time&#x27;</span>)&#125;],</span><br><span class="line">        arguments = [</span><br><span class="line">            <span class="string">&#x27;-configuration_directory&#x27;</span>, FindPackageShare(<span class="string">&#x27;cartographer_ros&#x27;</span>).find(<span class="string">&#x27;cartographer_ros&#x27;</span>) + <span class="string">&#x27;/configuration_files&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;-configuration_basename&#x27;</span>, <span class="string">&#x27;carto_rpc1.lua&#x27;</span>],</span><br><span class="line">         remappings = [</span><br><span class="line">             (<span class="string">&#x27;scan&#x27;</span>, <span class="string">&#x27;scan&#x27;</span>)],</span><br><span class="line"></span><br><span class="line">        output = <span class="string">&#x27;screen&#x27;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    cartographer_occupancy_grid_node = Node(</span><br><span class="line">        package = <span class="string">&#x27;cartographer_ros&#x27;</span>,</span><br><span class="line">        executable = <span class="string">&#x27;cartographer_occupancy_grid_node&#x27;</span>,</span><br><span class="line">        parameters = [</span><br><span class="line">            &#123;<span class="string">&#x27;use_sim_time&#x27;</span>: <span class="literal">True</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;resolution&#x27;</span>: <span class="number">0.05</span>&#125;],</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> LaunchDescription([</span><br><span class="line">        use_sim_time_arg,</span><br><span class="line">        <span class="comment"># Nodes</span></span><br><span class="line">        robot_state_publisher_node,</span><br><span class="line">        cartographer_node,</span><br><span class="line">        cartographer_occupancy_grid_node,</span><br><span class="line">    ])</span><br></pre></td></tr></table></figure><h2 id="luaæ–‡ä»¶"><a href="#luaæ–‡ä»¶" class="headerlink" title=".luaæ–‡ä»¶"></a>.luaæ–‡ä»¶</h2><p>ä¿®æ”¹.luaæ–‡ä»¶<br>æˆ‘åœ¨å®˜æ–¹backpack_2d.luaçš„åŸºç¡€ä¸Šåšäº†ä¿®æ”¹,æ–°å»ºcarto_rpc1.lua</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">include <span class="string">&quot;map_builder.lua&quot;</span></span><br><span class="line">include <span class="string">&quot;trajectory_builder.lua&quot;</span></span><br><span class="line"></span><br><span class="line">options = &#123;</span><br><span class="line">  map_builder = MAP_BUILDER,</span><br><span class="line">  trajectory_builder = TRAJECTORY_BUILDER,</span><br><span class="line">  map_frame = <span class="string">&quot;map&quot;</span>,</span><br><span class="line">  tracking_frame = <span class="string">&quot;base_link&quot;</span>,  <span class="comment">-- è¿™é‡Œbase_linkæ˜¯æœºå™¨äººçš„åŸºç¡€ä¸­å¿ƒèŠ‚ç‚¹,åç»­ä¼šæ ¹æ®urdfæ–‡ä»¶é…ç½®,ä¹Ÿå¯æ ¹æ®è‡ªå·±éœ€è¦é…ç½®</span></span><br><span class="line">  published_frame = <span class="string">&quot;base_link&quot;</span>, </span><br><span class="line"><span class="comment">--  scan_topic = &quot;scan&quot;, </span></span><br><span class="line"><span class="comment">--  tracking_frame = &quot;horizontal_laser_link&quot;,  --å¦‚æœæœ‰imuå¡«imu,æ²¡æœ‰imuåˆ™ç”¨base_link</span></span><br><span class="line"><span class="comment">--  published_frame = &quot;horizontal_laser_link&quot;,   --æœ‰odomä¸€èˆ¬ç”¨odomï¼Œæ²¡æœ‰odomä¸€èˆ¬ç”¨base_link</span></span><br><span class="line">  odom_frame = <span class="string">&quot;odom&quot;</span>,</span><br><span class="line">  provide_odom_frame = <span class="literal">true</span>,  <span class="comment">--åº•ç›˜æä¾›äº†é‡Œç¨‹è®¡ï¼Œè¿™é‡Œä¸ä½¿ç”¨ç®—æ³•æä¾›çš„é‡Œç¨‹è®¡ï¼›å¦‚æœæ²¡æœ‰åº•ç›˜æä¾›ï¼Œåˆ™å¯ä»¥ç”¨cartographeræä¾›çš„é‡Œç¨‹è®¡ï¼Œè¿™é‡Œæ‘„åˆ¶æˆtrue</span></span><br><span class="line">  publish_frame_projected_to_2d = <span class="literal">false</span>,</span><br><span class="line">  use_pose_extrapolator = <span class="literal">true</span>,</span><br><span class="line">  use_odometry = <span class="literal">false</span>,</span><br><span class="line">  use_nav_sat = <span class="literal">false</span>,</span><br><span class="line">  use_landmarks = <span class="literal">false</span>,</span><br><span class="line">  num_laser_scans = <span class="number">1</span>,  <span class="comment">-- è¿™è¦æ³¨æ„ä¸è¦æŠŠä¸‹é¢çš„multiå†™æˆ1äº†,åšä¸»å°±ç”¨rplidar_c1é›·è¾¾,æœ‰éœ€è¦å¯ä»¥è‡ªè¡Œé…ç½®</span></span><br><span class="line">  num_multi_echo_laser_scans = <span class="number">0</span>,</span><br><span class="line">  num_subdivisions_per_laser_scan = <span class="number">1</span>,</span><br><span class="line">  num_point_clouds = <span class="number">0</span>,</span><br><span class="line">  lookup_transform_timeout_sec = <span class="number">0.2</span>,</span><br><span class="line">  submap_publish_period_sec = <span class="number">0.3</span>,</span><br><span class="line">  pose_publish_period_sec = <span class="number">5e-3</span>,</span><br><span class="line">  trajectory_publish_period_sec = <span class="number">30e-3</span>,</span><br><span class="line">  rangefinder_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  odometry_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  fixed_frame_pose_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  imu_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  landmarks_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--TRAJECTORY_BUILDER_2D = &#123;</span></span><br><span class="line"><span class="comment">--    laser_frame = &quot;laser&quot;,</span></span><br><span class="line"><span class="comment">--    use_imu_data = false,</span></span><br><span class="line"><span class="comment">--  &#125;</span></span><br><span class="line">MAP_BUILDER.use_trajectory_builder_2d = <span class="literal">true</span>  <span class="comment">-- é€‰æ‹©true,ä¼šå°†trajectory_builder_2dæ–‡ä»¶é‡Œé¢çš„falseæ”¹æˆtrueè¿›è¡Œ2då»ºå›¾</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.num_accumulated_range_data = <span class="number">10</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.use_online_correlative_scan_matching = <span class="literal">true</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.num_accumulated_range_data = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> options</span><br></pre></td></tr></table></figure><h2 id="urdf"><a href="#urdf" class="headerlink" title=".urdf"></a>.urdf</h2><p>ä¿®æ”¹æœºå™¨äººé…ç½®æ–‡ä»¶.urdf</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/ros/humble/share/cartographer_ros/urdf/</span><br><span class="line">sudo vim backpack_2d.urdf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¦‚ä¸‹(ä¸»è¦åŠ å…¥äº†é›·è¾¾scançš„laseræ¡†æ¶)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;robot name=&quot;cartographer_backpack_2d&quot;&gt;</span><br><span class="line">  &lt;material name=&quot;orange&quot;&gt;</span><br><span class="line">    &lt;color rgba=&quot;1.0 0.5 0.2 1&quot; /&gt;</span><br><span class="line">  &lt;/material&gt;</span><br><span class="line">  &lt;material name=&quot;gray&quot;&gt;</span><br><span class="line">    &lt;color rgba=&quot;0.2 0.2 0.2 1&quot; /&gt;</span><br><span class="line">  &lt;/material&gt;</span><br><span class="line"></span><br><span class="line">  &lt;link name=&quot;imu_link&quot;&gt;</span><br><span class="line">    &lt;visual&gt;</span><br><span class="line">      &lt;origin xyz=&quot;0 0 0&quot; /&gt;</span><br><span class="line">      &lt;geometry&gt;</span><br><span class="line">        &lt;box size=&quot;0.06 0.04 0.02&quot; /&gt;</span><br><span class="line">      &lt;/geometry&gt;</span><br><span class="line">      &lt;material name=&quot;orange&quot; /&gt;</span><br><span class="line">    &lt;/visual&gt;</span><br><span class="line">  &lt;/link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ·»åŠ é›·è¾¾çš„åæ ‡ç³» æˆ‘çš„æ˜¯laser --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;link name=&quot;laser&quot;&gt;</span><br><span class="line">    &lt;visual&gt;</span><br><span class="line">      &lt;origin xyz=&quot;0 0 0&quot; /&gt;</span><br><span class="line">      &lt;geometry&gt;</span><br><span class="line">        &lt;cylinder length=&quot;0.05&quot; radius=&quot;0.03&quot; /&gt;</span><br><span class="line">      &lt;/geometry&gt;</span><br><span class="line">      &lt;material name=&quot;gray&quot; /&gt;</span><br><span class="line">    &lt;/visual&gt;</span><br><span class="line">  &lt;/link&gt;</span><br><span class="line"></span><br><span class="line">  &lt;link name=&quot;horizontal_laser_link&quot;&gt;</span><br><span class="line">    &lt;visual&gt;</span><br><span class="line">      &lt;origin xyz=&quot;0 0 0&quot; /&gt;</span><br><span class="line">      &lt;geometry&gt;</span><br><span class="line">        &lt;cylinder length=&quot;0.05&quot; radius=&quot;0.03&quot; /&gt;</span><br><span class="line">      &lt;/geometry&gt;</span><br><span class="line">      &lt;material name=&quot;gray&quot; /&gt;</span><br><span class="line">    &lt;/visual&gt;</span><br><span class="line">  &lt;/link&gt;</span><br><span class="line">&lt;&gt;</span><br><span class="line">  &lt;link name=&quot;vertical_laser_link&quot;&gt;</span><br><span class="line">    &lt;visual&gt;</span><br><span class="line">      &lt;origin xyz=&quot;0 0 0&quot; /&gt;</span><br><span class="line">      &lt;geometry&gt;</span><br><span class="line">        &lt;cylinder length=&quot;0.05&quot; radius=&quot;0.03&quot; /&gt;</span><br><span class="line">      &lt;/geometry&gt;</span><br><span class="line">      &lt;material name=&quot;gray&quot; /&gt;</span><br><span class="line">    &lt;/visual&gt;</span><br><span class="line">  &lt;/link&gt;</span><br><span class="line"></span><br><span class="line">  &lt;link name=&quot;base_link&quot; /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;joint name=&quot;imu_link_joint&quot; type=&quot;fixed&quot;&gt;</span><br><span class="line">    &lt;parent link=&quot;base_link&quot; /&gt;</span><br><span class="line">    &lt;child link=&quot;imu_link&quot; /&gt;</span><br><span class="line">    &lt;origin xyz=&quot;0 0 0&quot; /&gt;</span><br><span class="line">  &lt;/joint&gt;</span><br><span class="line"></span><br><span class="line">  &lt;joint name=&quot;horizontal_laser_link_joint&quot; type=&quot;fixed&quot;&gt;</span><br><span class="line">    &lt;parent link=&quot;base_link&quot; /&gt;</span><br><span class="line">    &lt;child link=&quot;horizontal_laser_link&quot; /&gt;</span><br><span class="line">    &lt;origin xyz=&quot;0.1007 0 0.0558&quot; /&gt;</span><br><span class="line">  &lt;/joint&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ä¸»è¦æ˜¯è¿™éƒ¨ä»½æ”¹æˆè‡ªå·±çš„é›·è¾¾é“¾æ¥ä¸base_linké“¾æ¥ --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;joint name=&quot;laser_link_joint&quot; type=&quot;fixed&quot;&gt;</span><br><span class="line">    &lt;parent link=&quot;base_link&quot; /&gt;</span><br><span class="line">    &lt;child link=&quot;laser&quot; /&gt;</span><br><span class="line">    &lt;origin rpy=&quot;0 0 0&quot; xyz=&quot;0.05 0 0.2&quot; /&gt;</span><br><span class="line">  &lt;/joint&gt;</span><br><span class="line"></span><br><span class="line">  &lt;joint name=&quot;vertical_laser_link_joint&quot; type=&quot;fixed&quot;&gt;</span><br><span class="line">    &lt;parent link=&quot;base_link&quot; /&gt;</span><br><span class="line">    &lt;child link=&quot;vertical_laser_link&quot; /&gt;</span><br><span class="line">    &lt;origin rpy=&quot;0 -1.570796 3.141593&quot; xyz=&quot;0.1007 0 0.1814&quot; /&gt;</span><br><span class="line">  &lt;/joint&gt;</span><br><span class="line"></span><br><span class="line">&lt;/robot&gt;</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹å»ºå›¾"><a href="#å¼€å§‹å»ºå›¾" class="headerlink" title="å¼€å§‹å»ºå›¾"></a>å¼€å§‹å»ºå›¾</h2><p>è¿è¡Œå¯åŠ¨é›·è¾¾</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch sllidar_ros2 view_sllidar_c1_launch.py </span><br></pre></td></tr></table></figure><p>è¿è¡Œå¯åŠ¨cartoå»ºå›¾</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch cartographer_ros backpack_2d.launch.py </span><br></pre></td></tr></table></figure><p>é€‰æ‹©&#x2F;map</p><h2 id="æŠ¥é”™å¾é€”"><a href="#æŠ¥é”™å¾é€”" class="headerlink" title="æŠ¥é”™å¾é€”"></a>æŠ¥é”™å¾é€”</h2><p>å¦‚æœä½ ä¹Ÿå’Œæˆ‘ä¸€æ ·,æ²¡èƒ½æˆåŠŸè¿è¡Œ,æ¥ä¸‹æ¥ç­‰ç€ä½ çš„å°†ä¼šæ˜¯æ— å°½çš„å›°éš¾</p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/2.png" alt=" "></p><p>å¯ä»¥çœ‹åˆ°ä¸»è¦é—®é¢˜æ˜¯tfæ ‘å˜æ¢ä¸åˆ°ä½ä»¥åŠmapæ¶ˆæ¯æ¥æ”¶ä¸åˆ°</p><p>å¯¹tfæ ‘å˜æ¢ä¸åˆ°ä½çš„,è¯·è¿”å›urdfæ–‡ä»¶,è®¤çœŸæ ¸å¯¹ä¿®æ”¹å³å¯</p><p>å¯¹äº&#x2F;mapæ¶ˆæ¯æ— æ³•æ¥æ”¶çš„æƒ…å†µ,æˆ‘ä¸»è¦é‡‡å–äº†ä»¥ä¸‹æ’æŸ¥æ­¥éª¤</p><p><strong>é¦–å…ˆ</strong> æˆ‘é€šè¿‡rqt_graph ç¡®è®¤äº†å½“å‰èŠ‚ç‚¹é—´çš„é“¾æ¥çŠ¶æ€ï¼Œå’Œåœ¨ä»¿çœŸturtlebot3ä¸­çš„å›¾ç‰‡è¿›è¡Œäº†å¯¹æ¯”ï¼Œå‘ç°ä¸»è¦å°±æ˜¯ç¼ºå°‘&#x2F;map</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rqt_graph # éœ€è¦ä¿æŒlaunchè¿è¡Œï¼Œå¦èµ·ä¸€ä¸ªç»ˆç«¯ï¼Œæœ‰æ—¶ä¸æ˜¯å¾ˆçµæ•ï¼Œè¦å¤šå®éªŒå‡ æ¬¡</span><br></pre></td></tr></table></figure><blockquote><p>è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºæ²¡æœ‰æ­£ç¡®é“¾æ¥scanåˆ°cartographer_node<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/3.png" alt=" "></p></blockquote><blockquote><p>è¿™å¼ å›¾ä¿è¯é›·è¾¾æ¥æ”¶æ­£ç¡®,ä½†æ˜¯æ²¡æœ‰æ­£ç¡®æ¥æ”¶mapæ¶ˆæ¯<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/4.png" alt=" "></p></blockquote><blockquote><p>åŸºäºturtlebot3æ­£ç¡®çš„graph<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/5.png" alt=" "></p></blockquote><p>åå¤å¯¹ç…§,å‘ç°ä¸åŒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic hz /map</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic echo /map #æŸ¥çœ‹ç‰¹å®šæ¶ˆæ¯</span><br></pre></td></tr></table></figure><p>å‘ç°å‡æ²¡æœ‰è¾“å‡º,</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 topic list</span><br></pre></td></tr></table></figure><p>æˆ‘å‘ç°å´åˆå­˜åœ¨&#x2F;map</p><p>è°ƒè¯•äº†éå¸¸é•¿ä¸€æ®µæ—¶é—´,çµå…‰ä¹ç° æ€è€ƒmapæ¶ˆæ¯messageä¸åˆ°å¯èƒ½æ˜¯å‘é€é¢‘ç‡ä¸å¤Ÿ<br>æˆ‘ä¿®æ”¹äº†luaæ–‡ä»¶ä¸­çš„ç›¸åº”é€‰é¡¹,æé«˜hz</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lookup_transform_timeout_sec = <span class="number">0.5</span>, <span class="comment">--å˜æ¢æŸ¥æ‰¾è¶…æ—¶æ—¶é—´ã€‚å¦‚æœè½¬æ¢åœ¨æŒ‡å®šçš„æ—¶é—´å†…æ²¡æœ‰æ‰¾åˆ°ï¼Œç³»ç»Ÿå°†åœæ­¢æŸ¥æ‰¾ã€‚å¢åŠ è‡³0.5</span></span><br><span class="line">submap_publish_period_sec = <span class="number">0.1</span>,  <span class="comment">--å­å›¾çš„å‘å¸ƒå‘¨æœŸã€‚é…ç½®ä¸ºæ¯ 0.1 ç§’å‘å¸ƒä¸€æ¬¡å­å›¾ 10hz</span></span><br></pre></td></tr></table></figure><p>é‡æ–°è¿è¡Œé‚£ä¸¤ä¸ªæŒ‡ä»¤,å‘ç°mapçš„messageè¿˜æ˜¯æ¥æ”¶ä¸åˆ°,ä½†æˆ‘æƒŠå–œçš„å‘ç°rqt_graphä¸­å‡ºç°äº†&#x2F;mapé“¾æ¥</p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/6.png" alt=" "></p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/7.png" alt=" "></p><p>éå¸¸æƒŠå–œ,æœ‰ä¸¤æ¬¡éƒ½æœ‰å‡ºç°mapçš„é“¾æ¥</p><p>åœ¨è¿™ä¸­çš„è¿‡ç¨‹,æˆ‘è¿˜åœ¨cartographer_rosåŠŸèƒ½åŒ…çš„backpack_2d.launch.pyé…ç½®äº†rvizçš„å¯åŠ¨node,è§‚å¯Ÿåˆ°demo_backpack_2d.launch.pyä¸­ç”¨äº†demo_2d.rvizæ–‡ä»¶,å°±å€Ÿé‰´è¿‡æ¥äº†</p><p>åœ¨backpack_2d.launch.pyä¸­æ·»åŠ ä»¥ä¸‹èŠ‚ç‚¹(å·²ç»åšäº†ä¿®æ”¹)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rviz_node = Node(</span><br><span class="line">    package = <span class="string">&#x27;rviz2&#x27;</span>,</span><br><span class="line">    executable = <span class="string">&#x27;rviz2&#x27;</span>,</span><br><span class="line">    arguments = [<span class="string">&#x27;-d&#x27;</span>, FindPackageShare(<span class="string">&#x27;cartographer_ros&#x27;</span>).find(<span class="string">&#x27;cartographer_ros&#x27;</span>) + <span class="string">&#x27;/configuration_files/demo_2d.rviz&#x27;</span>],</span><br><span class="line">    parameters = [&#123;<span class="string">&#x27;use_sim_time&#x27;</span>: <span class="literal">False</span>&#125;],</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æœ€åä¹Ÿè¦åŠ ä¸Šè¿™ä¸ªèŠ‚ç‚¹åç§°</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> LaunchDescription([</span><br><span class="line">        use_sim_time_arg,</span><br><span class="line">        <span class="comment"># Nodes</span></span><br><span class="line">        robot_state_publisher_node,</span><br><span class="line">        cartographer_node,</span><br><span class="line">        cartographer_occupancy_grid_node,</span><br><span class="line">        rviz_node, <span class="comment"># æ·»åŠ rviz_nodeèŠ‚ç‚¹</span></span><br><span class="line">    ])</span><br></pre></td></tr></table></figure><p>ç»“æŸä¹‹å,è¿è¡Œbackpack_2d.launch.pyä¾¿ä¼šè·³å‡ºrviz2ç•Œé¢,è™½ç„¶å¥½åƒæ²¡ä»€ä¹ˆç”¨å“ˆå“ˆ,ä½†æ˜¯æˆ‘å‘ç°,åŸæ¥rvizä¸­çš„contraints(çº¦æŸ)é€‰é¡¹åŸæœ¬æ˜¾ç¤ºçš„æ˜¯message hz at xxx,ç°åœ¨éƒ½ä¸æŠ¥é”™äº†,ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºæ›´æ”¹çš„åŸå› ,æœ‰å¤§ä½¬çŸ¥é“çš„,æ–‡ç« æœ€åæœ‰è”ç³»æ–¹å¼,å¸Œæœ›èƒ½ä¸€èµ·è®¨è®ºå­¦ä¹ ,(åé¢æˆ‘æŠŠluaçš„ç›¸å…³å‚æ•°æ”¹å›å»,ä¹Ÿè¿˜æ˜¯ä¸æŠ¥é”™äº†hhhå¥½å¥‡æ€ª)</p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/9.png" alt=" "></p><p>è¨€å½’æ­£ä¼ ,ç»§ç»­æ’æŸ¥é—®é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run cartographer_ros cartographer_occupancy_grid_node -resolution 0.05 -publish_period_sec 1.0 --ros-args --log-level debug</span><br></pre></td></tr></table></figure><p>æˆ‘å¼€å¯debugæ¨¡å¼,è¿è¡Œäº†occupancy_grid_node,å‘ç°ç›®å‰åœ°å›¾ä¿¡æ¯å·²ç»æœ‰è¢«æ­£ç¡®å‘å¸ƒå¹¶ä¸”message,åŸºæœ¬ç¡®å®šå°±æ˜¯base_linkå’Œmapçš„è¿æ¥é—®é¢˜</p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/10.png" alt="occupancy_grid_node"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run tf2_ros tf2_echo map base_link</span><br></pre></td></tr></table></figure><p>é’ˆå¯¹æ€§çš„è§‚å¯Ÿmapå’Œbase_linkä¹‹é—´çš„tfè¿æ¥æ˜¯å¦æ­£ç¡®<br>å‘ç°ä¸å­˜åœ¨ä¸¤è€…çš„è¿æ¥<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/11.png" alt=" "></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run tf2_tools view_frames</span><br></pre></td></tr></table></figure><p>å»ºç«‹tfæ ‘,å‘ç°ç¡®å®åˆ°base_linkå°±æ–­å¼€è¿æ¥äº†<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/12.png" alt=" "></p><blockquote><p>å†æ¬¡é™·å…¥åƒµå±€,è°ƒè¯•è®¸ä¹…æœªæœ,å¼€å§‹åå¤çœ‹turtlebot3æˆåŠŸçš„æ–‡ä»¶ç¨‹åºå’Œtfè¿æ¥,è¿›è¡Œå„ç§å°è¯•</p></blockquote><p>å¿½ç„¶å‘ç°ä¹‹å‰æŸ¥çœ‹tfæ ‘hideäº†å¥½å¤šä¿¡æ¯,å·¦ä¸Šè§’é‚£äº›é€‰é¡¹å¯ä»¥å‹¾é€‰,å¯¹æœ€æ–°çš„å›¾ç‰‡è¿›è¡Œæ¯”å¯¹,å‘ç°ä¸€äº›ä¸åŒ,è¿›è€Œæ›´æ”¹</p><p>é¡ºä¾¿ä»‹ç»ä¸€ä¸‹ä¹‹å‰hideçš„å‚æ•°</p><table><thead><tr><th>æ¦‚å¿µåç§°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>Dead Sinks</td><td>è®¢é˜…äº†æŸä¸ªä¸»é¢˜çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯æ²¡æœ‰å…¶ä»–èŠ‚ç‚¹æ­£åœ¨å‘å¸ƒè¯¥ä¸»é¢˜çš„æ¶ˆæ¯ã€‚æ¢å¥è¯è¯´ï¼Œè¿™äº›èŠ‚ç‚¹æ­£åœ¨ç­‰å¾…æ°¸è¿œä¸ä¼šåˆ°æ¥çš„æ¶ˆæ¯ã€‚</td></tr><tr><td>Leaf Topics</td><td>è¿™äº›æ˜¯æ²¡æœ‰ä»»ä½•èŠ‚ç‚¹è®¢é˜…çš„ä¸»é¢˜ã€‚æ¢å¥è¯è¯´ï¼Œå°½ç®¡æœ‰èŠ‚ç‚¹åœ¨å‘å¸ƒè¿™äº›ä¸»é¢˜çš„æ¶ˆæ¯ï¼Œä½†æ˜¯æ²¡æœ‰èŠ‚ç‚¹åœ¨æ¥æ”¶è¿™äº›æ¶ˆæ¯ã€‚</td></tr><tr><td>Debug</td><td>è¿™ä¸ªé€‰é¡¹é€šå¸¸ç”¨äºå¯ç”¨æˆ–ç¦ç”¨é¢å¤–çš„è°ƒè¯•ä¿¡æ¯ã€‚åœ¨rqt_graphä¸­ï¼Œå¯ç”¨è°ƒè¯•å¯èƒ½ä¼šæ˜¾ç¤ºæ›´å¤šçš„ç»†èŠ‚ï¼Œä¾‹å¦‚æ¶ˆæ¯çš„æ•°æ®ç±»å‹å’Œé¢‘ç‡ã€‚</td></tr><tr><td>TF</td><td>TFï¼ˆTransform Frameworkï¼‰æ˜¯ROSä¸­ç”¨äºç»´æŠ¤ä¸åŒåæ ‡ç³»ä¹‹é—´å˜æ¢çš„ä¸€ä¸ªç³»ç»Ÿã€‚åœ¨rqt_graphä¸­ï¼ŒTFç›¸å…³çš„æ¡ç›®æ˜¾ç¤ºäº†å‘å¸ƒå’Œè®¢é˜…TFå˜æ¢çš„èŠ‚ç‚¹ã€‚</td></tr><tr><td>Unreachable</td><td>è¿™é€šå¸¸æŒ‡çš„æ˜¯ç”±äºç½‘ç»œé—®é¢˜æˆ–å…¶ä»–åŸå› ï¼ŒæŸäº›èŠ‚ç‚¹æ— æ³•ä¸å…¶ä»–èŠ‚ç‚¹é€šä¿¡ã€‚è¿™å¯èƒ½å¯¼è‡´èŠ‚ç‚¹æˆ–ä¸»é¢˜åœ¨è®¡ç®—å›¾ä¸­æ˜¾ç¤ºä¸ºä¸å¯è¾¾ã€‚</td></tr><tr><td>Params</td><td>å‚æ•°ï¼ˆParametersï¼‰æ˜¯ROSä¸­ç”¨äºé…ç½®èŠ‚ç‚¹å’Œæ•´ä¸ªç³»ç»Ÿçš„é”®å€¼å¯¹ã€‚åœ¨rqt_graphä¸­ï¼Œå‚æ•°å¯èƒ½æ˜¾ç¤ºä¸ºèŠ‚ç‚¹çš„ä¸€éƒ¨åˆ†ï¼Œä½†é€šå¸¸ä¸ä¼šæ˜¾ç¤ºå‚æ•°ä¹‹é—´çš„è¿æ¥ã€‚</td></tr></tbody></table><blockquote><p>turtlebot3çš„TFæ ‘<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/turtlebot3_tf.png" alt="turtlebot3çš„TFæ ‘"></p></blockquote><blockquote><p>turtlebot3çš„graph<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/rosgraph.png" alt="turtlebot3çš„graph"></p></blockquote><blockquote><p>ç›®å‰è‡ªå·±è°ƒè¯•çš„graph<br><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/13.png" alt="ç›®å‰è‡ªå·±è°ƒè¯•çš„graph"></p></blockquote><p>åå¤è§‚å¯Ÿ,æˆ‘åˆå¢åŠ äº†ä¸€äº›rosgraph,å¿½ç„¶å‘ç°äº†åº”è¯¥å¾ˆå¯ç¬‘ä½†éå¸¸ä¸¥é‡çš„é—®é¢˜,è¯é¢˜æ¶ˆæ¯ä¼¼ä¹éƒ½ä¼ åˆ°äº†rvizä¸Š,æ³¨æ„æ˜¯rviz,ä¸æ˜¯<strong>rviz2</strong>!!!,ä¸‹é¢æ˜¾ç¤ºä¸¤å¼ æ˜æ˜¾é”™è¯¯å›¾ç‰‡</p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/wrong1.png" alt=" "></p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/wrong2.png" alt=" "></p><p>æˆ‘ä»¬å‘ç°é™¤äº†scanè¯é¢˜ä¿¡æ¯,å‡ ä¹æ‰€æœ‰messageéƒ½èµ°äº†rviz,è€Œä¸æ˜¯rviz2,è¦çŸ¥é“,æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ˜¯ros2ç‰ˆæœ¬å¯¹åº”æ˜¯rviz2,ç ´æ¡ˆäº†!!!</p><p>ç«‹é©¬ä¿®æ”¹å…ˆå‰é…ç½®!!!!<br>ä¸€é¡¿æ“ä½œçŒ›å¦‚è™,æ²¡æœ‰ä»»ä½•æ•ˆæœ,ä¾æ—§æ”¶ä¸åˆ°,è€Œä¸”å‘ç°æœ‰æ—¶å€™rqt_graphçš„å›¾å½¢æ˜¾ç¤ºæœ‰äº›rviz2çš„æ•°æ®ä¹Ÿä¼ åˆ°äº†rosoutå»äº†<br>æ€€ç–‘å¯èƒ½ä¸æ˜¯è¿™ä¸ªåŸå› ,é€€å›æœ€åˆçŠ¶æ€,è¿™æ—¶å€™å°±ä½“ç°å‰¯æœ¬çš„é‡è¦æ€§è´¨äº†hhh</p><p><del>rviz2ä¿®æ”¹æœªæœ,æˆ‘åˆå¼€å§‹äº†èƒ¡ä¹±è°ƒè¯•</del></p><blockquote><p>æ¼äº†è¯´,è¿˜æ˜¯æœ‰åšäº†äº›è®¸æ›´æ”¹</p></blockquote><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/15.png" alt=" "></p><p>å¯¹è¿™ä¸ªæŠ¥é”™,è¿›å…¥.rvizç›¸å…³æ–‡ä»¶,åˆ é™¤è¿™å‡ ä¸ªclasså³å¯</p><p>ç»§ç»­è°ƒè¯•</p><p>åŠ å…¥äº†launchä¸­çš„tfé™æ€å˜æ¢,ç¡®ä¿mapå’Œbase_linkè¿æ¥</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">static_transform_publisher = Node(</span><br><span class="line">    package=<span class="string">&#x27;tf2_ros&#x27;</span>,</span><br><span class="line">    executable=<span class="string">&#x27;static_transform_publisher&#x27;</span>,</span><br><span class="line">    arguments=[<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;map&#x27;</span>, <span class="string">&#x27;base_link&#x27;</span>],</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è®°å¾—æœ«å°¾è¿˜éœ€è¦æ·»åŠ node,</p><p>tfæ ‘æ˜¾ç¤ºè¿æ¥ä¸Šäº†,mapçš„messageè¿˜æ˜¯è¿æ¥ä¸ä¸Š</p><blockquote><p>mapä¸base_linkæ˜¯å®æ—¶è¿æ¥çš„,é™æ€å‘å¸ƒä¸å¤ªè¡Œ,è„‘å­ä¹Ÿæ˜¯ç³Šæ¶‚äº†</p></blockquote><p>è¿æ¥è½¬æœº!!!!</p><p>è¿™å¤©åƒé¥­çªå‘å¥‡æƒ³mapå’Œbase_linkä¸­é—´æ˜¯ä¸æ˜¯è¿˜æœ‰èŠ‚ç‚¹,luaæ–‡ä»¶å¯èƒ½è¿˜æ˜¯æ²¡æœ‰é…ç½®å¥½,<br>å†³å®šç›´æ¥ç¦ç”¨imuçœ‹çœ‹æ•ˆæœ</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Copyright 2016 The Cartographer Authors</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span><br><span class="line"><span class="comment">-- you may not use this file except in compliance with the License.</span></span><br><span class="line"><span class="comment">-- You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">--      http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment">-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment">-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment">-- See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment">-- limitations under the License.</span></span><br><span class="line"></span><br><span class="line">include <span class="string">&quot;map_builder.lua&quot;</span></span><br><span class="line">include <span class="string">&quot;trajectory_builder.lua&quot;</span></span><br><span class="line"></span><br><span class="line">options = &#123;</span><br><span class="line">  map_builder = MAP_BUILDER,</span><br><span class="line">  trajectory_builder = TRAJECTORY_BUILDER,</span><br><span class="line">  map_frame = <span class="string">&quot;map&quot;</span>,</span><br><span class="line">  tracking_frame = <span class="string">&quot;base_link&quot;</span>,  </span><br><span class="line">  published_frame = <span class="string">&quot;base_link&quot;</span>, </span><br><span class="line"><span class="comment">--  scan_topic = &quot;scan&quot;, </span></span><br><span class="line"><span class="comment">--  tracking_frame = &quot;horizontal_laser_link&quot;,  --å¦‚æœæœ‰imuå¡«imu,æ²¡æœ‰imuåˆ™ç”¨base_link</span></span><br><span class="line"><span class="comment">--  published_frame = &quot;horizontal_laser_link&quot;,   --æœ‰odomä¸€èˆ¬ç”¨odomï¼Œæ²¡æœ‰odomä¸€èˆ¬ç”¨base_link</span></span><br><span class="line">  odom_frame = <span class="string">&quot;odom&quot;</span>,</span><br><span class="line">  provide_odom_frame = <span class="literal">true</span>,  <span class="comment">--åº•ç›˜æä¾›äº†é‡Œç¨‹è®¡ï¼Œè¿™é‡Œä¸ä½¿ç”¨ç®—æ³•æä¾›çš„é‡Œç¨‹è®¡ï¼›å¦‚æœæ²¡æœ‰åº•ç›˜æä¾›ï¼Œåˆ™å¯ä»¥ç”¨cartographeræä¾›çš„é‡Œç¨‹è®¡ï¼Œè¿™é‡Œæ‘„åˆ¶æˆtrue</span></span><br><span class="line">  publish_frame_projected_to_2d = <span class="literal">false</span>,</span><br><span class="line">  use_pose_extrapolator = <span class="literal">true</span>,</span><br><span class="line">  use_odometry = <span class="literal">false</span>,</span><br><span class="line">  use_nav_sat = <span class="literal">false</span>,</span><br><span class="line">  use_landmarks = <span class="literal">false</span>,</span><br><span class="line">  num_laser_scans = <span class="number">1</span>,</span><br><span class="line">  num_multi_echo_laser_scans = <span class="number">0</span>,</span><br><span class="line">  num_subdivisions_per_laser_scan = <span class="number">1</span>,</span><br><span class="line">  num_point_clouds = <span class="number">0</span>,</span><br><span class="line">  lookup_transform_timeout_sec = <span class="number">0.2</span>,</span><br><span class="line">  submap_publish_period_sec = <span class="number">0.3</span>,</span><br><span class="line">  pose_publish_period_sec = <span class="number">5e-3</span>,</span><br><span class="line">  trajectory_publish_period_sec = <span class="number">30e-3</span>,</span><br><span class="line">  rangefinder_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  odometry_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  fixed_frame_pose_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">  imu_sampling_ratio = <span class="number">0.</span>,  <span class="comment">-- è®¾ç½®ä¸º0,ç¦ç”¨imu</span></span><br><span class="line">  landmarks_sampling_ratio = <span class="number">1.</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--TRAJECTORY_BUILDER_2D = &#123;</span></span><br><span class="line"><span class="comment">--    laser_frame = &quot;laser&quot;,</span></span><br><span class="line"><span class="comment">--    use_imu_data = false,</span></span><br><span class="line"><span class="comment">--  &#125;</span></span><br><span class="line">MAP_BUILDER.use_trajectory_builder_2d = <span class="literal">true</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.num_accumulated_range_data = <span class="number">10</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.use_online_correlative_scan_matching = <span class="literal">true</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.num_accumulated_range_data = <span class="number">1</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.use_imu_data = <span class="literal">false</span>  <span class="comment">-- ç¦ç”¨IMUæ•°æ®</span></span><br><span class="line"><span class="keyword">return</span> options</span><br></pre></td></tr></table></figure><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imu_sampling_ratio = <span class="number">0.</span>,  <span class="comment">-- è®¾ç½®ä¸º0,ç¦ç”¨imu</span></span><br><span class="line">TRAJECTORY_BUILDER_2D.use_imu_data = <span class="literal">false</span>  <span class="comment">-- ç¦ç”¨IMUæ•°æ®</span></span><br></pre></td></tr></table></figure><p>ç¦ç”¨ä¹‹åimu_sampling_ratioä¸ä¿®æ”¹ä¹Ÿæ²¡äº‹å“ˆå“ˆå“ˆ</p><p>éå¸¸amazingå•Š,å†æ¬¡è¿è¡Œé‚£ä¸¤ä¸ªlaunchæ–‡ä»¶,å»ºå›¾æˆåŠŸäº†,ä½†æ˜¯æ²¡æœ‰imuæ•°æ®çš„æ”¯æŒ<br>æ•ˆæœä¹Ÿæ˜¯éå¸¸æ„Ÿäºº</p><p><img src="/./images/%E5%9F%BA%E4%BA%8ECartographer%E7%AE%97%E6%B3%95%E7%9A%84RPLIDAR%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE%E5%AF%BC%E8%88%AA/14.png" alt=" "></p><p>å¯ä»¥çœ‹åˆ°æ²¡æœ‰imu,æ²¡æœ‰é‡Œç¨‹è®¡odom,å»ºå›¾æ•ˆæœæ˜¯éå¸¸å·®åŠ²çš„,æ¥ä¸‹æ¥,æˆ‘è€ƒè™‘æ¥å…¥imu,çœ‹çœ‹ä¼šä¸ä¼šå¥½ä¸€ç‚¹</p><h2 id="imu"><a href="#imu" class="headerlink" title="imu"></a>imu</h2><p>æŠ¥é”™å¾é€”çš„ä¸‹ä¸€å½¢æ€hhh</p><p>çœ‹äº†ä¸€äº›åˆ«äººå®¶çš„ä¾‹å­å“ˆå“ˆ<br><a href="https://blog.csdn.net/qq_39502099/article/details/125969577">cartographeræ¥å…¥2Dé›·è¾¾laser+imuå®æ—¶å»ºå›¾</a></p><p><a href="https://blog.csdn.net/qq_46274948/article/details/127012313?spm=1001.2101.3001.6650.2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Ctr-2-127012313-blog-125969577.235%5Ev43%5Epc_blog_bottom_relevance_base9">Cartographerï¼ˆ3ï¼‰lidar+IMUå»ºå›¾</a></p><blockquote><p>åˆè°ƒè¯•äº†å¾ˆä¹…,æœ€åå‘ç°rplidar_c1çš„æ€å²šé›·è¾¾å‹æ ¹ä¸å…·å¤‡imuæƒ¯æ€§æµ‹é‡å•å…ƒåŠŸèƒ½,(å“­)</p></blockquote><blockquote><p>ä¹Ÿç®—æ˜¯å®Œç»“æ’’èŠ±äº†hh,åç»­ä¼šå‡ºä¸€ä¸ªç²¾ç®€ç‰ˆæ–‡æ¡£,è¿™ä¸ªç®—æµæ°´è´¦è®°å½•äº†,ä¹‹åç”¨mid360ä¼šå†å†™ä¸€ä¸ªæ–‡æ¡£</p></blockquote><h1 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h1><blockquote><p>æ„Ÿè°¢å„è·¯å¤§ä½¬çš„å¸®å¿™ ä»¥ä¸‹ä¸ºéƒ¨åˆ†å€Ÿé‰´å‚è€ƒæ–‡çŒ®</p></blockquote><p><a href="https://whaltze.github.io/2025/02/14/RM2025%E5%AF%BC%E8%88%AA%E8%B0%83%E8%AF%95/">WHALTZE - RM2025å¯¼èˆªè°ƒè¯•</a></p><p><a href="https://blog.csdn.net/qq_48580785/article/details/135821380">Ubuntu22.04å¦‚ä½•å®‰è£…å¸è½½gazeboå’Œæ¨¡å‹ç­‰ä¸€äº›é—®é¢˜</a></p><p><a href="https://blog.csdn.net/wujialing99/article/details/51911465">gazeboç¯å¢ƒå˜é‡é—®é¢˜è®¾ç½®é—®é¢˜</a></p><p><a href="https://blog.csdn.net/weixin_45661757/article/details/114026865">æœºå™¨äººSLAMä¸è‡ªä¸»å¯¼èˆªï¼ˆä¸‰ï¼‰â€”â€”SLAMåŠŸèƒ½åŒ…</a></p><p><a href="https://blog.csdn.net/aidimoli123/article/details/112154918">æ¿€å…‰SLAMä¹‹Gmappingï¼ˆ1ï¼‰å®‰è£…ä¸æµ‹è¯•</a></p><p><a href="https://wiki.ros.org/">wiki.ros.org</a></p><p><a href="http://www.autolabor.com.cn/book/ROSTutorials/">autolabor.com.cn</a>  </p><p><a href="http://www.autolabor.com.cn/book/ROSTutorials/di-7-zhang-ji-qi-ren-dao-822a28-fang-771f29/72-dao-hang-shi-xian/721-dao-hang-shi-xian-01-slam.html">autolabor.com.cn æ–‡æ¡£ - å¯¼èˆªå®ç°01_SLAMå»ºå›¾</a></p><p><a href="https://wiki.ros.org/hector_slam/Tutorials/SettingUpForYourRobot">How to set up hector_slam for your robot</a></p><p><a href="https://blog.csdn.net/cyx610481953/article/details/121728830">ç”¨è‡ªå·±çš„é›·è¾¾å’ŒIMUè¿è¡Œcartographer</a></p><p><a href="https://blog.csdn.net/qq_39502099/article/details/125969577">cartographeræ¥å…¥2Dé›·è¾¾laser+imuå®æ—¶å»ºå›¾</a></p><p><a href="https://blog.csdn.net/qq_46274948/article/details/127012313?spm=1001.2101.3001.6650.2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Ctr-2-127012313-blog-125969577.235%5Ev43%5Epc_blog_bottom_relevance_base9">Cartographerï¼ˆ3ï¼‰lidar+IMUå»ºå›¾</a></p><p><a href="https://blog.csdn.net/learning_tortosie/article/details/102581261">Ubuntuä¸­ç»ˆç«¯åˆ†å±å·¥å…·terminatorçš„å®‰è£…å’Œä½¿ç”¨</a></p><p><a href="https://answers.ros.org/question/388322/">How to troubleshoot Rviz2 not receiving map from cartographer?</a></p><p><a href="https://zhuanlan.zhihu.com/p/354723907">Cartographerå»ºå›¾å®æ“</a></p><p><a href="https://blog.csdn.net/qq_40216084/article/details/104599308">cartographerè·‘è‡ªå·±çš„æ•°æ®åŒ…-2då»ºå›¾ç¯‡ï¼ˆlaser+Imuå»ºå›¾ç¯‡ï¼‰</a></p><p><a href="https://blog.csdn.net/m0_48639942/article/details/129963434">Gmappingï¼šrvizä¸­mapæ˜¾ç¤ºno map received</a></p><p><a href="https://fishros.org.cn/forum/topic/2661/%E9%B1%BC%E5%93%A5%E9%B1%BC%E5%93%A5-rviz2%E5%8A%A0%E8%BD%BD%E5%9C%B0%E5%9B%BE%E6%97%B6%E6%97%A0%E6%B3%95%E5%87%BA%E7%8E%B0%E5%9C%B0%E5%9B%BE/11">é±¼å“¥é±¼å“¥ï¼Œrviz2åŠ è½½åœ°å›¾æ—¶æ— æ³•å‡ºç°åœ°å›¾</a></p><p><a href="https://www.cnblogs.com/CloudFlame/p/16531301.html">CloudFlameã€cartographer rosã€‘ä¹ï¼š å»ºå›¾å’Œå®šä½</a></p><p><a href="https://blog.csdn.net/qq_41821678/article/details/119632675">ã€1ã€‘Cartographerå»ºå›¾åçš„åŸå§‹å›¾åƒå¤„ç†ï¼ˆRvizæ’ä»¶ä¿®å›¾ï¼‰</a></p><p><a href="https://google-cartographer-ros.readthedocs.io/en/latest/your_bag.html">Cartographer ROS å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://blog.csdn.net/zkk9527/article/details/109096142">Cartographeré…ç½®æ–‡ä»¶å‚æ•°è§£é‡Š</a></p><p><a href="https://blog.csdn.net/qq_41821678/article/details/119115783">cartographerå»ºå›¾å‚æ•°æ³¨é‡ŠåŠé…ç½®ä¿®æ”¹</a></p><p><a href="https://blog.csdn.net/Cloud_H/article/details/125442783">ã€cartographer_rosã€‘å››ï¼š å‘å¸ƒå’Œè®¢é˜…é‡Œç¨‹è®¡odomä¿¡æ¯</a></p><p><a href="https://blog.csdn.net/qq_41821678/article/details/119841104">cartographer+navigationå®šä½åŠé‡Œç¨‹è®¡è°ƒè¯•å®éªŒè®°å½•ï¼ˆä¸€ï¼‰</a></p><p><a href="https://blog.csdn.net/Ai_Smith/article/details/107627904">ROSå°è½¦è®°å½•ç³»åˆ—ï¼ˆäºŒï¼‰IMUé‡‡é›†ã€è¿‡æ»¤ï¼Œä¸odomæ•°æ®èåˆï¼Œå‘å¸ƒæ–°çš„odomè¯é¢˜</a></p><p><a href="https://blog.csdn.net/qq_43112859/article/details/132879387">IMU+æ¿€å…‰é›·è¾¾èåˆä½¿ç”¨LIO-SAMå»ºå›¾å­¦ä¹ ç¬”è®°â€”â€”è¯¦ç»†ã€é•¿æ–‡ã€å¤šå›¾ã€å…¨æµç¨‹</a></p><p><a href="https://blog.csdn.net/qq_42108414/article/details/131517632">ã€SLAMå­¦ä¹ ã€‘è·å–IMUå’Œé›·è¾¾æ¶ˆæ¯å¹¶å‘å¸ƒ</a></p><p><a href="https://zhuanlan.zhihu.com/p/563264225">Cartographer 3Då®æ—¶å»ºå›¾æ•™ç¨‹(è¶…è¯¦ç»†) - é•­ç¥C16 + IMU ï¼ˆä¸€ï¼‰</a></p><p><a href="https://blog.csdn.net/qq_43961980/article/details/118113609">ROSåªä½¿ç”¨æ€å²šA1æ¿€å…‰é›·è¾¾è¿›è¡Œslamå»ºå›¾</a></p><p><a href="https://www.zhihu.com/question/51743133">cartographeræ„å›¾åå¦‚ä½•ä¿å­˜ï¼Œä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨ï¼Œé¿å…é‡å¤æ„å›¾ï¼Ÿ</a></p><p><a href="https://blog.csdn.net/u013834525/article/details/84622496">ROS Navigationä¹‹map_serverå®Œå…¨è¯¦è§£</a></p><p><a href="https://blog.csdn.net/wudong11/article/details/125028064#:~:text=.%2FCartographerSaveMap.sh,%E5%8D%B3%E5%8F%AF%E4%BF%9D%E5%AD%98%E5%9C%B0%E5%9B%BE%E3%80%82">åœ¨ROSä¸‹Cartographerä¿å­˜åœ°å›¾å¹¶åŠ è½½åœ°å›¾</a></p><p><a href="https://github.com/HaoQChen/map_server">map_server</a></p><p><a href="https://blog.csdn.net/qq_40216084/article/details/107784339">Python-pclçš„å®‰è£…</a></p><p><a href="https://blog.csdn.net/qq_40216084/article/details/107619250">æ¿€å…‰SLAMä¹‹NDTç®—æ³•ï¼ˆ2ï¼‰-å»ºå›¾</a></p><p><a href="https://github.com/ros2/cartographer">Cartographer GITHUB</a></p><p><a href="https://blog.csdn.net/qq_41821678/article/details/119139295">cartographerè·‘çº¯å®šä½çš„é…ç½®æ–‡ä»¶</a></p><p><a href="https://blog.csdn.net/zkk9527/article/details/116160508?spm=1001.2101.3001.6650.3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-116160508-blog-128287297.235%5Ev38%5Epc_relevant_anti_vip&utm_relevant_index=4">SLAMå­¦ä¹ ç¬”è®°ï¼ˆåä¹ï¼‰å¼€æº3Dæ¿€å…‰SLAMæ€»ç»“å¤§å…¨â€”â€”Cartographer3D,LOAM,Lego-LOAM,LIO-SAM,LVI-SAM,Livox-LOAMçš„åŸç†è§£æåŠåŒºåˆ«</a></p><p><a href="https://blog.csdn.net/HandsomeHong/article/details/122402395">CMakeåŸºç¡€æ•™ç¨‹ï¼ˆ24ï¼‰add_executableç”Ÿæˆç›®æ ‡å¯æ‰§è¡Œæ–‡ä»¶</a></p><p><a href="https://blog.csdn.net/qq_38880380/article/details/131406336">æœºå™¨äººå¼€å‘â€“Cartographerè¯¦ç»†ä»‹ç»</a></p><p><a href="https://blog.csdn.net/tiancailx/article/details/112133226">ä»é›¶å¼€å§‹æ­äºŒç»´æ¿€å…‰SLAM â€” æ …æ ¼åœ°å›¾çš„æ„å»º</a></p><p><a href="https://zhuanlan.zhihu.com/p/107607879">cartographerçš„ä¸€äº›å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰â€“è¿è¡Œç¤ºä¾‹æ•°æ®åŒ…</a></p><p><a href="https://blog.csdn.net/weixin_44362628/article/details/122496140">ã€è¸©å‘è®°å½•ã€‘Slam-Gmappingå»ºå›¾å¤±è´¥â€“å·²è§£å†³</a></p><p><a href="https://blog.csdn.net/scarecrow_sun/article/details/127978254">ROS2+cartorgrapher+æ¿€å…‰é›·è¾¾å»ºå›¾å¹¶ä¿å­˜</a></p><p><a href="https://blog.csdn.net/c417469898/article/details/117790918">cartographer trajectory_builder_2d.luaå‚æ•°å¤‡å¿˜</a></p><p><a href="https://blog.csdn.net/YGG12022/article/details/124044466">CartographeråŸºç¡€ä¹‹Scanã€Nodeã€Submapã€Trajectory</a></p><p><a href="https://blog.csdn.net/qq_28087491/article/details/109179151">ROSä¸­çš„setup.bash</a></p><p><a href="https://blog.csdn.net/AI_INDUSTRY/article/details/108833296">ROSè¿è¡Œgazeboæç¤ºâ€œprocess has dieâ€é—®é¢˜-å·²è§£å†³</a></p><p><a href="https://robotics.stackexchange.com/questions/60437/warning-no-map-received-occurs-when-trying-to-visualize-map-in-rviz">Warning â€œNo map receivedâ€ occurs, when trying to visualize map in rviz</a></p><p><a href="https://www.cnblogs.com/gary-guo/p/10607593.html">cartographerä¿å­˜äºŒç»´åœ°å›¾ï¼Œå®æµ‹æœ‰æ•ˆ</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> å¯¼èˆª </tag>
            
            <tag> è§†è§‰ç»„ </tag>
            
            <tag> RPLIDAR </tag>
            
            <tag> Cartographer </tag>
            
            <tag> RoboMaster </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ½è±¡ä»£æ•°</title>
      <link href="/2024/09/22/%E6%8A%BD%E8%B1%A1%E4%BB%A3%E6%95%B0/"/>
      <url>/2024/09/22/%E6%8A%BD%E8%B1%A1%E4%BB%A3%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸€æ—¶å…´èµ· å°è®°ä¸€ç•ª åæç½®</p></blockquote><h2 id="ç¬¬ä¸€ç« -ç¾¤è®º"><a href="#ç¬¬ä¸€ç« -ç¾¤è®º" class="headerlink" title="ç¬¬ä¸€ç«  ç¾¤è®º"></a>ç¬¬ä¸€ç«  ç¾¤è®º</h2><h3 id="1-1-åŸºæœ¬å®šç†"><a href="#1-1-åŸºæœ¬å®šç†" class="headerlink" title="1.1 åŸºæœ¬å®šç†"></a>1.1 åŸºæœ¬å®šç†</h3><blockquote><p>åœ¨æ•°å­¦ä¸­ï¼Œç¾¤ï¼ˆGroupï¼‰æ˜¯ä¸€ä¸ªæœ‰ç»“æ„çš„é›†åˆï¼Œè€Œç¾¤è®ºæ˜¯ç ”ç©¶è¿™äº›ç»“æ„çš„æ•°å­¦åˆ†æ”¯</p></blockquote><ul><li>ç¾¤æ˜¯ä¸€ä¸ªé›†åˆï¼Œç”¨ <strong>ğº</strong> æ¥è¡¨ç¤ºè¿™ä¸ªé›†åˆ,é›†åˆä¸­çš„å…ƒç´ å¯ä»¥æ˜¯æ•°å­—ã€çŸ©é˜µã€å‡½æ•°ã€å˜æ¢ç­‰</li><li>ç¾¤ä¸Šéœ€è¦å®šä¹‰ä¸€ä¸ªè¿ç®—ï¼ˆæ¯”å¦‚åŠ æ³•æˆ–ä¹˜æ³•ï¼‰ï¼Œé€šå¸¸æˆ‘ä»¬ç”¨ç¬¦å· <strong>*</strong> æ¥è¡¨ç¤ºè¿™ä¸ªè¿ç®—ã€‚</li></ul><p>:star: <strong>ä¸€äº›å®šä¹‰</strong></p><ul><li><p><strong>äºŒå…ƒè¿ç®—ï¼š</strong> è®¾ $C$ æ˜¯ä¸€ä¸ªé›†åˆï¼Œ$x$ æ˜¯ $C$ ä¸Šçš„ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹ä»»æ„ $a, p âˆˆ Cï¼Œ$è®° $x(a, p)$ ä¸º $x$ çš„ä½œç”¨ï¼Œå³ $a$ å’Œ $p$ çš„ç»„åˆã€‚æˆ‘ä»¬é€šå¸¸å†™ä½œ $a * p$</p></li><li><p><strong>ç»“åˆå¾‹ï¼š</strong> å¯¹ä»»æ„ $a, p, q âˆˆ C ï¼Œ$ å¦‚æœ a * (p * q) &#x3D; (a * p) * qï¼Œåˆ™ç§°è¿ç®— * åœ¨ C ä¸Šæ»¡è¶³ç»“åˆå¾‹ã€‚$<br>äº¤æ¢å¾‹ï¼šå¯¹ä»»æ„ a, p âˆˆ Cï¼Œå¦‚æœ a * p &#x3D; p * aï¼Œåˆ™ç§°è¿ç®— * åœ¨ C ä¸Šæ»¡è¶³äº¤æ¢å¾‹</p></li><li><p><strong>å•ä½å…ƒï¼š</strong> å¯¹äº C ä¸­çš„å…ƒç´  eï¼Œå¦‚æœå¯¹ä»»æ„ a âˆˆ Cï¼Œéƒ½æœ‰ a * e &#x3D; e * a &#x3D; aï¼Œåˆ™ç§° e æ˜¯ C ä¸Šçš„å•ä½å…ƒ</p></li><li><p><strong>é€†å…ƒï¼š</strong> å¯¹äº C ä¸­çš„å…ƒç´  aï¼Œå¦‚æœå­˜åœ¨ b âˆˆ Cï¼Œä½¿å¾— $a * b &#x3D; b * a &#x3D; e$ ï¼Œåˆ™ç§° b æ˜¯ a çš„é€†å…ƒ</p></li></ul><blockquote><p>åŠ æ³• (+) æ˜¯æ•´æ•°é›† Z ä¸Šçš„äº¤æ¢è¿ç®—ã€‚<br>ä¹˜æ³• (*) æ˜¯æ•´æ•°é›† Z ä¸Šçš„äº¤æ¢è¿ç®—ã€‚<br>å‡æ³• (-) ä¸æ˜¯æ•´æ•°é›† Z ä¸Šçš„è¿ç®—ã€‚</p></blockquote><p><strong>ç¾¤å¿…é¡»æ»¡è¶³ä»¥ä¸‹å››ä¸ªåŸºæœ¬å…¬ç†ï¼š</strong></p><ul><li><p><strong>å°é—­æ€§ï¼ˆClosureï¼‰ï¼š</strong> å¯¹é›†åˆ ğº ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´  a å’Œ ğ‘ è¿ç®— ğ‘âˆ—ğ‘ ä»åœ¨ $G$ ä¸­</p><p>å¯¹äºæ•´æ•°é›†åˆ ğ‘ ä¸­ï¼Œä»»æ„ä¸¤ä¸ªæ•´æ•°ç›¸åŠ çš„ç»“æœä»æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p></li><li><p><strong>ç»“åˆå¾‹ï¼ˆAssociativityï¼‰ï¼š</strong> å¯¹ä»»æ„  $ ğ‘ , ğ‘ , ğ‘ âˆˆ G $ ï¼Œæœ‰ $(aâˆ—b)âˆ—c&#x3D;aâˆ—(bâˆ—c)$ ã€‚</p></li><li><p><strong>å•ä½å…ƒï¼ˆIdentity elementï¼‰ï¼š</strong>  å•ä½å…ƒ  ğ‘’ ï¼Œæ»¡è¶³ $ğ‘’âˆ—ğ‘&#x3D;ğ‘âˆ—ğ‘’&#x3D;ğ‘$<br>åœ¨æ•´æ•°åŠ æ³•ä¸‹ï¼Œ0 æ˜¯å•ä½å…ƒ æœ‰ $0+a&#x3D;a+0&#x3D;a$</p></li><li><p><strong>é€†å…ƒï¼ˆInverse elementï¼‰ï¼š</strong> å¯¹æ¯ä¸ª aâˆˆGï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªå…ƒç´  $bâˆˆG$ ï¼Œä½¿å¾— $aâˆ—b&#x3D;bâˆ—a&#x3D;e$ ï¼Œå³ b æ˜¯ ğ‘ çš„é€†å…ƒã€‚</p><p>å¯¹äºæ•´æ•°åŠ æ³•ï¼Œæ¯ä¸ªæ•° a éƒ½æœ‰ä¸€ä¸ªé€†å…ƒ âˆ’aï¼Œå› ä¸º a+(âˆ’a)&#x3D;0ã€‚</p></li></ul><p><strong>:star: é‡è¦å‘½é¢˜</strong></p><ol><li>ç¾¤çš„å•ä½å…ƒæ˜¯å”¯ä¸€çš„ã€‚</li><li>æ¯ä¸ªå…ƒç´ çš„é€†å…ƒæ˜¯å”¯ä¸€çš„ã€‚</li><li>é€†å…ƒæ»¡è¶³ç»“åˆå¾‹ï¼šå¯¹äºä»»æ„ a âˆˆ Gï¼Œéƒ½æœ‰ $( a^{-1} )^{-1} &#x3D; a$ ã€‚</li><li>é€†å…ƒæ»¡è¶³æ¶ˆå»å¾‹ï¼šå¯¹äºä»»æ„ $a, b, c âˆˆ G$ ï¼Œå¦‚æœ $a * b &#x3D; a * c$ ï¼Œåˆ™ b &#x3D; cï¼›å¦‚æœ $b * a &#x3D; c * a$ ï¼Œåˆ™ $b &#x3D; c$ ã€‚</li><li>é›†åˆä¸­å…ƒç´ çš„ä¹˜ç§¯ä¸æ‹¬å·æ— å…³ï¼ˆç§°ä¸ºå¹¿ä¹‰ç»“åˆå¾‹ï¼‰ã€‚</li><li>å¯¹äºä»»æ„ç¾¤ G å’Œ a, b âˆˆ Gï¼Œæ–¹ç¨‹ $a * x &#x3D; b å’Œ x * b &#x3D; a$ æœ‰å”¯ä¸€è§£ã€‚</li><li>å·¦æ¶ˆå»å¾‹å’Œå³æ¶ˆå»å¾‹æˆç«‹ï¼Œå³å¦‚æœ $a * x &#x3D; a * y$ ï¼Œåˆ™ $x &#x3D; y$ï¼›å¦‚æœ $x * b &#x3D; y * b$ ï¼Œåˆ™ $x &#x3D; y$ ã€‚<br>å®šä¹‰</li></ol><p><strong>å…ƒç´ çš„é˜¶ï¼š</strong> å¯¹äºç¾¤ G ä¸­çš„å…ƒç´  aï¼Œå¦‚æœå­˜åœ¨æœ€å°çš„æ­£æ•´æ•° nï¼Œä½¿å¾— $a^n &#x3D; e$ ï¼Œåˆ™ç§° n æ˜¯ a çš„é˜¶ï¼Œè®°ä½œ $|a|$ ã€‚å¦‚æœ a çš„ä»»ä½•æ­£æ•´æ•°æ¬¡å¹‚éƒ½ä¸æ˜¯å•ä½å…ƒï¼Œåˆ™ç§° $|a| &#x3D; âˆ$</p><p><strong>å¾ªç¯å­ç¾¤ï¼š</strong> ç”± G ä¸­å…ƒç´ çš„å¹‚ç”Ÿæˆçš„å­ç¾¤ç§°ä¸ºå¾ªç¯å­ç¾¤ã€‚</p><blockquote><p>å•ä½å…ƒçš„é˜¶æ˜¯ 1ã€‚<br>åœ¨åŠ æ³•ç¾¤ Z, Q, R, C ä¸­ï¼Œæ¯ä¸ªéé›¶å…ƒç´ çš„é˜¶éƒ½æ˜¯æ— ç©·å¤§ã€‚<br>åœ¨ä¹˜æ³•ç¾¤ Z-{0}, Q-{0} ä¸­ï¼Œ-1 çš„é˜¶æ˜¯ 2ï¼Œå…¶ä»–éå•ä½å…ƒçš„é˜¶éƒ½æ˜¯æ— ç©·å¤§ã€‚</p></blockquote><p><strong>ä¹˜æ³•è¡¨ï¼š</strong> å¯¹äºæœ‰é™ç¾¤ Gï¼Œå…¶ä¹˜æ³•è¡¨æ˜¯ä¸€ä¸ªæ–¹é˜µï¼Œå…¶å¯¹è§’çº¿ä¸Šçš„å…ƒç´ æ˜¯å•ä½å…ƒï¼Œå…¶ä»–å…ƒç´ æ˜¯ G ä¸­å…ƒç´ çš„ä¹˜ç§¯ã€‚</p><h3 id="1-2-äºŒé¢ä½“ç¾¤"><a href="#1-2-äºŒé¢ä½“ç¾¤" class="headerlink" title="1.2 äºŒé¢ä½“ç¾¤"></a>1.2 äºŒé¢ä½“ç¾¤</h3><p>ç¾¤ä½œç”¨æè¿°äº†ç¾¤å¦‚ä½•ä½œç”¨åœ¨æŸä¸ªé›†åˆä¸Šã€‚è®¾ G æ˜¯ä¸€ä¸ªç¾¤ï¼ŒX æ˜¯ä¸€é›†åˆã€‚å¦‚æœç¾¤ G çš„æ¯ä¸ªå…ƒç´ éƒ½èƒ½â€œä½œç”¨â€åœ¨ X ä¸Šï¼Œä½¿å¾— G çš„ç¾¤è¿ç®—å’Œé›†åˆä¸Šçš„æ“ä½œç›¸å®¹ï¼Œæˆ‘ä»¬å°±è¯´ G ä½œç”¨åœ¨é›†åˆ X ä¸Šã€‚</p><p>è€Œå¯¹äºŒé¢ä½“ç¾¤æ˜¯ä¸€ç±»é‡è¦çš„ç¾¤ï¼Œå…¶å…ƒç´ æ˜¯å…³äºå‡ ä½•å¯¹è±¡çš„å¯¹ç§°æ€§ã€‚</p><p> <strong>æœ‰å¦‚ä¸‹å®šä¹‰ï¼š</strong></p><p>Dihedral groups æ˜¯ä¸€ç±»é‡è¦çš„ç¾¤ï¼Œå…¶å…ƒç´ æ˜¯å‡ ä½•å¯¹è±¡çš„å¯¹ç§°æ€§ã€‚è¿™äº›å‡ ä½•å¯¹è±¡ä¸­æœ€ç®€å•çš„ä¸€ç±»æ˜¯æ­£å¤šè¾¹å½¢</p><p>å¯¹äºä¸€ä¸ªæ­£ n è¾¹å½¢ï¼Œå…¶å¯¹ç§°æ€§æ˜¯æŒ‡èƒ½å¤Ÿå°†è¿™ä¸ªå¤šè¾¹å½¢é€šè¿‡æŸç§æ–¹å¼ç§»åŠ¨åˆ°åŸæ¥çš„ä½ç½®ï¼Œå¹¶è¦†ç›–å®ƒæœ¬èº«çš„åˆšæ€§è¿åŠ¨ã€‚è¿™äº›å¯¹ç§°æ€§å¯ä»¥è¡¨ç¤ºä¸º n ä¸ªé¡¶ç‚¹çš„æ’åˆ—ï¼Œå³ä¸€ä¸ªå°† {1, 2, â€¦, n} æ˜ å°„åˆ°å…¶è‡ªèº«çš„åŒå°„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªæ­£æ–¹å½¢ï¼Œå…¶å¯¹ç§°æ€§åŒ…æ‹¬æ—‹è½¬å’Œåå°„ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ’åˆ—æ¥è¡¨ç¤ºï¼š</p><ul><li>æ—‹è½¬ 90Â°: (1234)</li><li>æ—‹è½¬ 180Â°: (13)(24)</li><li>æ—‹è½¬ 270Â°: (1432)</li><li>åå°„å…³äºå¯¹è§’çº¿ï¼š (1324), (2413)</li></ul><p>æˆ‘ä»¬å¯ä»¥å°†è¿™äº›å¯¹ç§°æ€§ç»„åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªç¾¤ï¼Œç§°ä¸ºäºŒé¢ä½“ç¾¤ Dnï¼Œå…¶ä¸­ï¼ŒDn çš„ä¸­å¿ƒæ˜¯ä¸€ä¸ªåŒ…å«å•ä½å…ƒå’Œ $r^n&#x2F;2$ çš„å­ç¾¤ã€‚Dn çš„å…ƒç´ æ˜¯æ‰€æœ‰ n ä¸ªé¡¶ç‚¹çš„æ’åˆ—ï¼Œå…¶äºŒå…ƒè¿ç®—å®šä¹‰ä¸ºæ’åˆ—çš„å¤åˆã€‚Dn çš„é˜¶æ•°ä¸º 2nï¼Œå³ n ä¸ªæ—‹è½¬å’Œ n ä¸ªåå°„ã€‚</p><p><strong>ç”Ÿæˆå…ƒå’Œå…³ç³»</strong></p><p>ä¸ºäº†ç®€åŒ–è®¡ç®—å’Œç†è§£äºŒé¢ä½“ç¾¤çš„ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç”Ÿæˆå…ƒå’Œå…³ç³»æ¥è¡¨ç¤º Dnã€‚Dn çš„ç”Ÿæˆå…ƒé€šå¸¸é€‰æ‹©æ—‹è½¬ r (é¡ºæ—¶é’ˆæ—‹è½¬ $2Ï€&#x2F;n$ å¼§åº¦) å’Œåå°„ s (å…³äºç»è¿‡é¡¶ç‚¹ 1 å’Œä¸­å¿ƒçš„å¯¹ç§°è½´çš„åå°„)ã€‚Dn çš„å…³ç³»å¦‚ä¸‹ï¼š<br>$r^n &#x3D; 1$ (æ—‹è½¬ n æ¬¡å›åˆ°åŸä½)<br>$s^2 &#x3D; 1$ (åå°„ä¸¤æ¬¡å›åˆ°åŸä½)<br>$rs &#x3D; sr^{-1}$ (æ—‹è½¬å’Œåå°„çš„é¡ºåºå¯ä»¥äº¤æ¢ï¼Œä½†æ—‹è½¬æ¬¡æ•°è¦å‡åŠ)</p><p><strong>æ€§è´¨</strong></p><ul><li>é˜¶æ•°ä¸º 2n: Dn çš„é˜¶æ•°æ˜¯æ—‹è½¬å’Œåå°„çš„æ•°é‡ä¹‹å’Œã€‚</li><li>éäº¤æ¢æ€§: æ—‹è½¬å’Œåå°„ä¸æ»¡è¶³äº¤æ¢å¾‹ï¼Œä¾‹å¦‚ rs â‰  srã€‚</li><li>å¾ªç¯å­ç¾¤: å¯¹äºæ¯ä¸ª nï¼ŒDn éƒ½åŒ…å«ä¸€ä¸ªå¾ªç¯å­ç¾¤ï¼Œç”± r çš„å¹‚æ¬¡ç»„æˆã€‚</li></ul><p><strong>è§†è§‰ç®—æ³•ä¸­å¯èƒ½çš„ç¾¤è®ºåº”ç”¨</strong></p><blockquote><p>ä»¥ä¸‹èµ„æ–™æ¥æºäºç½‘ç»œ</p></blockquote><p>ç¾¤è®ºç‰¹åˆ«åœ¨å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­æœ‰å¹¿æ³›åº”ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å›¾åƒå¯¹ç§°æ€§ã€æ—‹è½¬ã€å¹³ç§»ç­‰å‡ ä½•å˜æ¢çš„å¤„ç†ä¸­ã€‚</p><ul><li><p><strong>å›¾åƒå˜æ¢:</strong> åœ¨è§†è§‰ç®—æ³•ä¸­ï¼Œå›¾åƒå¯èƒ½éœ€è¦æ‰§è¡Œæ—‹è½¬ã€ç¼©æ”¾æˆ–å¹³ç§»ç­‰æ“ä½œã€‚å¯ä»¥ç”¨ç¾¤æ¥æè¿°è¿™äº›å˜æ¢ã€‚ä¾‹å¦‚ï¼Œæ—‹è½¬å¯ä»¥ç”¨ä¸€ä¸ªç‰¹æ®Šçš„çŸ©é˜µç¾¤æ¥è¡¨ç¤ºã€‚(çŸ©é˜µç¾¤åœ¨åç»­ç« èŠ‚ä¼šä»‹ç»å­¦ä¹ )</p></li><li><p><strong>å¯¹ç§°æ€§æ£€æµ‹:</strong> å¾ˆå¤šè§†è§‰é—®é¢˜æ¶‰åŠæ£€æµ‹ç‰©ä½“çš„å¯¹ç§°æ€§ã€‚å¯¹ç§°ç¾¤ï¼ˆå¦‚äºŒé¢ä½“ç¾¤ï¼‰å¯ä»¥å¸®åŠ©æè¿°ç‰©ä½“çš„å¯¹ç§°å˜æ¢ï¼Œä½¿å¾—ç®—æ³•èƒ½è¯†åˆ«å…·æœ‰å¯¹ç§°æ€§çš„å¯¹è±¡ã€‚</p></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SMART</title>
      <link href="/2024/09/22/SMART/"/>
      <url>/2024/09/22/SMART/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ­¤æ–‡ç« è®°è½½é›¶ç¢çŸ¥è¯†,æŠ¥é”™ï¼Œä¾›æŸ¥é˜…</p></blockquote><h2 id="shæ–‡ä»¶æƒé™ä¸å¤Ÿ"><a href="#shæ–‡ä»¶æƒé™ä¸å¤Ÿ" class="headerlink" title=".shæ–‡ä»¶æƒé™ä¸å¤Ÿ"></a>.shæ–‡ä»¶æƒé™ä¸å¤Ÿ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x &lt;filename&gt;.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">chmod</span> +x start.sh</span></span><br></pre></td></tr></table></figure><h2 id="ä¸­è‹±æ–‡ç¬¦å·åˆ‡æ¢"><a href="#ä¸­è‹±æ–‡ç¬¦å·åˆ‡æ¢" class="headerlink" title="ä¸­è‹±æ–‡ç¬¦å·åˆ‡æ¢"></a>ä¸­è‹±æ–‡ç¬¦å·åˆ‡æ¢</h2><p>windowsè‡ªå¸¦è¾“å…¥æ³•,è¿›å…¥è®¾ç½®å¼€å¯ä¸­è‹±æ–‡æ ‡ç‚¹ç¬¦å·åˆ‡æ¢åŠŸèƒ½,é»˜è®¤ä¸º <strong>ctrl+.</strong> ctrlåŠ å¥å·,ä¾¿å¯å®ç°ä¸­æ–‡è¾“å…¥æ³•çŠ¶æ€ä¸‹,è¾“å‡ºè‹±æ–‡å­—ç¬¦</p><h2 id="source-setup-bash"><a href="#source-setup-bash" class="headerlink" title="source &#x2F;setup.bash"></a>source &#x2F;setup.bash</h2><blockquote><p><a href="https://blog.csdn.net/qq_28087491/article/details/109179151">CSDN-ROSä¸­çš„setup.bash</a></p></blockquote><p>åœ¨åˆ›å»ºäº†ROSçš„workspaceåï¼Œéœ€è¦å°†workspaceä¸­çš„setup.bashæ–‡ä»¶å†™å…¥~&#x2F;.bashrc æ–‡ä»¶ä¸­ï¼Œè®©å…¶å¯åŠ¨ï¼Œå°±åƒè¿™ä¸ªæ ·å­</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /opt/ros/melodic/setup.bash</span><br></pre></td></tr></table></figure><p>å†™å…¥å’Œæ‰“å¼€æ–¹å¼ï¼ˆvimæ‰“å¼€ä¹Ÿé˜”ä»¥ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br></pre></td></tr></table></figure><p>è¿™å¥è¯çš„ç›®çš„å°±æ˜¯åœ¨å¼€æ–°çš„terminalçš„æ—¶å€™ï¼Œè¿è¡Œè¿™ä¸ªsetup.bashï¼Œè€Œè¿™ä¸ªsetup.bashçš„ä½œç”¨æ˜¯è®©ä¸€äº›ROS* å¼€å¤´çš„å‘½ä»¤å¯ä»¥ä½¿ç”¨ã€‚</p><p>åœ¨å·¥ä½œç©ºé—´çš„develæ–‡ä»¶å¤¹ä¸­å­˜åœ¨å‡ ä¸ªsetup.*shå½¢å¼çš„ç¯å¢ƒå˜é‡è®¾ç½®è„šæœ¬ã€‚ä½¿ç”¨sourceå‘½ä»¤è¿è¡Œè¿™äº›è„šæœ¬æ–‡ä»¶ï¼Œåˆ™å·¥ä½œç©ºé—´çš„ç¯å¢ƒå˜é‡è®¾ç½®å¯ä»¥ç”Ÿæ•ˆï¼ˆå¦‚å¯ä»¥æ‰¾åˆ°è¯¥å·¥ä½œç©ºé—´å†…çš„é¡¹ç›®ï¼‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source devel/setup.bash</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç¡®ä¿ç¯å¢ƒå˜é‡å·²ç»ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $ROS_PACKAGE_PATH</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‰“å°çš„è·¯å¾„ä¸­å·²ç»åŒ…å«å½“å‰å·¥ä½œç©ºé—´çš„è·¯å¾„ï¼Œåˆ™è¯´æ˜ç¯å¢ƒå˜é‡è®¾ç½®æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/yinji/catkin_ws/src:/opt/ros/melodic/share</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰ç”¨sourceè¿è¡Œè¯¥è„šæœ¬æ—¶ï¼Œæ‰“å°çš„è·¯å¾„ä¸º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/ros/melodic/share</span><br></pre></td></tr></table></figure><p>æœ‰æ—¶å€™å¯é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:~/rm/rplidar_c1/install</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨sourceå‘½ä»¤è®¾ç½®çš„ç¯å¢ƒå˜é‡åªèƒ½åœ¨å½“å‰ç»ˆç«¯ä¸­ç”Ÿæ•ˆï¼Œå¦‚æœå¸Œæœ›ç¯å¢ƒå˜é‡åœ¨æ‰€æœ‰ç»ˆç«¯ä¸­æœ‰æ•ˆï¼Œåˆ™éœ€è¦åœ¨ç»ˆç«¯çš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ç¯å¢ƒå˜é‡çš„è®¾ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo â€œsource /WORKSPACE/devel/setup.bashâ€&gt;&gt;~/.bashrc</span><br></pre></td></tr></table></figure><p>è¯·ä½¿ç”¨å·¥ä½œç©ºé—´è·¯å¾„æ›¿ä»£ WORKSPACEã€‚ï¼ˆå°†source &#x2F;catkin_ws&#x2F;devel&#x2F;setup.bashå‘½ä»¤æ”¾å…¥.bashrcæ–‡ä»¶å†…ï¼‰</p><h2 id="åŠŸèƒ½åŒ…çš„æ„å»º"><a href="#åŠŸèƒ½åŒ…çš„æ„å»º" class="headerlink" title="åŠŸèƒ½åŒ…çš„æ„å»º"></a>åŠŸèƒ½åŒ…çš„æ„å»º</h2><blockquote><p><a href="https://blog.csdn.net/wangmj_hdu/article/details/119985553">[ROS] æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ä»æ— åˆ°æœ‰æ„å»ºä¸€ä¸ªROSè½¯ä»¶åŒ…</a></p></blockquote><h2 id="æŸ¥çœ‹-æ€æ­»è¿›ç¨‹ps"><a href="#æŸ¥çœ‹-æ€æ­»è¿›ç¨‹ps" class="headerlink" title="æŸ¥çœ‹&#x2F;æ€æ­»è¿›ç¨‹ps"></a>æŸ¥çœ‹&#x2F;æ€æ­»è¿›ç¨‹ps</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef #æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹(ä¸é™åˆ¶æ­¤ç»ˆç«¯)</span><br></pre></td></tr></table></figure><blockquote><p>é€‰é¡¹-rè¡¨ç¤ºåªæ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„ç¨‹åº<br>é€‰é¡¹-aè¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç»ˆç«¯ä¸‹çš„æ‰€æœ‰ç¨‹åº</p></blockquote><p>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | less</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grey rviz2 #ç”¨rviz2è¿›ç¨‹ä¸¾ä¾‹</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å¯¹åº”è¿›ç¨‹çš„PID,ç”¨killæŒ‡ä»¤æ€æ­»è¿›ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill &lt;PID&gt;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 &lt;PID&gt; #å¼ºåˆ¶æ€æ­»</span><br></pre></td></tr></table></figure><h2 id="rviz2-x11-waylandä¸å…¼å®¹"><a href="#rviz2-x11-waylandä¸å…¼å®¹" class="headerlink" title="rviz2-x11-waylandä¸å…¼å®¹"></a>rviz2-x11-waylandä¸å…¼å®¹</h2><blockquote><p>rviz2ä¸å…¼å®¹wayland,rvizå’Œgazeboå¿…é¡»åœ¨X11&#x2F;Xorgæ‰èƒ½å¯åŠ¨ï¼ˆåŸå› ä¸ºWaylandåªæ”¯æŒGLESå¹¶ä¸”rvizå’Œgazeboç”¨çš„åº“ä¸æ”¯æŒGLESï¼‰ã€‚å› æ­¤å¿…é¡»è¦ç”¨XWaylandæ‰èƒ½å¯åŠ¨,åšä¸»ä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰ä¸€å¤©æ›´æ–°è½¯ä»¶åŒ…åå°±ä¸èƒ½ä½¿ç”¨rviz2äº†,å‡ºç°å¦‚ä¸‹æŠ¥é”™</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(rm) whaltze@Ubuntu:~/rm/sllidar$ ros2 launch sllidar_ros2 view_sllidar_c1_launch.py </span><br><span class="line">[INFO] [launch]: All log files can be found below /home/whaltze/.ros/log/2024-10-12-17-29-29-395549-Ubuntu-437180</span><br><span class="line">[INFO] [launch]: Default logging verbosity is set to INFO</span><br><span class="line">[INFO] [sllidar_node-1]: process started with pid [437181]</span><br><span class="line">[INFO] [rviz2-2]: process started with pid [437183]</span><br><span class="line">[rviz2-2] Warning: Ignoring XDG_SESSION_TYPE=wayland on Gnome. Use QT_QPA_PLATFORM=wayland to run on Wayland anyway.</span><br></pre></td></tr></table></figure><p>ç»æŸ¥è¯¢,å½“å‰ä¼šè¯ç±»å‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $XDG_SESSION_TYPE</span><br></pre></td></tr></table></figure><p>å‘ç°è¾“å‡ºwayland,æŸ¥è¯¢GPT,æˆ‘å®‰è£…äº†wayland QTæ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install qtwayland5</span><br></pre></td></tr></table></figure><p>å‘ç°æ²¡ä»€ä¹ˆç”¨å¤„</p><p>ä¹‹åæˆ‘åˆåœ¨~&#x2F;.bashrcä¸­åŠ å…¥x11</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export QT_QPA_PLATFORM=xcb &gt;&gt; ~/.bashrc</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>æˆåŠŸè§£å†³,ä½†åœ¨åæ¥å­¦ä¹ ä¸­äº†è§£åˆ°ç”¨ export QT_QPA_PLATFORM&#x3D;xcbï¼Œè¿™æ ·ä¼šå¯¼è‡´æœ¬æ¥æ”¯æŒWaylandçš„Appå¼ºåˆ¶ä½¿ç”¨XWaylandå¯¼è‡´æ€§èƒ½æˆ–è€…æ•ˆæœå‡ºç°å¼‚å¸¸,æ‰€ä»¥æˆ‘æ›´æ”¹äº†~&#x2F;.bashrcä¸­çš„é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QT_QPA_PLATFORM=xcb gazebo</span><br><span class="line">QT_QPA_PLATFORM=xcb rviz2</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¤§æ¦‚ç‡å°±å¯ä»¥äº†,åšä¸»æœ¬äººä¿®æ”¹åè¿è¡ŒcartoåŠŸèƒ½åŒ…å†è¿è¡Œé›·è¾¾åŠŸèƒ½åŒ…æ‰“å¼€rviz2æ—¶å€™ä¼šwarning,ä¸€ç›´ä¸è¡Œ,æ‰¾ä¸åˆ°åŸå› ,æœ€åæ˜¯é‡å¯è§£å†³äº†(ç¬‘),ä½†æ˜¯å¼€å¯åé›·è¾¾ç»ˆç«¯ä»ç„¶æœ‰warning,ä½†ä¸å½±å“åé¢è°ƒè¯•äº†</p><h2 id="cartographer-ros-msgs-ç¬¦å·è¿æ¥åˆ›å»ºå¤±è´¥"><a href="#cartographer-ros-msgs-ç¬¦å·è¿æ¥åˆ›å»ºå¤±è´¥" class="headerlink" title="cartographer_ros_msgs ç¬¦å·è¿æ¥åˆ›å»ºå¤±è´¥"></a>cartographer_ros_msgs ç¬¦å·è¿æ¥åˆ›å»ºå¤±è´¥</h2><p>colcon buildåå‡ºç°å¦‚ä¸‹æŠ¥é”™</p><p><img src="/./images/SMART/%E6%8A%A5%E9%94%992.png" alt=" "></p><p>è¿›å…¥ç›¸å…³å·¥ä½œç©ºé—´æ–‡ä»¶&#x2F;buildä¸‹<br>æŠŠament_cmake_pythonæ•´ä¸ªæ–‡ä»¶å¤¹åˆ é™¤åå†colcon build<br>å°±å¯ä»¥å•¦</p><h2 id="VMwareè™šæ‹Ÿæœº-ç½‘ç»œä¸æ˜¾ç¤ºæœ‰çº¿è¿æ¥"><a href="#VMwareè™šæ‹Ÿæœº-ç½‘ç»œä¸æ˜¾ç¤ºæœ‰çº¿è¿æ¥" class="headerlink" title="VMwareè™šæ‹Ÿæœº ç½‘ç»œä¸æ˜¾ç¤ºæœ‰çº¿è¿æ¥"></a>VMwareè™šæ‹Ÿæœº ç½‘ç»œä¸æ˜¾ç¤ºæœ‰çº¿è¿æ¥</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo service NetworkManager stop</span><br><span class="line">sudo rm /var/lib/NetworkManager/NetworkManager.state</span><br><span class="line">sudo service NetworkManager start</span><br></pre></td></tr></table></figure><h2 id="åœ¨ubuntuå®‰è£…edge"><a href="#åœ¨ubuntuå®‰è£…edge" class="headerlink" title="åœ¨ubuntuå®‰è£…edge"></a>åœ¨ubuntuå®‰è£…edge</h2><p><a href="https://www.sysgeek.cn/ubuntu-install-microsoft-edge/">å¦‚ä½•åœ¨ Ubuntu ä¸Šå®‰è£… Microsoft Edge æµè§ˆå™¨</a></p><p>ä» Ubuntu ä¸­å¸è½½ Microsoft Edge æµè§ˆå™¨</p><p>æ‰§è¡Œå‘½ä»¤å¸è½½ Edge</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove microsoft-edge-stable</span><br></pre></td></tr></table></figure><p>åˆ é™¤ GPG å¯†é’¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf /usr/share/keyrings/microsoft-edge.gpg</span><br></pre></td></tr></table></figure><p>ä»ç³»ç»Ÿä¸­ç§»é™¤ Microsoft Edge çš„è½¯ä»¶æºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm /etc/apt/sources.list.d/microsoft-edge.list</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-ä»£ç†-Clone-Github"><a href="#ä½¿ç”¨-ä»£ç†-Clone-Github" class="headerlink" title="ä½¿ç”¨ ä»£ç† Clone Github"></a>ä½¿ç”¨ ä»£ç† Clone Github</h2><p><a href="https://flowus.cn/lihanchen/share/c2e8bab3-4be9-437b-ab2a-50bc11971c6d">åŒ—æç†Š-é™ˆä½¬åšå®¢-ä½¿ç”¨ä»£ç†Clone Github</a></p><h2 id="VScode-æŠ˜å æ‰€æœ‰ä»£ç å—"><a href="#VScode-æŠ˜å æ‰€æœ‰ä»£ç å—" class="headerlink" title="VScode æŠ˜å æ‰€æœ‰ä»£ç å—"></a>VScode æŠ˜å æ‰€æœ‰ä»£ç å—</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crtl + K + 0</span><br></pre></td></tr></table></figure><p>å±•å¼€<br><code>ctrl + K + J</code></p><h2 id="åœ¨VScodeç›´æ¥ç²˜è´´å›¾ç‰‡-ç¼–å†™markdown"><a href="#åœ¨VScodeç›´æ¥ç²˜è´´å›¾ç‰‡-ç¼–å†™markdown" class="headerlink" title="åœ¨VScodeç›´æ¥ç²˜è´´å›¾ç‰‡ ç¼–å†™markdown"></a>åœ¨VScodeç›´æ¥ç²˜è´´å›¾ç‰‡ ç¼–å†™markdown</h2><p><a href="https://blog.csdn.net/seek97/article/details/139220331#:~:text=%E5%9C%A8VS%20Code%E4%B8%AD%EF%BC%8C%E6%8C%89%E4%B8%8B%20Ctrl%20%2B%20%2C%EF%BC%8C%E6%89%93%E5%BC%80%E8%AE%BE%E7%BD%AE%E7%95%8C%E9%9D%A2%E3%80%82%20%E6%96%B0%E5%A2%9E%E9%85%8D%E7%BD%AE%E9%A1%B9%20key%20%E4%B8%BA,%E4%BD%A0%E7%9A%84%E7%9B%AE%E6%A0%87%E8%B7%AF%E5%BE%84%E3%80%82%20%E6%AF%94%E5%A6%82%E6%88%91%E6%83%B3%E5%B0%86%E5%9B%BE%E7%89%87%E6%94%BE%E5%9C%A8%20photo%E7%9B%AE%E5%BD%95%E4%B8%8B%20markdown%E6%96%87%E4%BB%B6%E5%90%8C%E5%90%8D%E7%9A%84%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E9%82%A3%E4%B9%88%E6%88%91%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%E4%B8%BAphoto%E3%80%82%20%E4%BF%9D%E5%AD%98%E8%AE%BE%E7%BD%AE%E5%8D%B3%E5%8F%AF%E3%80%82%20%EF%BC%881%EF%BC%89%E6%B3%A8%E6%84%8F%E4%B8%8D%E8%A6%81%E5%8A%A0%22%22%20%EF%BC%882%EF%BC%89%E4%B8%8D%E7%94%A8%E9%87%8D%E5%90%AF%E4%B9%9F%E4%BC%9A%E7%94%9F%E6%95%88%E3%80%82%20%E6%96%87%E7%AB%A0%E6%B5%8F%E8%A7%88%E9%98%85%E8%AF%BB1.4k%E6%AC%A1%EF%BC%8C%E7%82%B9%E8%B5%9E5%E6%AC%A1%EF%BC%8C%E6%94%B6%E8%97%8F8%E6%AC%A1%E3%80%82">å¦‚ä½•è®¾ç½®VS Code ä¸­ Markdownç²˜è´´å›¾ç‰‡çš„ä½ç½®</a></p><p>è®¾ç½®æœç´¢ <code>maekdown.copy</code></p><p>ä¿®æ”¹å¦‚ä¸‹</p><p><img src="/images/SMART/image.png"></p><h2 id="VScode-åªèƒ½æ‰“å¼€å•ä¸ªé€‰é¡¹å¡é¡µé¢"><a href="#VScode-åªèƒ½æ‰“å¼€å•ä¸ªé€‰é¡¹å¡é¡µé¢" class="headerlink" title="VScode åªèƒ½æ‰“å¼€å•ä¸ªé€‰é¡¹å¡é¡µé¢"></a>VScode åªèƒ½æ‰“å¼€å•ä¸ªé€‰é¡¹å¡é¡µé¢</h2><p><img src="/images/SMART/image-1.png"></p><h2 id="åšå®¢å†…å®¹ç¼ºå¤±"><a href="#åšå®¢å†…å®¹ç¼ºå¤±" class="headerlink" title="åšå®¢å†…å®¹ç¼ºå¤±"></a>åšå®¢å†…å®¹ç¼ºå¤±</h2><p>ä»Šå¤©æäº¤ UbuntuåŒç³»ç»Ÿåšå®¢çš„æ—¶å€™ å¿½ç„¶å‡ºç°å¤§æ®µå†…å®¹ç¼ºå¤±</p><p>è¿›å…¥ github ä»“åº“ æºç æŸ¥çœ‹<br>ä¸€ä¸€å¯¹æ¯” æ²¡æœ‰å‘ç°é—®é¢˜<br><code>F12</code> edge å¼€å‘è€…æ¨¡å¼ æŸ¥çœ‹ å‘ç°æœ‰ä¸€å¤„å¼€å§‹å¤§æ®µæ–‡å­—è¢«æ³¨é‡Š</p><p>è¿›å…¥mdæºç æŸ¥çœ‹ å‘ç° md æ¨é€åˆ°ç½‘é¡µ ä¸èƒ½ç”¨ <code>&lt;!--   --&gt;</code> ç¬¦å·è¿›è¡Œæ³¨é‡Š ä¼šå¯¼è‡´ç½‘é¡µç«¯é”™è¯¯ è¿›è€Œå¯¼è‡´åç»­å†…å®¹ç¼ºå¤±åˆ é™¤ç¬¦å·åé‚å¯</p><h2 id="ä¿®æ”¹-åšå®¢ç½®é¡¶"><a href="#ä¿®æ”¹-åšå®¢ç½®é¡¶" class="headerlink" title="ä¿®æ”¹ åšå®¢ç½®é¡¶"></a>ä¿®æ”¹ åšå®¢ç½®é¡¶</h2><p>æ‰“å¼€åšå®¢ç›®å½•<br><code>node_modules\hexo-generator-index\lib</code></p><p>å…¶ä¸­çš„<code>generator.js</code>æ–‡ä»¶å°±æ˜¯æˆ‘ä»¬æ‰€è¦ä¿®æ”¹çš„æ–‡ä»¶ã€‚</p><p>å®ç°è¯¥åŠŸèƒ½éœ€è¦åœ¨<code>const posts = locals.posts.sort(config.index_generator.order_by);</code><br>ä»£ç ä¸‹æ·»åŠ ä¸€ä¸‹å†…å®¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">posts.<span class="property">data</span> = posts.<span class="property">data</span>.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(a.<span class="property">top</span> &amp;&amp; b.<span class="property">top</span>) &#123; <span class="comment">// ä¸¤ç¯‡æ–‡ç« éƒ½æœ‰topï¼Œtopå¤§çš„åœ¨å‰</span></span><br><span class="line">    <span class="keyword">if</span>(a.<span class="property">top</span> == b.<span class="property">top</span>)</span><br><span class="line">        <span class="keyword">return</span> b.<span class="property">date</span> - a.<span class="property">date</span>; <span class="comment">// è‹¥topå€¼ä¸€æ ·ï¼Œæœ€æ–°çš„æ–‡ç« åœ¨å‰é¢</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> b.<span class="property">top</span> - a.<span class="property">top</span>; <span class="comment">// topå¤§çš„åœ¨å‰é¢</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(a.<span class="property">top</span> &amp;&amp; !b.<span class="property">top</span>) &#123; <span class="comment">// ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æ’åœ¨å‰é¢</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(!a.<span class="property">top</span> &amp;&amp; b.<span class="property">top</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> b.<span class="property">date</span> - a.<span class="property">date</span>; <span class="comment">//éƒ½æ²¡æœ‰topæ ‡ç­¾ï¼Œæœ€æ–°çš„æ–‡ç« åœ¨å‰é¢</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¹‹å åœ¨æ–‡ç« å‰æ·»åŠ  top å€¼ å³å¯</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: SMART</span><br><span class="line">date: 2024-09-22 17:00:00</span><br><span class="line"><span class="section"># top<span class="emphasis">_img: /img/SMART.png # é¡¶éƒ¨èƒŒæ™¯å›¾</span></span></span><br><span class="line"><span class="emphasis"><span class="section">cover: /img/SMART.png   # æ–‡ç« å°é¢</span></span></span><br><span class="line"><span class="emphasis"><span class="section">tags:</span></span></span><br><span class="line"><span class="emphasis"><span class="section">- Blog</span></span></span><br><span class="line"><span class="emphasis"><span class="section">- SMART</span></span></span><br><span class="line"><span class="emphasis"><span class="section">top: 100</span></span></span><br><span class="line"><span class="emphasis"><span class="section">output: pdf_</span>document</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="åšå®¢åŠ å…¥è¯„è®ºç³»ç»Ÿ-Gitalk"><a href="#åšå®¢åŠ å…¥è¯„è®ºç³»ç»Ÿ-Gitalk" class="headerlink" title="åšå®¢åŠ å…¥è¯„è®ºç³»ç»Ÿ Gitalk"></a>åšå®¢åŠ å…¥è¯„è®ºç³»ç»Ÿ Gitalk</h2><p><a href="https://blog.csdn.net/qq_33384402/article/details/107200465">Hexo-butterflyè¯„è®ºç³»ç»Ÿé…ç½®: Gittalk</a></p><h2 id="åšå®¢-npm-å®‰è£…treee"><a href="#åšå®¢-npm-å®‰è£…treee" class="headerlink" title="åšå®¢ npm å®‰è£…treee"></a>åšå®¢ npm å®‰è£…treee</h2><p><a href="https://blog.csdn.net/weixin_44375151/article/details/140546831">windows tree ç”Ÿæˆç›®å½•ç»“æ„</a></p><h2 id="HTMLç¼–å†™éšè—æ®µè½å—"><a href="#HTMLç¼–å†™éšè—æ®µè½å—" class="headerlink" title="HTMLç¼–å†™éšè—æ®µè½å—"></a>HTMLç¼–å†™éšè—æ®µè½å—</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><div class="custom-toggle" onclick="this.nextElementSibling.classList.toggle('show')"      style="background-color: hsla(213, 88.40%, 62.90%, 0.94); color: white; padding: 10px; margin: 0 auto 30px; text-align: center; font-family: 'Comic Sans MS', cursive; font-size: 18px; cursor: pointer;">ç‚¹å‡»</div><div class="code-container" style="display: none;"><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">è¿™æ˜¯ä¸€ä¸ªéšè—æ¡†</span></span><br></pre></td></tr></table></figure></div><script>document.querySelectorAll('.custom-toggle').forEach(btn => {  btn.addEventListener('click', () => {    const codeBlock = btn.nextElementSibling;    codeBlock.style.display = codeBlock.style.display === 'none' ? 'block' : 'none';  });});</script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;custom-toggle&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;this.nextElementSibling.classList.toggle(&#x27;show&#x27;)&quot;</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;background-color: hsla(213, 88.40%, 62.90%, 0.94); color: white; padding: 10px; margin: 0 auto 30px; text-align: center; font-family: &#x27;Comic Sans MS&#x27;, cursive; font-size: 18px; cursor: pointer;&quot;</span>&gt;</span></span><br><span class="line">ç‚¹å‡»</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;code-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span>&gt;</span></span><br><span class="line">&#123;% codeblock lang:yml %&#125;</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªéšè—æ¡†</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.custom-toggle&#x27;</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">btn</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> codeBlock = btn.<span class="property">nextElementSibling</span>;</span></span><br><span class="line"><span class="language-javascript">    codeBlock.<span class="property">style</span>.<span class="property">display</span> = codeBlock.<span class="property">style</span>.<span class="property">display</span> === <span class="string">&#x27;none&#x27;</span> ? <span class="string">&#x27;block&#x27;</span> : <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><!-- æŠ˜å æ ‡é¢˜ --><div class="custom-toggle"      style="background-color: hsla(213, 88.40%, 62.90%, 0.94);             color: white;             padding: 12px 40px 12px 20px;            margin: 0 auto 30px;            border: 2px solid hsla(213, 88%, 63%, 0.3);            border-radius: 8px 8px 0 0;            font-family: 'Comic Sans MS', cursive;             font-size: 18px;             cursor: pointer;            position: relative;            transition: all 0.3s ease;"> å˜¿å˜¿  <!-- åŠ¨æ€ç®­å¤´ -->  <span class="toggle-arrow" style="position: absolute;                                   right: 15px;                                   top: 50%;                                  transform: translateY(-50%);                                  color: rgba(255,255,255,0.8);                                  transition: transform 0.3s ease;">    â–¼  </span></div><!-- ä»£ç å®¹å™¨ --><div class="code-container" style="display: none;                                 border: 2px solid hsla(213, 88%, 63%, 0.3);                                 border-top: none;                                 border-radius: 0 0 8px 8px;                                 background: hsla(213, 88.40%, 62.90%, 0.06);                                 padding: 15px;                                 margin-top: -2px;">  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">å¢åŠ ä¸€äº›ç¾åŒ–ç»†èŠ‚</span></span><br><span class="line">  </span><br></pre></td></tr></table></figure></div><script>document.querySelectorAll('.custom-toggle').forEach(btn => {  const arrow = btn.querySelector('.toggle-arrow');  const codeBlock = btn.nextElementSibling;  btn.addEventListener('click', () => {    // åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€    const isShowing = codeBlock.style.display === 'block';    codeBlock.style.display = isShowing ? 'none' : 'block';        // ç®­å¤´åŠ¨ç”»    arrow.style.transform = isShowing       ? 'translateY(-50%) rotate(0deg)'       : 'translateY(-50%) rotate(180deg)';        // è¾¹æ¡†åŠ¨ç”»    btn.style.borderRadius = isShowing       ? '8px 8px 0 0'       : '8px';    codeBlock.style.borderRadius = isShowing       ? '0 0 8px 8px'       : '0 0 8px 8px';  });});</script><style>/* æ‚¬åœæ•ˆæœ */.custom-toggle:hover {  background-color: hsla(213, 88.40%, 62.90%, 0.98) !important;  box-shadow: 0 2px 8px hsla(213, 88%, 63%, 0.2);}.custom-toggle:hover .toggle-arrow {  color: #fff;}/* ä»£ç å—è¿‡æ¸¡åŠ¨ç”» */.code-container {  transition: opacity 2.0s ease, transform 2.0s ease;  opacity: 0;  transform: translateY(-10px);}.code-container[style*="display: block"] {  opacity: 1;  transform: translateY(0);}/* ç§»åŠ¨ç«¯ä¼˜åŒ– */@media (max-width: 768px) {  .custom-toggle {    font-size: 16px !important;    padding: 10px 35px 10px 15px !important;  }  .toggle-arrow {    right: 12px !important;    font-size: 14px;  }}</style><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŠ˜å æ ‡é¢˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;custom-toggle&quot;</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;background-color: hsla(213, 88.40%, 62.90%, 0.94); </span></span></span><br><span class="line"><span class="string"><span class="tag">            color: white; </span></span></span><br><span class="line"><span class="string"><span class="tag">            padding: 12px 40px 12px 20px;</span></span></span><br><span class="line"><span class="string"><span class="tag">            margin: 0 auto 30px;</span></span></span><br><span class="line"><span class="string"><span class="tag">            border: 2px solid hsla(213, 88%, 63%, 0.3);</span></span></span><br><span class="line"><span class="string"><span class="tag">            border-radius: 8px 8px 0 0;</span></span></span><br><span class="line"><span class="string"><span class="tag">            font-family: &#x27;Comic Sans MS&#x27;, cursive; </span></span></span><br><span class="line"><span class="string"><span class="tag">            font-size: 18px; </span></span></span><br><span class="line"><span class="string"><span class="tag">            cursor: pointer;</span></span></span><br><span class="line"><span class="string"><span class="tag">            position: relative;</span></span></span><br><span class="line"><span class="string"><span class="tag">            transition: all 0.3s ease;&quot;</span>&gt;</span></span><br><span class="line"> å˜¿å˜¿</span><br><span class="line">  <span class="comment">&lt;!-- åŠ¨æ€ç®­å¤´ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;toggle-arrow&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute; </span></span></span><br><span class="line"><span class="string"><span class="tag">                                  right: 15px; </span></span></span><br><span class="line"><span class="string"><span class="tag">                                  top: 50%;</span></span></span><br><span class="line"><span class="string"><span class="tag">                                  transform: translateY(-50%);</span></span></span><br><span class="line"><span class="string"><span class="tag">                                  color: rgba(255,255,255,0.8);</span></span></span><br><span class="line"><span class="string"><span class="tag">                                  transition: transform 0.3s ease;&quot;</span>&gt;</span></span><br><span class="line">    â–¼</span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä»£ç å®¹å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;code-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;</span></span></span><br><span class="line"><span class="string"><span class="tag">                                 border: 2px solid hsla(213, 88%, 63%, 0.3);</span></span></span><br><span class="line"><span class="string"><span class="tag">                                 border-top: none;</span></span></span><br><span class="line"><span class="string"><span class="tag">                                 border-radius: 0 0 8px 8px;</span></span></span><br><span class="line"><span class="string"><span class="tag">                                 background: hsla(213, 88.40%, 62.90%, 0.06);</span></span></span><br><span class="line"><span class="string"><span class="tag">                                 padding: 15px;</span></span></span><br><span class="line"><span class="string"><span class="tag">                                 margin-top: -2px;&quot;</span>&gt;</span></span><br><span class="line">  &#123;% codeblock lang:yml %&#125;</span><br><span class="line">å¢åŠ ä¸€äº›ç¾åŒ–ç»†èŠ‚</span><br><span class="line">  &#123;% endcodeblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.custom-toggle&#x27;</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">btn</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> arrow = btn.<span class="title function_">querySelector</span>(<span class="string">&#x27;.toggle-arrow&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> codeBlock = btn.<span class="property">nextElementSibling</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> isShowing = codeBlock.<span class="property">style</span>.<span class="property">display</span> === <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    codeBlock.<span class="property">style</span>.<span class="property">display</span> = isShowing ? <span class="string">&#x27;none&#x27;</span> : <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç®­å¤´åŠ¨ç”»</span></span></span><br><span class="line"><span class="language-javascript">    arrow.<span class="property">style</span>.<span class="property">transform</span> = isShowing </span></span><br><span class="line"><span class="language-javascript">      ? <span class="string">&#x27;translateY(-50%) rotate(0deg)&#x27;</span> </span></span><br><span class="line"><span class="language-javascript">      : <span class="string">&#x27;translateY(-50%) rotate(180deg)&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// è¾¹æ¡†åŠ¨ç”»</span></span></span><br><span class="line"><span class="language-javascript">    btn.<span class="property">style</span>.<span class="property">borderRadius</span> = isShowing </span></span><br><span class="line"><span class="language-javascript">      ? <span class="string">&#x27;8px 8px 0 0&#x27;</span> </span></span><br><span class="line"><span class="language-javascript">      : <span class="string">&#x27;8px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    codeBlock.<span class="property">style</span>.<span class="property">borderRadius</span> = isShowing </span></span><br><span class="line"><span class="language-javascript">      ? <span class="string">&#x27;0 0 8px 8px&#x27;</span> </span></span><br><span class="line"><span class="language-javascript">      : <span class="string">&#x27;0 0 8px 8px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/* æ‚¬åœæ•ˆæœ */</span></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.custom-toggle</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-color</span>: <span class="built_in">hsla</span>(<span class="number">213</span>, <span class="number">88.40%</span>, <span class="number">62.90%</span>, <span class="number">0.98</span>) <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">8px</span> <span class="built_in">hsla</span>(<span class="number">213</span>, <span class="number">88%</span>, <span class="number">63%</span>, <span class="number">0.2</span>);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.custom-toggle</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.toggle-arrow</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/* ä»£ç å—è¿‡æ¸¡åŠ¨ç”» */</span></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.code-container</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">transition</span>: opacity <span class="number">2.0s</span> ease, transform <span class="number">2.0s</span> ease;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">10px</span>);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.code-container</span><span class="selector-attr">[style*=<span class="string">&quot;display: block&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/* ç§»åŠ¨ç«¯ä¼˜åŒ– */</span></span></span><br><span class="line"><span class="language-css"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.custom-toggle</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">16px</span> <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">35px</span> <span class="number">10px</span> <span class="number">15px</span> <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.toggle-arrow</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">right</span>: <span class="number">12px</span> <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>æ˜¾ç¤º/éšè—ä»£ç å—</title><style>  .code-block {    display: none; /* åˆå§‹çŠ¶æ€éšè—ä»£ç å— */    margin-top: 10px;  }</style></head><body><p><button id="toggleButton">è¿™æ˜¯ä¸€ä¸ªç¥ç§˜æŒ‰é’®</button></p><div class="code-block">  <pre>    <code>        å˜¿å˜¿ ç¥ä½ å¥åº·å¹¸ç¦ ä¸‡äº‹é¡ºé‚ !    </code>  </pre></div><script>  document.getElementById('toggleButton').addEventListener('click', function() {    var codeBlock = document.querySelector('.code-block');    if (codeBlock.style.display === 'none') {      codeBlock.style.display = 'block';    } else {      codeBlock.style.display = 'none';    }  });</script></body></html><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>æ˜¾ç¤º/éšè—ä»£ç å—<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.code-block</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: none; <span class="comment">/* åˆå§‹çŠ¶æ€éšè—ä»£ç å— */</span></span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;toggleButton&quot;</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªç¥ç§˜æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;code-block&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">code</span>&gt;</span></span><br><span class="line">        å˜¿å˜¿ ç¥ä½ å¥åº·å¹¸ç¦ ä¸‡äº‹é¡ºé‚ !</span><br><span class="line">    <span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;toggleButton&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> codeBlock = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.code-block&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (codeBlock.<span class="property">style</span>.<span class="property">display</span> === <span class="string">&#x27;none&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      codeBlock.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      codeBlock.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Ubuntu-ç»ˆç«¯æŸ¥çœ‹æ‰€æœ‰æŒ‡ä»¤"><a href="#Ubuntu-ç»ˆç«¯æŸ¥çœ‹æ‰€æœ‰æŒ‡ä»¤" class="headerlink" title="Ubuntu ç»ˆç«¯æŸ¥çœ‹æ‰€æœ‰æŒ‡ä»¤"></a>Ubuntu ç»ˆç«¯æŸ¥çœ‹æ‰€æœ‰æŒ‡ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script cmd.log</span><br></pre></td></tr></table></figure><p>å¼€å§‹è®°å½•ç»ˆç«¯ä¸­æ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤ï¼Œå¹¶ä¿å­˜åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„cmd.logæ–‡ä»¶ä¸­ æ–‡ä»¶åå­—åç¼€éƒ½å¯æ›´æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure><p>é€€å‡ºè®°å½•</p><h2 id="Ubuntu-è™šæ‹Ÿä¸²å£-socat"><a href="#Ubuntu-è™šæ‹Ÿä¸²å£-socat" class="headerlink" title="Ubuntu è™šæ‹Ÿä¸²å£ socat"></a>Ubuntu è™šæ‹Ÿä¸²å£ socat</h2><p>å®‰è£… </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install socat</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆè™šæ‹Ÿä¸²å£å¯¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socat -d -d pty,b115200 pty,b115200</span><br></pre></td></tr></table></figure><p><code>/dev/pts/7</code>å’Œ<code>/dev/pts/8</code>å°±æ˜¯ç”Ÿæˆçš„è™šæ‹Ÿä¸²å£å¯¹</p><h2 id="ç¼–å†™è™šæ‹Ÿä¸²å£"><a href="#ç¼–å†™è™šæ‹Ÿä¸²å£" class="headerlink" title="ç¼–å†™è™šæ‹Ÿä¸²å£"></a>ç¼–å†™è™šæ‹Ÿä¸²å£</h2><p><code>virtualPort.py</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /usr/bin/env python</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">coding=utf-8</span></span><br><span class="line"></span><br><span class="line">import pty</span><br><span class="line">import os</span><br><span class="line">import select</span><br><span class="line"></span><br><span class="line">def mkpty():</span><br><span class="line">    master1, slave = pty.openpty()</span><br><span class="line">    slaveName1 = os.ttyname(slave)</span><br><span class="line">    master2, slave = pty.openpty()</span><br><span class="line">    slaveName2 = os.ttyname(slave)</span><br><span class="line">    print (&#x27;Virtual serial port : &#x27;, slaveName1, slaveName2)</span><br><span class="line">    return master1, master2</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    master1, master2 = mkpty()</span><br><span class="line">    while True:</span><br><span class="line">        rl, wl, el = select.select([master1,master2], [], [], 1)</span><br><span class="line">        for master in rl:</span><br><span class="line">            data = os.read(master, 128)</span><br><span class="line">            print (&quot;read %d data.&quot; % len(data))</span><br><span class="line">            if master==master1:</span><br><span class="line">                os.write(master2, data)</span><br><span class="line">            else:</span><br><span class="line">                os.write(master1, data)</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp SerialPort.cpp -o read -lpthread -D VITRUALPROT -D READ</span><br><span class="line">g++ main.cpp SerialPort.cpp -o write -lpthread -D VITRUALPROT -D WRITE</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 virtualPort.py     //virtualPort.py ä¸ºæˆ‘ä¸Šé¢è™šæ‹Ÿä¸²å£ç¨‹åºçš„æ–‡ä»¶å</span><br></pre></td></tr></table></figure><p>æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ å¼€å§‹è¯»å†™</p><p><strong>ä¿®æ”¹åç§°</strong></p><p>æŒ‡å®šè™šæ‹Ÿä¸²å£çš„åç§°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socat -d -d pty,raw,echo=0,link=$HOME/socatpty7 pty,raw,echo=0,link=$HOME/socatpty8</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ$HOME&#x2F;socatpty7å’Œ$HOME&#x2F;socatpty8æ˜¯è‡ªå·±è®¾å®šçš„ä¸²å£åç§°</p><h3 id="æµ‹è¯•ä¸²å£"><a href="#æµ‹è¯•ä¸²å£" class="headerlink" title="æµ‹è¯•ä¸²å£"></a>æµ‹è¯•ä¸²å£</h3><p>å¯åŠ¨ä¸²å£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socat -d -d pty,b115200 pty,b115200</span><br></pre></td></tr></table></figure><p>æµ‹è¯•æ–‡ä»¶ å‘&#x2F;dev&#x2F;pts&#x2F;7å†™å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#coding=utf8</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> serial</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    serial = serial.Serial(<span class="string">&quot;/dev/pts/7&quot;</span>, <span class="number">115200</span>, timeout=<span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">if</span> serial.isOpen():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;open success&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;open failed&quot;</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        serial.write(<span class="string">&quot;test&quot;</span>.encode(<span class="string">&#x27;utf-8&#x27;</span>)) <span class="comment">## è¾“å…¥test</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;send: test&quot;</span>)</span><br><span class="line">        sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>è¯»å–&#x2F;dev&#x2F;pts&#x2F;8ä¸²å£ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment">#coding=utf8</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> serial</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">recv</span>(<span class="params">serial</span>):</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        data = serial.read_all()</span><br><span class="line">        <span class="keyword">if</span> data == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        sleep(<span class="number">0.02</span>)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    serial = serial.Serial(<span class="string">&quot;/dev/pts/8&quot;</span>, <span class="number">115200</span>, timeout=<span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">if</span> serial.isOpen():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;open success&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;open failed&quot;</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        data = recv(serial)</span><br><span class="line">        <span class="keyword">if</span> data != <span class="string">b&#x27;&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;receive:&quot;</span>, data)</span><br><span class="line">            serial.write(data)</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install pyserial</span><br><span class="line">python3 virtualPort.py</span><br><span class="line">python3 tx.py</span><br><span class="line">python3 rx.py</span><br></pre></td></tr></table></figure><h2 id="è§£å†³-Adobe-PDF-å¼¹çª—è­¦å‘Š"><a href="#è§£å†³-Adobe-PDF-å¼¹çª—è­¦å‘Š" class="headerlink" title="è§£å†³ Adobe PDF å¼¹çª—è­¦å‘Š"></a>è§£å†³ Adobe PDF å¼¹çª—è­¦å‘Š</h2><p>ä½¿ç”¨ä»£ç†è¿‡ç¨‹ä¸­ å‘ç°æ‰“å¼€ adobe pdfä¼šæ˜¯ä¸æ˜¯å¼¹å‡ºä»¥ä¸‹æŠ¥é”™</p><blockquote><p>This unlicensed Adobe app has been disabled<br>Switch to genuine Adobe apps â€” at up to 57% off â€” to get the latest features and functionality, including security updates.</p></blockquote><p>æœé›†ç›¸å…³èµ„æ–™å å¯èƒ½éœ€è¦é…ç½®å‡ºç«™ å…¥ç«™ è§„åˆ™ æˆ–è€…ä¸è®©adobeä½¿ç”¨ç½‘ç»œ</p><p>çœ‹åˆ°å¦ä¸€ä¸ªæ–¹æ³•å¦‚ä¸‹ ä½¿ç”¨</p><p>æ‰¾åˆ° <code>&quot;A:\DC2024\Acrobat\AcroCEF&quot;</code> å’Œ <code>&quot;A:\DC2024\Acrobat\acrocef_1&quot;</code> å°†è¿™ä¸¤ä¸ªåˆ é™¤(ææˆå‹ç¼©åŒ…) å³å¯è§£å†³</p><hr><p>åç»­ï¼Œç»è¿‡æµ‹è¯• æ­¤æ–¹æ³•å¯¼è‡´pdfæ— æ³•å¦å­˜ä¸º ï¼Œé€‰æ‹© åª åˆ é™¤ <code>Acrobat</code> ä¿ç•™åè€… å¯ä»¥å¦å­˜ä¸º ä½†æ˜¯ç•Œé¢å’ŒåŸæœ¬æœ‰æ‰€ä¸åŒ æš‚æ—¶æ²¡æƒ³åˆ°å…¶ä»–è§£å†³æ–¹æ³• ï¼Œ</p><p>æ­¤æ¬¡ä¹Ÿå‘ç°äº† é€šè¿‡å‹ç¼©åŒ…æˆ–è€…å±æ€§æ›´æ”¹ é™åˆ¶è®¿é—®æƒé™çš„æ–¹æ³•æ˜¯å¾ˆä¸é”™çš„</p><h2 id="å¿«æ·æ‰“å¼€å½“å‰ç›®å½•ç»ˆç«¯"><a href="#å¿«æ·æ‰“å¼€å½“å‰ç›®å½•ç»ˆç«¯" class="headerlink" title="å¿«æ·æ‰“å¼€å½“å‰ç›®å½•ç»ˆç«¯"></a>å¿«æ·æ‰“å¼€å½“å‰ç›®å½•ç»ˆç«¯</h2><p>æ­¤æ–¹æ³•ç”¨äºå¿«é€Ÿæ‰“å¼€é»‘ç»ˆç«¯æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…å¿…è¦çš„å·¥å…·</span></span><br><span class="line">sudo apt-get install nautilus xdotool xclip</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºè„šæœ¬æ–‡ä»¶</span></span><br><span class="line">sudo vim /usr/bin/openterminal.sh</span><br></pre></td></tr></table></figure><p>åœ¨è„šæœ¬æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">record the current ClipBoard</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">clipboard_current=$(xclip -o)</span></span><br><span class="line">pid_list=`xdotool search --class &quot;nautilus&quot;`</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">loop <span class="keyword">for</span> the right window</span></span><br><span class="line">for i in $pid_list</span><br><span class="line">do</span><br><span class="line">name=`xdotool getwindowname &quot;$i&quot;`</span><br><span class="line">name_lower=$(echo $name | tr [a-z] [A-Z])</span><br><span class="line">if echo &quot;$name_lower&quot; | grep -qwi &quot;.*desktop*&quot;;then</span><br><span class="line">echo &quot;desktop window&quot;</span><br><span class="line">elif echo &quot;$name_lower&quot; | grep -qwi &quot;.*nautilus*&quot;;then</span><br><span class="line">echo &quot;nautilus window&quot;</span><br><span class="line">else</span><br><span class="line">id=$i</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">get the current working directory</span></span><br><span class="line">wait=`xdotool windowfocus $id`</span><br><span class="line">sleep 0.2</span><br><span class="line">wait=`xdotool key Ctrl+l`</span><br><span class="line">sleep 0.2</span><br><span class="line">wait=`xdotool key Ctrl+c`</span><br><span class="line">sleep 0.1</span><br><span class="line">path=$(xclip -o)</span><br><span class="line">wait=`xdotool key Escape`</span><br><span class="line">sleep 0.1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹è¿™ä¸€è¡Œï¼šä½¿ç”¨ terminator è€Œä¸æ˜¯ gnome-terminal</span></span><br><span class="line">terminator --working-directory &quot;$&#123;path&#125;&quot;</span><br></pre></td></tr></table></figure><p>æ·»åŠ æ‰§è¡Œæ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x /usr/bin/openterminal.sh</span><br></pre></td></tr></table></figure><h2 id="VM-è™šæ‹Ÿæœº-å…±äº«æ–‡ä»¶å¤¹share-å¤±æ•ˆ"><a href="#VM-è™šæ‹Ÿæœº-å…±äº«æ–‡ä»¶å¤¹share-å¤±æ•ˆ" class="headerlink" title="VM è™šæ‹Ÿæœº å…±äº«æ–‡ä»¶å¤¹share å¤±æ•ˆ"></a>VM è™šæ‹Ÿæœº å…±äº«æ–‡ä»¶å¤¹share å¤±æ•ˆ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -t fuse.vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ²¡æœ‰ hgfsæ–‡ä»¶ æ‰‹åŠ¨åˆ›å»º</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir hgfs</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼šä»¥ç®¡ç†å‘˜æƒé™ï¼Œå°† VMware è™šæ‹Ÿæœºè®¾ç½®ä¸­æŒ‡å®šçš„ã€æ¥è‡ªå®¿ä¸»æœºçš„æ‰€æœ‰å…±äº«æ–‡ä»¶å¤¹ï¼ŒæŒ‚è½½åˆ°è™šæ‹Ÿæœºå†…éƒ¨çš„ &#x2F;mnt&#x2F;hgfs ç›®å½•ä¸‹ï¼Œå¹¶å…è®¸è™šæ‹Ÿæœºé‡Œçš„æ‰€æœ‰æ™®é€šç”¨æˆ·è®¿é—®ã€‚</p><h2 id="è™šæ‹Ÿæœº-æŸ¥çœ‹ä¸»æœº-æ‘„åƒå¤´è®¾å¤‡åºåˆ—å·"><a href="#è™šæ‹Ÿæœº-æŸ¥çœ‹ä¸»æœº-æ‘„åƒå¤´è®¾å¤‡åºåˆ—å·" class="headerlink" title="è™šæ‹Ÿæœº æŸ¥çœ‹ä¸»æœº æ‘„åƒå¤´è®¾å¤‡åºåˆ—å·"></a>è™šæ‹Ÿæœº æŸ¥çœ‹ä¸»æœº æ‘„åƒå¤´è®¾å¤‡åºåˆ—å·</h2><p>æŸ¥çœ‹æ‘„åƒå¤´</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l /dev/video*</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥æ‘„åƒå¤´ä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v4l2-ctl --list-devices</span><br><span class="line">v4l2-ctl --info -d /dev/video0</span><br></pre></td></tr></table></figure><p>å°†cameraç¨‹åºä¸­çš„æ‘„åƒå¤´cvå‚æ•°æ”¹æˆå¦‚ä¸‹æ‰€ç¤ºå¯è§£å†³æ‰“å¼€æ‘„åƒå¤´é»‘å±é—®é¢˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>,cv2.CAP_V4L2)</span><br></pre></td></tr></table></figure><h2 id="gazeboä¸€ç›´å¤„äºåŠ è½½ç•Œé¢"><a href="#gazeboä¸€ç›´å¤„äºåŠ è½½ç•Œé¢" class="headerlink" title="gazeboä¸€ç›´å¤„äºåŠ è½½ç•Œé¢"></a>gazeboä¸€ç›´å¤„äºåŠ è½½ç•Œé¢</h2><p>åœ¨ bashrc æ–‡ä»¶æ·»åŠ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /usr/share/gazebo/setup.bash </span><br></pre></td></tr></table></figure><h2 id="çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢"><a href="#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢" class="headerlink" title="çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢"></a>çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢</h2><p>åˆæ­¥ä½¿ç”¨äº† æ‹“å±•æ’ä»¶è¿›è¡Œé¡µé¢çˆ¬å–,çˆ¬å–ç•Œé¢åªèƒ½é™æ€æ˜¾ç¤º,æ— æ³•åŠ¨æ€æ˜¾ç¤º</p><p>æŸ¥è¯¢äº†ç›¸å…³è®ºå›<a href="https://linux.do/t/topic/1344748">Gemini åŠ¨æ€è§†å›¾ï¼ˆDynamic Viewï¼‰å¯¼å‡ºæ’ä»¶</a> äº†è§£åˆ°ä¸€äº›å¤§ä½¬çš„å¼€æºé¡¹ç›®,é‚ä½¿ç”¨</p><p><a href="https://github.com/lueluelue2006/gemini-generative-ui-exporter">æ’ä»¶çš„Githubä»“åº“åœ°å€</a></p><p>è§£å‹ä»“åº“çš„ç¨‹åºåŒ…ï¼Œæ”¾å…¥ <code>&quot;D:\STARY\Edge_extension\gemini-generative-ui-exporter-main&quot;</code>ç›®å½•ä¸‹</p><p>ç‚¹å‡»Edgeä¸­çš„æ‹“å±•æ’ä»¶</p><p>å¼€å¯å·¦ä¾§å¼€å‘äººå‘˜æ¨¡å¼</p><p><img src="/images/SMART/image-2.png" alt=" "></p><p>ç‚¹å‡»åŠ è½½è§£å‹ç¼©çš„æ‹“å±•ï¼Œé€‰æ‹©å¯¹åº”ç›®å½•ä¸‹çš„ç¨‹åºåŒ…ï¼Œæ¤å…¥æ‹“å±•æˆåŠŸ</p><p><img src="/images/SMART/image-3.png" alt=" "></p><ul><li>é€‰é¡¹è¯´æ˜</li><li>Export (Interactive)ï¼šä¿ç•™ App çš„ JSï¼Œå¯¼å‡ºåä»å¯äº¤äº’ï¼›åŒæ—¶ä¼šå°½é‡æŠŠåŠ¨æ€å›¾ç‰‡ï¼ˆä¾‹å¦‚ä¼šå›è½æˆ &#x2F;gen?prompt&#x3D;â€¦ çš„å ä½å›¾ï¼‰é¢„æŠ“å–å¹¶å†…åµŒï¼Œé¿å…å¯¼å‡ºåå˜ç°ã€‚</li><li>Export (Static)ï¼šå¯¼å‡ºä¸ºâ€œé™æ€å¿«ç…§â€é£æ ¼ï¼ˆå½’æ¡£&#x2F;æˆªå›¾æ¨¡å¼ï¼‰ï¼Œä¸æƒ³è®©é¡µé¢å†ä¹±è·³&#x2F;åˆ‡ Tab æ—¶ç”¨ã€‚</li><li>Fallback: save tab as MHTMLï¼šå½“ Chrome&#x2F;æƒé™å¯¼è‡´æ— æ³•è®¿é—®å­ frame æ—¶çš„å…œåº•æ–¹æ¡ˆã€‚</li></ul><h2 id="æ–‡ç« é—´è·³è½¬"><a href="#æ–‡ç« é—´è·³è½¬" class="headerlink" title="æ–‡ç« é—´è·³è½¬"></a>æ–‡ç« é—´è·³è½¬</h2><blockquote><p>ç›¸å¯¹è¶…é“¾æ¥è·³è½¬<br><a href="/2024/09/22/SMART/#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢">ç‚¹å‡»è¿™é‡Œè·³è½¬åˆ° Gemini çˆ¬å–æ•™ç¨‹</a></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% post_path SMART %&#125;#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢&quot;</span>&gt;</span>ç‚¹å‡»è¿™é‡Œè·³è½¬åˆ° Gemini çˆ¬å–æ•™ç¨‹<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>é”™è¯¯mdè¯­è¨€ ä¸å…¼å®¹<br>[ç‚¹å‡»è¿™é‡Œè·³è½¬åˆ° Gemini çˆ¬å–æ•™ç¨‹](/2024/09/22/SMART/#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢)</p></blockquote><blockquote><p>å•çº¯çš„æ ·å¼<br><kbd>Ctrl</kbd> + <kbd>C</kbd></p></blockquote><blockquote><p>é«˜çº§ä¸€ç‚¹çš„å¸¦æœ‰åŠŸèƒ½çš„æ ·å¼</p></blockquote><div style="text-align: center; margin: 20px 0;">  <a href="/2024/09/22/SMART/#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢"      style="       display: inline-block;       padding: 10px 20px;       background-color: #49b1f5;        color: white;        text-decoration: none;        border-radius: 4px;        font-weight: bold;       transition: all 0.3s;     "     onmouseover="this.style.backgroundColor='#ff7242'"     onmouseout="this.style.backgroundColor='#49b1f5'"  >    <i class="fas fa-link"></i> ç‚¹å‡»è·³è½¬åˆ° Gemini çˆ¬å–æ•™ç¨‹  </a></div><details cyan><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center; margin: 20px 0;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% post_path SMART %&#125;#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢&quot;</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">       display: inline-block;</span></span></span><br><span class="line"><span class="string"><span class="tag">       padding: 10px 20px;</span></span></span><br><span class="line"><span class="string"><span class="tag">       background-color: #49b1f5; </span></span></span><br><span class="line"><span class="string"><span class="tag">       color: white; </span></span></span><br><span class="line"><span class="string"><span class="tag">       text-decoration: none; </span></span></span><br><span class="line"><span class="string"><span class="tag">       border-radius: 4px; </span></span></span><br><span class="line"><span class="string"><span class="tag">       font-weight: bold;</span></span></span><br><span class="line"><span class="string"><span class="tag">       transition: all 0.3s;</span></span></span><br><span class="line"><span class="string"><span class="tag">     &quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">onmouseover</span>=<span class="string">&quot;this.style.backgroundColor=&#x27;#ff7242&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">onmouseout</span>=<span class="string">&quot;this.style.backgroundColor=&#x27;#49b1f5&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-link&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> ç‚¹å‡»è·³è½¬åˆ° Gemini çˆ¬å–æ•™ç¨‹</span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>              </div>            </details><blockquote><p>ä½¿ç”¨butterflyä¸»é¢˜è‡ªå¸¦çš„æ ·å¼,å¹¶ä¸”å¸¦æœ‰åŠŸèƒ½</p></blockquote><a href="/2024/09/22/SMART/#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢" class="btn-beautify button--animated">    <span>ç‚¹å‡»è·³è½¬åˆ° Gemini æ•™ç¨‹</span></a><details cyan><summary> ä»£ç  </summary>              <div class='content'>              <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% post_path SMART %&#125;#çˆ¬å–GeminiåŠ¨æ€è§†å›¾ç•Œé¢&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn-beautify button--animated&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç‚¹å‡»è·³è½¬åˆ° Gemini æ•™ç¨‹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="-3"><a href="#-3" class="headerlink" title=""></a></h2>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> SMART </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡Gitä¸Šä¼ æœ¬åœ°é¡¹ç›®è‡³Github</title>
      <link href="/2024/09/15/%E9%80%9A%E8%BF%87Git%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E8%87%B3Github/"/>
      <url>/2024/09/15/%E9%80%9A%E8%BF%87Git%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E8%87%B3Github/</url>
      
        <content type="html"><![CDATA[<h1 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h1><blockquote><p>Linuxç³»ç»Ÿ-Ubuntu22.04</p></blockquote><h2 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">apt-get install git # å®‰è£…Git</span><br><span class="line"></span><br><span class="line">git --version # å®‰è£…æˆåŠŸåæ˜¾ç¤ºç‰ˆæœ¬ git version 2.34.1</span><br><span class="line"></span><br><span class="line">git config --global user.name &quot;name&quot; # é…ç½®ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;email&quot; # é…ç½®ç”¨æˆ·é‚®ç®±</span><br><span class="line"></span><br><span class="line">git config --list # æŸ¥çœ‹å…¨å±€é…ç½®</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C email # ç”Ÿæˆssh-key ç›®å½•root/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>å°†id_rsa.pubé‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°githubè´¦æˆ·ä¸­</p><h2 id="æµ‹è¯•é“¾æ¥"><a href="#æµ‹è¯•é“¾æ¥" class="headerlink" title="æµ‹è¯•é“¾æ¥"></a>æµ‹è¯•é“¾æ¥</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com # æµ‹è¯•é“¾æ¥</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å‡ºç°ä»¥ä¸‹å†…å®¹å³è¡¨ç¤ºæˆåŠŸ<br>Youâ€™ve successfully authenticated, but GitHub does not provide shell access. # æˆåŠŸ</p></blockquote><p>PS å¦‚æœä¸Šé¢é…ç½®è´¦æˆ·ä¸æˆåŠŸï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ è´¦æˆ·ï¼Œè¿›å…¥config å†™å…¥ç”¨æˆ·ä¿¡æ¯</p><h1 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h1><blockquote><p>å¼€å§‹å‰å…ˆä¸‹è½½ Git æ’ä»¶ï¼Œå› åšä¸»é…ç½®åšå®¢æ—¶å·²ç»æ¥è§¦gitï¼Œè¿™é‡Œä¸å†æ¼”ç¤ºï¼Œä¸‹é¢ç»™å‡ºå®˜æ–¹ä¸‹è½½åœ°å€å’Œæ•™ç¨‹ï¼Œä¾›è‡ªè¡Œå­¦ä¹ æŸ¥é˜…<br><a href="https://git-scm.com/">Git å®˜æ–¹ä¸‹è½½åœ°å€</a><br><a href="https://blog.csdn.net/m0_71102932/article/details/141326014">è¯¦ç»†ä¸‹è½½æ•™ç¨‹</a></p></blockquote><p>è¿›å…¥è¦ä¸Šä¼ é¡¹ç›®çš„æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹å†…é¼ æ ‡å³é”®ï¼Œçœ‹åˆ° <em><strong>Open Git Bash here</strong></em> å’Œ <em><strong>Open Git GUI here</strong></em> ä¸¤ä¸ªé€‰é¡¹è¯´æ˜å‰é¢ä¸‹è½½gitæˆåŠŸ</p><p>ç‚¹å‡»Open Git Bash hereï¼Œåœ¨å‘½ä»¤è¡Œå¯¹è¯æ¡†ä¸­è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼Œåˆ›å»ºåˆå§‹æ–‡ä»¶å¤¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¦æ³¨æ„ï¼Œä»–æ˜¯éšèº«çš„ï¼Œè¦æ‰“å¼€å‹¾é€‰éšè—çš„é¡¹ç›®æ‰èƒ½çœ‹åˆ°</p><p>ç„¶åä¾æ¬¡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add . </span><br><span class="line">git commit -m &quot;commit&quot;  </span><br><span class="line">git remote add origin https://è‡ªå·±çš„ä»“åº“urlåœ°å€ </span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬ä¸€æ¡æŒ‡ä»¤æ˜¯å°†é¡¹ç›®ä¸Šæ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°è¯¥åº“ä¸­ï¼Œå¦‚æœè¦æ·»åŠ ç‰¹å®šçš„æ–‡ä»¶ï¼ŒæŠŠ <strong>ã€‚</strong> æ”¹æˆè¿™ä¸ªç‰¹å®šçš„æ–‡ä»¶å³å¯</p></blockquote><blockquote><p>ç¬¬äºŒä¸ªæŒ‡ä»¤è¡¨ç¤ºä½ å¯¹è¿™æ¬¡æäº¤çš„æ³¨é‡Šï¼Œå¼•å·å†…å®¹å¯ä¿®æ”¹</p></blockquote><blockquote><p>å°†æœ¬åœ°çš„ä»“åº“å…³è”åˆ°githubä¸Šï¼Œæ ¹æ®ä¸ªäººä¸åŒè¿›è¡Œä¿®æ”¹</p></blockquote><blockquote><p>å°†ä»£ç ä¸Šä¼ è‡³githubï¼Œæ­£å¸¸æƒ…å†µè¾“å…¥å®Œæˆè´¦å·å¯†ç å³å¯</p></blockquote><p>å…·ä½“ä¸Šä¼ æƒ…å†µå¯èƒ½ä¼šæœ‰ç‚¹å»¶è¿Ÿï¼Œç¨ç­‰ç‰‡åˆ»å³å¯</p><h1 id="PR"><a href="#PR" class="headerlink" title="PR"></a>PR</h1><p><img src="/./images/%E9%80%9A%E8%BF%87Git%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E8%87%B3Github/1.png" alt=" "><br><a href="https://www.cnblogs.com/daniel-hutao/p/open-a-pr-in-github.html">å¦‚ä½•å‚ä¸å¼€æºé¡¹ç›® - ç»†è¯´ GitHub ä¸Šçš„ PR å…¨è¿‡ç¨‹</a></p><h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><p>å»ºç«‹æœ¬åœ°åˆ†æ”¯æœ€å¥½å•ç‹¬åœ¨ä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œåœ¨æ­¤ç›®å½•ä¸‹æ‰§è¡Œå®Œgit remote add origin <a href="mailto:&#x67;&#105;&#116;&#64;&#103;&#105;&#x74;&#x68;&#x75;&#98;&#46;&#99;&#111;&#x6d;">git@github.com</a>:name&#x2F;repo.gitåå†æ‰§è¡Œåé¢çš„æŒ‡ä»¤ä¸ä¼šå‡ºé”™ï¼Œæ­¤åä¸ç®¡æ˜¯pushã€pullã€rméƒ½åœ¨è¿™ä¸ªç›®å½•è¿›è¡Œï¼Œè¿™é‡Œname&#x2F;repoä¸ºè‡ªå·±è´¦æˆ·åå­—å’Œåº“åå­—ï¼Œå¦‚Whaltze&#x2F;Robot</p><h1 id="å°æŠ€å·§"><a href="#å°æŠ€å·§" class="headerlink" title="å°æŠ€å·§"></a>å°æŠ€å·§</h1><blockquote><p>æŸ¥çœ‹æäº¤å†å²è®°å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>åˆ é™¤ä¸Šä¼ çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached xxx //xxxä¸ºæ–‡ä»¶å,è¿™é‡Œä¸èƒ½ä¸ºç›®å½•</span><br><span class="line">git commit -m &quot;xxx&quot; //xxxä¸ºæ³¨é‡Š</span><br><span class="line">git push origin</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>åŒæ­¥æœ¬åœ°åˆ†æ”¯å’Œgithubåˆ†æ”¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>å…‹éš†åˆ†æ”¯åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b åˆ†æ”¯åç§° https://gitee.com/é¡¹ç›®(ä»“åº“åœ°å€).git</span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> GitHub </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³VMwareä¸‹Ubuntu22.04æ— æ³•è”ç½‘é—®é¢˜</title>
      <link href="/2024/08/26/%E8%A7%A3%E5%86%B3VMware%E4%B8%8BUbuntu22.04%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98/"/>
      <url>/2024/08/26/%E8%A7%A3%E5%86%B3VMware%E4%B8%8BUbuntu22.04%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å°è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼Œç½‘ä¸Šå¤§å¤šæ˜¯é‡å¯ç½‘ç»œé€‚é…å™¨ç­‰ï¼Œåæ¥å‘ç°è™šæ‹Ÿæœºé‡Œç³»ç»Ÿæ¡Œé¢å³ä¸Šè§’å¹¶æ²¡æœ‰æœ‰çº¿ç½‘ç»œå›¾æ ‡<br>å°è¯•åˆ é™¤ç½‘ç»œç¼“å­˜æ–‡ä»¶åï¼Œé‡å¯ç½‘ç»œå é—®é¢˜è§£å†³</p></blockquote><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ åˆ é™¤NetworkManagerç¼“å­˜æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo service NetworkManager stop </span><br><span class="line"></span><br><span class="line">sudo rm /var/lib/NetworkManager/NetworkManager.state </span><br><span class="line"></span><br><span class="line">sudo service NetworkManager start</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰“å¼€Ubuntuå†…ç½®çš„ç«ç‹æµè§ˆå™¨ å‘ç°å¯ä»¥ä¸Šç½‘å•¦</p>]]></content>
      
      
      
        <tags>
            
            <tag> obstacle </tag>
            
            <tag> Ubuntu22.04 </tag>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Office æ¿€æ´»</title>
      <link href="/2024/08/25/office%20%E6%BF%80%E6%B4%BB/"/>
      <url>/2024/08/25/office%20%E6%BF%80%E6%B4%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="E5-æ•™ç¨‹"><a href="#E5-æ•™ç¨‹" class="headerlink" title="E5 æ•™ç¨‹"></a>E5 æ•™ç¨‹</h1><blockquote><p>å‚è€ƒé“¾æ¥<br><a href="https://logi.im/script/permanently-keeping-an-office-e5-account.html">https://logi.im/script/permanently-keeping-an-office-e5-account.html</a></p></blockquote><blockquote><p><a href="https://entra.microsoft.com/#view/Microsoft_AAD_IAM/TenantOverview.ReactView">https://entra.microsoft.com/#view/Microsoft_AAD_IAM/TenantOverview.ReactView</a></p></blockquote><blockquote><p>å¼€å‘è€…ç”³è¯·é¡µé¢<br><a href="https://developer.microsoft.com/en-us/microsoft-365/profile">https://developer.microsoft.com/en-us/microsoft-365/profile</a></p></blockquote><h1 id="Office-Tool-Plus"><a href="#Office-Tool-Plus" class="headerlink" title="Office Tool Plus"></a>Office Tool Plus</h1><blockquote><p><a href="https://www.coolhub.top/archives/14">https://www.coolhub.top/archives/14</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Office </tag>
            
            <tag> E5 </tag>
            
            <tag> Office Tool Plus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Solidworkså¸è½½é‡è£…æµç¨‹</title>
      <link href="/2024/08/21/Solidworks%E5%8D%B8%E8%BD%BD%E9%87%8D%E8%A3%85%E6%B5%81%E7%A8%8B/"/>
      <url>/2024/08/21/Solidworks%E5%8D%B8%E8%BD%BD%E9%87%8D%E8%A3%85%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="åˆ é™¤-SOLIDWORKS"><a href="#åˆ é™¤-SOLIDWORKS" class="headerlink" title="åˆ é™¤ SOLIDWORKS"></a>åˆ é™¤ SOLIDWORKS</h1><blockquote><p>é¦–å…ˆå®Œæˆè®¾ç½®å†…å¸è½½Solidworks-&gt;å¼¹å‡ºSolidworksè‡ªå¸¦åˆ é™¤ç¨‹åº-&gt;ä¿®æ”¹é«˜çº§é€‰é¡¹ï¼Œå…¨éƒ¨åˆ é™¤</p></blockquote><h2 id="åˆ é™¤SolidWorks-Flexnet-Server"><a href="#åˆ é™¤SolidWorks-Flexnet-Server" class="headerlink" title="åˆ é™¤SolidWorks_Flexnet_Server"></a>åˆ é™¤SolidWorks_Flexnet_Server</h2><h3 id="åˆ é™¤-server-remove"><a href="#åˆ é™¤-server-remove" class="headerlink" title="åˆ é™¤ server_remove"></a>åˆ é™¤ server_remove</h3><p>æ‰¾åˆ° Cç›˜å†… SolidWorks_Flexnet_Server æ–‡ä»¶å¤¹ï¼Œè¿›å…¥æ‰¾åˆ°server_remove å³é”®ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼Œæ˜¾ç¤ºå¦‚ä¸‹è¯´æ˜æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SolidWorks Flexnet Server æœåŠ¡æ­£åœ¨åœæ­¢.</span><br><span class="line">SolidWorks Flexnet Server æœåŠ¡å·²æˆåŠŸåœæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">[SC] DeleteService æˆåŠŸ</span><br><span class="line">è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br></pre></td></tr></table></figure><p>è‹¥æœªå®‰è£…æ­¤æœåŠ¡è¿”å›æœåŠ¡åæ— æ•ˆï¼ŒæœåŠ¡æœªå®‰è£…</p><h3 id="åˆ é™¤server-install"><a href="#åˆ é™¤server-install" class="headerlink" title="åˆ é™¤server_install"></a>åˆ é™¤server_install</h3><p>ç»§ç»­å³é”®ç®¡ç†å‘˜èº«ä»½è¿è¡Œserver_install.bat</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">FLEXnet License Manager is successfully installed</span><br><span class="line">as one of your Windows Services.  Some handy tips:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        * The FLEXnet License Manager will be automatically started</span><br><span class="line">          every time your system is booted.</span><br><span class="line"></span><br><span class="line">        * The FLEXnet service log file is lmgrd.log in your NT system</span><br><span class="line">          directory.</span><br><span class="line"></span><br><span class="line">        * To remove FLEXnet License Manager, type &#x27;installs -r&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">********************************************************</span><br><span class="line"> The permissions of one of the files that you just installed seems</span><br><span class="line"> to have the correct settings.</span><br><span class="line">SolidWorks Flexnet Server æœåŠ¡æ­£åœ¨å¯åŠ¨ .</span><br><span class="line">SolidWorks Flexnet Server æœåŠ¡å·²ç»å¯åŠ¨æˆåŠŸã€‚</span><br><span class="line"></span><br><span class="line">è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤ä¾èµ–sqlè½¯ä»¶åŒ…"><a href="#åˆ é™¤ä¾èµ–sqlè½¯ä»¶åŒ…" class="headerlink" title="åˆ é™¤ä¾èµ–sqlè½¯ä»¶åŒ…"></a>åˆ é™¤ä¾èµ–sqlè½¯ä»¶åŒ…</h2><p>è¿›å…¥è®¾ç½®-&gt;åº”ç”¨å¸è½½ï¼Œæ‰¾åˆ°ä»¥ä¸‹è½¯ä»¶åŒ…å¹¶å¸è½½</p><blockquote><p>micrsoft sql server Â·Â·Â· </p></blockquote><p>è¿™é‡Œåç»­å’Œsqlæœ‰å…³çš„æˆ‘éƒ½ç»™åˆ é™¤äº†</p><h2 id="åœæ­¢Imgrd-exe-è¿›ç¨‹"><a href="#åœæ­¢Imgrd-exe-è¿›ç¨‹" class="headerlink" title="åœæ­¢Imgrd.exe è¿›ç¨‹"></a>åœæ­¢Imgrd.exe è¿›ç¨‹</h2><blockquote><p>Ctrl+Shift+Esc æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨<br>ç»“æŸImgrd.exeè¿›ç¨‹</p></blockquote><h2 id="åˆ é™¤æ®‹ç•™æ³¨å†Œè¡¨"><a href="#åˆ é™¤æ®‹ç•™æ³¨å†Œè¡¨" class="headerlink" title="åˆ é™¤æ®‹ç•™æ³¨å†Œè¡¨"></a>åˆ é™¤æ®‹ç•™æ³¨å†Œè¡¨</h2><blockquote><p>win+R<br>regedit<br>æ‰¾åˆ°HKEY_LOCAL_MACHINE\SOFTWARE\ å’Œ HKEY_CURRENT_USER\Software\ ç›®å½•ä¸‹SOLIDWORDKSæœ‰å…³æ–‡ä»¶ åˆ é™¤</p></blockquote><h2 id="åˆ é™¤solidworksæ®‹ä½™çš„æ–‡ä»¶"><a href="#åˆ é™¤solidworksæ®‹ä½™çš„æ–‡ä»¶" class="headerlink" title="åˆ é™¤solidworksæ®‹ä½™çš„æ–‡ä»¶"></a>åˆ é™¤solidworksæ®‹ä½™çš„æ–‡ä»¶</h2><p>åˆ é™¤ä»¥ä¸‹æ–‡ä»¶</p><blockquote><p>C:\Documents and Settings\ã€ç™»å½•ç”¨æˆ·åã€‘\Application Data\ã€æ‰€æœ‰ç›¸å…³SolidWorksçš„æ–‡ä»¶å¤¹ ã€‘<br>C:\Documents and Settings\ã€ç™»å½•ç”¨æˆ·åã€‘\Local Settings\Application Data\ã€æ‰€æœ‰ç›¸å…³SolidWorksçš„æ–‡ä»¶å¤¹ ã€‘<br>C:\SolidWorks Data ï¼ˆè¿™æ˜¯toolboxæ–‡ä»¶ï¼Œå¦‚æœæœ‰å®šåˆ¶å†…å®¹ï¼Œè¯·ä¸è¦åˆ é™¤ï¼Œå®‰è£…æ—¶æ ¹æ®é€‰é¡¹ä½¿ç”¨ç°æœ‰æ•°æ®ï¼‰<br>C:\Documents and Settings\Administrator\Local Settings\Temp è¯¥ç›®å½•æ¸…ç©º<br>X:\Program Files\SolidWorks Corp ï¼ŒXå°±æ˜¯å®‰è£…SolidWorksæ‰€åœ¨çš„ç›˜ç¬¦</p></blockquote><p>å¸è½½å®Œæˆä¹‹åå»ºè®®åœ¨Cç›˜æœç´¢ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰ä¸SolidWorksç›¸å…³çš„æ–‡ä»¶ï¼ˆCtrl+fæœç´¢ï¼‰ï¼Œå¦‚æœ‰ï¼Œå¹¶è¿›è¡Œåˆ é™¤ã€‚</p><h2 id="ä¸‹è½½Windows-Installer-Clean-Up"><a href="#ä¸‹è½½Windows-Installer-Clean-Up" class="headerlink" title="ä¸‹è½½Windows Installer Clean Up"></a>ä¸‹è½½Windows Installer Clean Up</h2><p>é€‰æ‹©solidworksç›¸å…³ï¼Œç‚¹å‡»remove</p><h1 id="ä¸‹è½½SOLIDWORKS"><a href="#ä¸‹è½½SOLIDWORKS" class="headerlink" title="ä¸‹è½½SOLIDWORKS"></a>ä¸‹è½½SOLIDWORKS</h1><p>å³é”®è§£å‹ç¼©è½¯ä»¶ç®¡å®¶-&gt;SOLIDWORKS2024ï¼ˆUç›˜ï¼‰ ï¼Œæ‰“å¼€<br>å³é”®ç‚¹å‡» <strong>Crack</strong> é€‰æ‹©è§£å‹åˆ°<strong>Crack</strong></p><blockquote><p>è§£å‹Crackå‰éœ€å…³é—­æ‰€æœ‰æ€æ¯’è½¯ä»¶ï¼Œå¦åˆ™å¯èƒ½è¢«æ€æ¯’è½¯ä»¶è¯¯æ€æ¸…é™¤ç¨‹åºå¯¼è‡´æ— æ³•æ­£å¸¸è¿è¡Œ</p></blockquote><p>åŒå‡»æ‰“å¼€Crack è¿è¡Œ sw2024_network_Â·Â·Â· -&gt; æ˜¯ -&gt; ç¡®å®š</p><p>é¼ æ ‡å³é”®ç‚¹å‡» SolidWorks_Flexnet_Server é€‰æ‹©å¤åˆ¶ è¿›å…¥Cç›˜ç²˜è´´(Cç›˜ä¸»ç›®å½•å³å¯) -&gt; åŒå‡»æ‰“å¼€ -&gt; é¼ æ ‡å³å‡»ç®¡ç†å‘˜èº«ä»½è¿è¡Œserver_install</p><p>æ˜¾ç¤ºå¦‚ä¸‹è¯´æ˜æˆåŠŸ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">FLEXnet License Manager is successfully installed</span><br><span class="line">as one of your Windows Services.  Some handy tips:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        * The FLEXnet License Manager will be automatically started</span><br><span class="line">          every time your system is booted.</span><br><span class="line"></span><br><span class="line">        * The FLEXnet service log file is lmgrd.log in your NT system</span><br><span class="line">          directory.</span><br><span class="line"></span><br><span class="line">        * To remove FLEXnet License Manager, type &#x27;installs -r&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">********************************************************</span><br><span class="line"> The permissions of one of the files that you just installed seems</span><br><span class="line"> to have the correct settings.</span><br><span class="line">SolidWorks Flexnet Server æœåŠ¡æ­£åœ¨å¯åŠ¨ .</span><br><span class="line">SolidWorks Flexnet Server æœåŠ¡å·²ç»å¯åŠ¨æˆåŠŸã€‚</span><br><span class="line"></span><br><span class="line">è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å›åˆ°å®‰è£…åŒ…æ–‡ä»¶å¤¹ åŒå‡»æ‰“å¼€Setupæ–‡ä»¶å¤¹ ç®¡ç†å‘˜èº«ä»½è¿è¡Œsetupé¼ æ ‡å³é”®<strong>å®‰è£…ç®¡ç†ç¨‹åº</strong> é€‰æ‹© <strong>ç¦ç”¨å› ç‰¹å°”ç½‘è®¿é—®</strong><br><img src="/./images/Solidworks%E5%8D%B8%E8%BD%BD%E9%87%8D%E8%A3%85%E6%B5%81%E7%A8%8B/1.png" alt=" "><br>ç‚¹å‡»ä¸‹ä¸€æ­¥ å‹¾é€‰è‡ªå·±éœ€è¦çš„äº§å“ æ›´æ”¹å®‰è£…ä½ç½®</p></blockquote><p>è¿”å›æ‘˜è¦<br>ç‚¹å‡»Toolboxåæ–¹çš„æ›´æ”¹<br>ä¿®æ”¹å®‰è£…è·¯å¾„åˆ°Aç›˜<br>ç‚¹å‡»Electricalï¼ˆè‹¥æ²¡æœ‰è´­ä¹°æ­¤äº§å“å°±ä¸ç”¨ï¼‰ä¿®æ”¹è·¯å¾„åˆ°A<br>è¿”å›æ‘˜è¦ å‹¾é€‰æ¥å—æ¡æ¬¾ ç‚¹å‡»ç°åœ¨å®‰è£… -&gt; ç¡®å®š -&gt; ç¡®å®š</p><p>ç­‰å¾…å®‰è£…Â·Â·Â·<br>å®‰è£…æˆåŠŸ -&gt; å–æ¶ˆå€™é€‰<strong>ä¸ºæˆ‘æ˜¾ç¤ºÂ·Â·Â·æ–°å¢åŠŸèƒ½</strong> -&gt; é€‰æ‹© <strong>ä¸ï¼Œè°¢è°¢</strong> -&gt; ç‚¹å‡»å®Œæˆ -&gt; ä»¥åé‡æ–°å¯åŠ¨</p><h2 id="ç ´è§£"><a href="#ç ´è§£" class="headerlink" title="ç ´è§£"></a>ç ´è§£</h2><p>å›åˆ°ä¸‹è½½çš„Solidworks 2024 ï¼ˆ64bitï¼‰å®‰è£…åŒ…æ–‡ä»¶å¤¹ -&gt; åŒå‡»æ‰“å¼€Crackä¸‹çš„SolidSQUADLoaderEnabler -&gt; ç‚¹å‡» æ˜¯ -&gt; ç¡®å®š</p><p>é¼ æ ‡å³é”®å¤åˆ¶Crackä¸‹çš„Program Filesæ–‡ä»¶å¤¹ -&gt; æ‰“å¼€ä¹‹å‰è®¾ç½®çš„solidworks2024çš„å®‰è£…è·¯å¾„ ç²˜è´´æ›¿æ¢ä¹‹å‰çš„æ–‡ä»¶(æ­£å¸¸åº”è¯¥æ›¿æ¢4ä¸ªæ–‡ä»¶)</p><p>åŒå‡»æ¡Œé¢ SOLIDWORKS 2024 å›¾æ ‡ å³å¯å¯åŠ¨æˆåŠŸ è¿›å…¥åç‚¹å‡»æ¥å—æ¡æ¬¾ å¼€å¯å»ºæ¨¡ä¹‹æ—…</p><blockquote><p>ä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é”™è¯¯<br>è‡ªå®šä¹‰å®‰è£…è·¯å¾„ä¸‹æ²¡æœ‰Program Filesæ–‡ä»¶ æ— æ³•æ›¿æ¢<br>è¿›å…¥Crackå†…çš„Filesæ–‡ä»¶ æŠŠé‡Œé¢å†…å®¹ä¸€é”®å¤åˆ¶ï¼Œåˆ°ä½ çš„Solidworkså®‰è£…ç›®å½•å†…ç²˜è´´å³å¯ï¼ŒæˆåŠŸåå¦‚ä¸‹å›¾æ‰€ç¤º(åº•éƒ¨ä¸ºæ¡Œé¢ç§»æ¤çš„å¿«æ·æ–¹å¼)</p></blockquote><p><img src="/./images/Solidworks%E5%8D%B8%E8%BD%BD%E9%87%8D%E8%A3%85%E6%B5%81%E7%A8%8B/2.png" alt=" "></p><h1 id="èµ„æº"><a href="#èµ„æº" class="headerlink" title="èµ„æº"></a>èµ„æº</h1><p><a href="https://www.123pan.com/s/PyfZjv-ERwZh.html">SolidWorksä¸‹è½½é“¾æ¥ï¼ˆæ— é™é€Ÿï¼‰</a></p><h2 id="ä¸€äº›æ³¨æ„äº‹é¡¹"><a href="#ä¸€äº›æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸€äº›æ³¨æ„äº‹é¡¹"></a>ä¸€äº›æ³¨æ„äº‹é¡¹</h2><p>å‘ä¸‹å…¼å®¹ä½ç‰ˆæœ¬å¤±è´¥æ˜¾ç¤º <em>ä¿å­˜åˆ°å…ˆå‰ç‰ˆæœ¬éœ€è¦SLIDWORKS è®¢é˜…æœåŠ¡</em><br><strong>è§£å†³åŠæ³•</strong><br>ç”¨è®°äº‹æœ¬æ‰“å¼€ç ´è§£æ—¶å€™çš„ â€œC:\SolidWorks_Flexnet_Server\sw_d_SSQ.licâ€ æ–‡ä»¶ï¼Œå¦‚ä¸‹</p><p><img src="/./images/Solidworks%E5%8D%B8%E8%BD%BD%E9%87%8D%E8%A3%85%E6%B5%81%E7%A8%8B3.png" alt=" "></p><p>å°† sd&#x3D;10-16-2019 æ›¿æ¢ä¸º 10-16-2030<br>ctrl+sä¿å­˜<br>é‡å¯ç”µè„‘å³å¯ç”Ÿæ•ˆ</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Solidworks </tag>
            
            <tag> æœºæ¢° </tag>
            
            <tag> è½¯ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dsoå®‰è£…åŠå®éªŒæ•°æ®åˆ†æ(å†…å«miniconda3ç¯å¢ƒé…ç½®)</title>
      <link href="/2024/08/20/dso%E5%AE%89%E8%A3%85%E5%8F%8A%E5%AE%9E%E9%AA%8C%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90(%E5%86%85%E5%90%ABminiconda3%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE)/"/>
      <url>/2024/08/20/dso%E5%AE%89%E8%A3%85%E5%8F%8A%E5%AE%9E%E9%AA%8C%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90(%E5%86%85%E5%90%ABminiconda3%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE)/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Environment </tag>
            
            <tag> miniconda3 </tag>
            
            <tag> dso </tag>
            
            <tag> tec </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuç»ˆç«¯ä¸‹è½½é€Ÿåº¦æ…¢_æ¢æº</title>
      <link href="/2024/08/18/Ubuntu%E7%BB%88%E7%AB%AF%E4%B8%8B%E8%BD%BD%E9%80%9F%E5%BA%A6%E6%85%A2_%E6%8D%A2%E6%BA%90/"/>
      <url>/2024/08/18/Ubuntu%E7%BB%88%E7%AB%AF%E4%B8%8B%E8%BD%BD%E9%80%9F%E5%BA%A6%E6%85%A2_%E6%8D%A2%E6%BA%90/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¯¹Ubuntuç»ˆç«¯ä¸‹è½½é€Ÿåº¦æ…¢çš„é—®é¢˜ä¸»è¦ä¸¤ç§è§£å†³æ–¹æ¡ˆ</p><ul><li>æŠŠ&#x2F;etc&#x2F;apt&#x2F;sources.listæ–‡ä»¶é‡Œçš„æºæ›´æ¢ä¸€ä¸‹ï¼Œæ”¹æˆé˜¿é‡Œäº‘æˆ–è€…å…¶å®ƒçš„é•œåƒçš„æ–‡ä»¶</li><li>æ›´æ¢ software&amp;updates é‡Œçš„select best serveræ”¹æˆå…¶ä»–æœåŠ¡å™¨</li></ul><p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹ç¬¬ä¸€ç§ç»™å‡ºæ•™å­¦</p></blockquote><h2 id="å¤‡ä»½æºåˆ—è¡¨sources-list"><a href="#å¤‡ä»½æºåˆ—è¡¨sources-list" class="headerlink" title="å¤‡ä»½æºåˆ—è¡¨sources.list"></a>å¤‡ä»½æºåˆ—è¡¨sources.list</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources list /etc/apt/sources.list_backup</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹sources-list"><a href="#ä¿®æ”¹sources-list" class="headerlink" title="ä¿®æ”¹sources.list"></a>ä¿®æ”¹sources.list</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo gedit /etc/apt/sources.list</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ æº"><a href="#æ·»åŠ æº" class="headerlink" title="æ·»åŠ æº"></a>æ·»åŠ æº</h2><p>åœ¨æ–‡ä»¶æœ€å‰é¢æ·»åŠ é•œåƒæº(è¿™é‡Œåšä¸»æ›¿æ¢ä¸ºé˜¿é‡Œæºï¼Œåé¢è¿˜æœ‰å…¶ä»–ä¾›é€‰æ‹©)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é˜¿é‡Œæº</span></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>åˆ«å¿˜äº†Ctrl+Sä¿å­˜å“¦</p></blockquote><h2 id="åˆ·æ–°åˆ—è¡¨"><a href="#åˆ·æ–°åˆ—è¡¨" class="headerlink" title="åˆ·æ–°åˆ—è¡¨"></a>åˆ·æ–°åˆ—è¡¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt updata</span><br><span class="line"></span><br><span class="line">sudo apt upgrade</span><br><span class="line"></span><br><span class="line">sudo apt install build-essential</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¤§åŠŸå‘Šæˆ</p><h2 id="å…¶ä»–æº"><a href="#å…¶ä»–æº" class="headerlink" title="å…¶ä»–æº"></a>å…¶ä»–æº</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸­ç§‘å¤§æº</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">163æº</span></span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ¸…åæº</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><h2 id="é”¦å›Š"><a href="#é”¦å›Š" class="headerlink" title="é”¦å›Š"></a>é”¦å›Š</h2><p>å¦‚æœä¸‹è½½é€Ÿåº¦è¿˜æ˜¯å¾ˆæ…¢(åšä¸»ä¸å¹¸é‡åˆ°ï¼Œè¿˜æœªçŸ¥é“åŸå› )å¯ä»¥é‡‡ç”¨å¦‚ä¸‹ä¸‹è½½æ–¹å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//ä»¥ä¸‹è½½opencvä¸ºä¾‹å­</span><br><span class="line">pip install  -i https://pypi.tuna.tsinghua.edu.cn/simple   opencv=3.5</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> obstacle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§†è§‰å¤„ç†ä¹‹ROSä¸OpenCVçš„ä¿®æ”¹è½¬æ¢</title>
      <link href="/2024/08/01/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/"/>
      <url>/2024/08/01/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ­¤æ–‡ç« ä¸º202302æš‘æœŸRMè§†è§‰åŸ¹è®­æ€»ç»“<br>å…·ä½“å®ç°ç›®æ ‡ä»»åŠ¡å¦‚ä¸‹<br>â€¢ å®‰è£…usb_camæˆ–å…¶ä»–USBæ‘„åƒå¤´é©±åŠ¨åŒ…é©±åŠ¨ç¬”è®°æœ¬ç”µè„‘è‡ªå¸¦çš„æ‘„åƒå¤´<br>â€¢ æ–°å»ºåŠŸèƒ½åŒ…ï¼Œç¼–å†™èŠ‚ç‚¹å®æ—¶è®¢é˜…æ‘„åƒå¤´å‘å¸ƒçš„å›¾åƒè¯é¢˜æ¶ˆæ¯å¹¶å°†ROSå›¾åƒæ¶ˆæ¯è½¬æ¢ä¸ºOpenCVå›¾åƒ<br>â€¢ åœ¨å›¾åƒå³ä¸Šè§’ç»˜åˆ¶çŸ©å½¢ï¼Œå†å°†OpenCVå›¾åƒè½¬æ¢å›ROSå›¾åƒæ¶ˆæ¯é‡æ–°å‘å¸ƒåˆ°ä¸€ä¸ªæ–°çš„è¯é¢˜<br>â€¢ ç”¨rvizæˆ–è€…rqt_image_viewæ˜¾ç¤ºå›¾åƒæ¶ˆæ¯</p></blockquote><h2 id="æ‰“å¼€æ‘„åƒå¤´"><a href="#æ‰“å¼€æ‘„åƒå¤´" class="headerlink" title="æ‰“å¼€æ‘„åƒå¤´"></a>æ‰“å¼€æ‘„åƒå¤´</h2><h3 id="å®‰è£…-usb-camæ‘„åƒå¤´é©±åŠ¨"><a href="#å®‰è£…-usb-camæ‘„åƒå¤´é©±åŠ¨" class="headerlink" title="å®‰è£… usb_camæ‘„åƒå¤´é©±åŠ¨"></a>å®‰è£… usb_camæ‘„åƒå¤´é©±åŠ¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-humble-usb_cam # ç¬”è€…è¿™é‡Œç”¨çš„æ˜¯humbleç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬è‡ªè¡Œæ›¿æ¢</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡cheese</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cheese #ä¸‹è½½</span><br><span class="line">cheese  # è¿è¡ŒèŒ„å­</span><br></pre></td></tr></table></figure><p>è¿›å…¥åé€‚å½“ä¿®æ”¹åˆ†è¾¨ç‡ä¼šæ›´æµç•…</p><blockquote><p><strong>æ³¨æ„è®°å¾—å…ˆæ›´æ–°</strong><br>sudo apt update</p></blockquote><h3 id="è¿è¡Œcamera-launch-py"><a href="#è¿è¡Œcamera-launch-py" class="headerlink" title="è¿è¡Œcamera.launch.py"></a>è¿è¡Œcamera.launch.py</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 launch usb_cam camera.launch.py</span><br></pre></td></tr></table></figure><blockquote><p>é”™è¯¯1<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/1.png" alt=" "><br>è§£å†³æ–¹æ³•<br>pip install pydantic&#x3D;&#x3D;1.10.14<br>è¿™é‡Œç¬”è€…ä¸‹è½½æ—¶ç‰ˆæœ¬ä¸å¤Ÿï¼Œæ²¡æœ‰model_validator,æŠ¥é”™å¦‚ä¸‹</p><ul><li>ImportError: cannot import name â€˜model_validatorâ€™ from â€˜pydanticâ€™ (&#x2F;home&#x2F;whaltze&#x2F;.local&#x2F;lib&#x2F;python3.10&#x2F;site-packages&#x2F;pydantic&#x2F;<em>_init</em>_.cpython-310-x86_64-linux-gnu.so)<br>åç»­éœ€è¦è¿›è¡Œæ›´æ–°  pip install â€“upgrade pydantic</li></ul></blockquote><p>å†æ¬¡è¿è¡Œå³å¯<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/2.png" alt=" "></p><h2 id="è¿è¡Œæ‘„åƒå¤´"><a href="#è¿è¡Œæ‘„åƒå¤´" class="headerlink" title="è¿è¡Œæ‘„åƒå¤´"></a>è¿è¡Œæ‘„åƒå¤´</h2><h3 id="ä½¿ç”¨rqt-image-view"><a href="#ä½¿ç”¨rqt-image-view" class="headerlink" title="ä½¿ç”¨rqt_image_view"></a>ä½¿ç”¨rqt_image_view</h3><p>å¦å¤–å¼€å¯ä¸€ä¸ªç»ˆç«¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-humble-rqt </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rqt <span class="comment"># è¿è¡Œrqt</span></span></span><br><span class="line">ros2 run rqt_image_view rqt_image_view</span><br></pre></td></tr></table></figure><p>é€‰æ‹©&#x2F;camera1&#x2F;image_raw å³å¯çœ‹åˆ°å›¾åƒæ¶ˆæ¯</p><h3 id="ä½¿ç”¨rviz"><a href="#ä½¿ç”¨rviz" class="headerlink" title="ä½¿ç”¨rviz"></a>ä½¿ç”¨rviz</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-humble-rviz2</span><br><span class="line">ros2 run rviz2 rviz2</span><br></pre></td></tr></table></figure><p>é€‰æ‹©å·¦ä¸‹è§’Addï¼Œå¦‚å›¾å³å¯çœ‹åˆ°è§†é¢‘å›¾åƒ<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/3.png" alt=" "></p><h2 id="ç¼–å†™èŠ‚ç‚¹"><a href="#ç¼–å†™èŠ‚ç‚¹" class="headerlink" title="ç¼–å†™èŠ‚ç‚¹"></a>ç¼–å†™èŠ‚ç‚¹</h2><h3 id="åˆ›å»ºåŠŸèƒ½åŒ…"><a href="#åˆ›å»ºåŠŸèƒ½åŒ…" class="headerlink" title="åˆ›å»ºåŠŸèƒ½åŒ…"></a>åˆ›å»ºåŠŸèƒ½åŒ…</h3><p>è¿›å…¥å·¥ä½œç©ºé—´ï¼ˆè¿™é‡Œç¬”è€…çš„æ˜¯&#x2F;home&#x2F;whaltze&#x2F;rm&#x2F;202302&#x2F;ros2ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/rm/202302/ros2/src #è¿›å…¥srcæ–‡ä»¶å¤¹</span><br><span class="line">ros2 pkg create --build-type ament_python camera #åˆ›å»ºåŠŸèƒ½åŒ…</span><br><span class="line">cd camera</span><br></pre></td></tr></table></figure><h3 id="setup-py"><a href="#setup-py" class="headerlink" title="setup.py"></a>setup.py</h3><p>åœ¨cameraä¸­åˆ›å»ºsetup.py </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> find_packages, setup</span><br><span class="line"></span><br><span class="line">package_name = <span class="string">&#x27;camera&#x27;</span></span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=package_name,</span><br><span class="line">    version=<span class="string">&#x27;0.0.0&#x27;</span>,</span><br><span class="line">    packages=find_packages(exclude=[<span class="string">&#x27;test&#x27;</span>]),</span><br><span class="line">    data_files=[</span><br><span class="line">        (<span class="string">&#x27;share/ament_index/resource_index/packages&#x27;</span>,</span><br><span class="line">            [<span class="string">&#x27;resource/&#x27;</span> + package_name]),</span><br><span class="line">        (<span class="string">&#x27;share/&#x27;</span> + package_name, [<span class="string">&#x27;package.xml&#x27;</span>]),</span><br><span class="line">    ],</span><br><span class="line">    install_requires=[<span class="string">&#x27;setuptools&#x27;</span>],</span><br><span class="line">    zip_safe=<span class="literal">True</span>,</span><br><span class="line">    maintainer=<span class="string">&#x27;whaltze&#x27;</span>,</span><br><span class="line">    maintainer_email=<span class="string">&#x27;whaltze@todo.todo&#x27;</span>,</span><br><span class="line">    description=<span class="string">&#x27;TODO: Package description&#x27;</span>,</span><br><span class="line">    license=<span class="string">&#x27;TODO: License declaration&#x27;</span>,</span><br><span class="line">    tests_require=[<span class="string">&#x27;pytest&#x27;</span>],</span><br><span class="line">    entry_points=&#123;</span><br><span class="line">        <span class="string">&#x27;console_scripts&#x27;</span>: [<span class="string">&#x27;camera_node = camera.camera_node:main&#x27;</span></span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¬”è€…åœ¨åˆ›å»ºåŠŸèƒ½åŒ…çš„æ—¶å€™å·²ç»è‡ªåŠ¨åˆ›å»ºäº†setupç¨‹åºï¼Œæ²¡æœ‰çš„è‡ªè¡Œæ·»åŠ <br>ä¸­é—´çš„æ–‡ä»¶åï¼Œç”¨æˆ·åè®°å¾—ä¿®æ”¹</p><h3 id="camera-node-py"><a href="#camera-node-py" class="headerlink" title="camera_node.py"></a>camera_node.py</h3><blockquote><p>cd &#x2F;src&#x2F;camera&#x2F;camera&#x2F;</p></blockquote><p>åˆ›å»ºcamera_node.pyç¨‹åº</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br><span class="line"><span class="keyword">from</span> sensor_msgs.msg <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> cv_bridge <span class="keyword">import</span> CvBridge</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CameraNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">&#x27;camera_node&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.subscription = <span class="variable language_">self</span>.create_subscription(</span><br><span class="line">            Image,</span><br><span class="line">            <span class="string">&#x27;/camera1/image_raw&#x27;</span>,  <span class="comment"># å›¾åƒè¯é¢˜ï¼Œæ ¹æ®å®é™…è®¾ç½®æƒ…å†µæ›´æ”¹</span></span><br><span class="line">            <span class="variable language_">self</span>.listener_callback,</span><br><span class="line">            <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.publisher1 = <span class="variable language_">self</span>.create_publisher(Image, <span class="string">&#x27;rec_image&#x27;</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.bridge = CvBridge()</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">listener_callback</span>(<span class="params">self, msg</span>):</span><br><span class="line">        cv_image = <span class="variable language_">self</span>.bridge.imgmsg_to_cv2(msg, <span class="string">&quot;bgr8&quot;</span>)   <span class="comment">#è½¬æ¢ä¸ºOpenCVå›¾åƒ</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åœ¨å›¾åƒå³ä¸Šè§’ç»˜åˆ¶çŸ©å½¢</span></span><br><span class="line">        height, width, _ = cv_image.shape</span><br><span class="line">        cv2.rectangle(cv_image, (width - <span class="number">100</span>, <span class="number">0</span>), (width, <span class="number">100</span>), (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å°† OpenCV å›¾åƒè½¬æ¢å› ROS å›¾åƒæ¶ˆæ¯</span></span><br><span class="line">        ros_image = <span class="variable language_">self</span>.bridge.cv2_to_imgmsg(cv_image, <span class="string">&quot;bgr8&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å‘å¸ƒå¤„ç†åçš„å›¾åƒ</span></span><br><span class="line">        <span class="variable language_">self</span>.publisher1.publish(ros_image)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):</span><br><span class="line">    rclpy.init(args=args)</span><br><span class="line">    camera_node = CameraNode()</span><br><span class="line">    rclpy.spin(camera_node)</span><br><span class="line">    camera_node.destroy_node()</span><br><span class="line">    rclpy.shutdown()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¬”è€…è¿™é‡Œç›´æ¥å°†æœ€åç»“æœå›¾åƒå³ä¸Šè§’ç”»ä¸€ä¸ªç™½è‰²çŸ©å½¢ï¼Œè½¬æ¢ä¸ºROSå›¾åƒæ¶ˆæ¯è¾“å‡º</p><h2 id="æˆæœæ£€éªŒ"><a href="#æˆæœæ£€éªŒ" class="headerlink" title="æˆæœæ£€éªŒ"></a>æˆæœæ£€éªŒ</h2><p>å›åˆ°ros2å·¥ä½œç›®å½•ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥</p><blockquote><p>ros2 launch usb_cam camera.launch.py<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/4.png" alt=" "></p></blockquote><p>å†æ‰“å¼€ä¸€ä¸ªç»ˆç«¯è¾“å…¥</p><blockquote><p>source install&#x2F;setup.bash<br>ros2 run camera camera_node<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/5.png" alt=" "></p></blockquote><p>å†æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¾“å…¥</p><blockquote><p>ros2 run rqt_image_view rqt_image_view<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/6.png" alt=" "></p></blockquote><p>æœ€ç»ˆæ•ˆæœå¦‚å›¾ï¼ˆç¬”è€…æœ‰ç‚¹å®³ç¾ï¼Œå°±ç”¨æ‰‹é®ä½æ‘„åƒå¤´å•¦ï¼‰<br><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/7.png" alt=" "></p><h2 id="è¿›é˜¶è®²è§£-camera-node"><a href="#è¿›é˜¶è®²è§£-camera-node" class="headerlink" title="è¿›é˜¶è®²è§£ - camera_node"></a>è¿›é˜¶è®²è§£ - camera_node</h2><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br></pre></td></tr></table></figure><p>rclpyæ˜¯é’ˆå¯¹Pythonè¯­è¨€çš„ROS2å®¢æˆ·ç«¯åº“ï¼Œæä¾›äº†åˆå§‹åŒ–ã€åˆ›å»ºèŠ‚ç‚¹ã€å‘å¸ƒå’Œè®¢é˜…è¯é¢˜ç­‰åŠŸèƒ½<br>è¿™é‡Œè´´ä¸¤ä¸ªé“¾æ¥ &nbsp; &nbsp; <a href="https://docs.ros2.org/latest/api/rclpy/index.html">RCLPYæ–‡æ¡£</a> &nbsp;  &nbsp; <a href="https://github.com/ros2/rclpy">RCLPYæºç </a></p><p>Node ç±»æ˜¯ rclpy ä¸­å®šä¹‰çš„åŸºæœ¬ç±»ï¼Œç”¨äºåˆ›å»º ROS 2 èŠ‚ç‚¹ã€‚ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ ROS 2 ç³»ç»Ÿä¸­çš„åŸºæœ¬é€šä¿¡å®ä½“ï¼Œå¯ä»¥å‘å¸ƒå’Œè®¢é˜…è¯é¢˜ã€æä¾›å’Œè°ƒç”¨æœåŠ¡ç­‰</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sensor_msgs.msg <span class="keyword">import</span> Image</span><br></pre></td></tr></table></figure><p>Image æ¶ˆæ¯ç±»å‹å®šä¹‰åœ¨ sensor_msgs åŒ…ä¸­ï¼Œç”¨äºä¼ è¾“å›¾åƒæ•°æ®ã€‚å®ƒåŒ…å«å›¾åƒçš„å…ƒæ•°æ®ï¼ˆå¦‚é«˜åº¦ã€å®½åº¦ã€ç¼–ç ç­‰ï¼‰å’Œå®é™…çš„å›¾åƒæ•°æ®ã€‚<br>åœ¨ ROS 2 ä¸­ï¼Œå›¾åƒæ•°æ®é€šå¸¸é€šè¿‡ Image æ¶ˆæ¯åœ¨èŠ‚ç‚¹ä¹‹é—´ä¼ è¾“ã€‚</p><p><a href="https://qiangsun89.github.io/2023/04/25/%E4%BB%8B%E7%BB%8DROS%E4%B8%ADsensor-msgs/">ä»‹ç»ROSä¸­çš„sensor_msgs</a> &nbsp; &nbsp;  <a href="https://blog.csdn.net/I_canjnu/article/details/124855613">sensor_msgs::Imageæ¶ˆæ¯åŠå…¶å‚æ•°</a></p><p><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/8.png" alt=" "></p></blockquote><p>æ³¨æ„ <em><strong>sensor_msgs&#x2F;Image</strong></em> æ˜¯åŸå§‹çš„æœªç»å‹ç¼©çš„å›¾åƒæ¶ˆæ¯ï¼Œé€šå¸¸ç”¨äºä¼ è¾“åŸå§‹å›¾åƒæ•°æ®ï¼Œä¾‹å¦‚ RGBã€ç°åº¦æˆ–æ·±åº¦å›¾åƒã€‚è€Œ <em><strong>sensor_msgs&#x2F;CompressedImage</strong></em> æ˜¯ç»è¿‡å‹ç¼©çš„å›¾åƒæ¶ˆæ¯ï¼Œæ•°æ®é‡è¾ƒå°‘ï¼Œå‹ç¼©æ ¼å¼é€šå¸¸æ˜¯ JPEG æˆ– PNG</p><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> cv_bridge <span class="keyword">import</span> CvBridge</span><br></pre></td></tr></table></figure><p>CvBridge æ˜¯ç”¨äºåœ¨ ROS å›¾åƒæ¶ˆæ¯ (sensor_msgs&#x2F;Image) å’Œ OpenCV å›¾åƒ (numpy æ•°ç»„) ä¹‹é—´è½¬æ¢çš„å·¥å…·åŒ…ï¼ŒOpenCV æä¾›äº†ä¸°å¯Œçš„å›¾åƒå¤„ç†åŠŸèƒ½ï¼Œè€Œ ROS ä½¿ç”¨ Image æ¶ˆæ¯è¿›è¡Œå›¾åƒä¼ è¾“ã€‚è¿™æ ·çš„è½¬åŒ–ä¾¿äºå›¾åƒå¤„ç†ï¼Œç¬”è€…åç»­ä¹ŸåŸºäºæ­¤æ„å»ºçŸ©å½¢</p><p><img src="/./images/%E8%A7%86%E8%A7%89%E5%A4%84%E7%90%86%E4%B9%8BROS%E4%B8%8EOpenCV%E7%9A%84%E4%BF%AE%E6%94%B9%E8%BD%AC%E6%8D%A2/9.png" alt=" "></p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br></pre></td></tr></table></figure><p>cv2 éå¸¸è‘—åï¼Œæ˜¯ OpenCV çš„ Python æ¥å£ã€‚OpenCV ä½œä¸ºä¸€ä¸ªå¼€æºè®¡ç®—æœºè§†è§‰åº“ï¼Œæä¾›äº†ä¸°å¯Œçš„å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰åŠŸèƒ½ã€‚åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ OpenCV æ¥å¤„ç†å’Œä¿®æ”¹å›¾åƒï¼Œä¾‹å¦‚åœ¨å›¾åƒä¸Šç»˜åˆ¶çŸ©å½¢ã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CameraNode</span>(<span class="title class_ inherited__">Node</span>):</span><br></pre></td></tr></table></figure><p>å®šä¹‰ä¸€ä¸ªåä¸º CameraNode çš„ç±»ï¼Œç»§æ‰¿è‡ª Nodeï¼Œè¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ ROS 2 èŠ‚ç‚¹ç±»ã€‚Node æ˜¯ä» rclpy.node å¯¼å…¥çš„ç±»ï¼Œå®ƒæä¾›äº† ROS 2 èŠ‚ç‚¹çš„åŸºç¡€åŠŸèƒ½ã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br></pre></td></tr></table></figure><p>å®šä¹‰æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–èŠ‚ç‚¹,<em>_init</em>_ æ–¹æ³•æ˜¯ç±»çš„æ„é€ å‡½æ•°ã€‚å½“åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰æ—¶ï¼ŒPython ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥åˆå§‹åŒ–å¯¹è±¡çš„å±æ€§ã€‚<br>å³ å®šä¹‰ç±»çš„æ„é€ å‡½æ•°ï¼Œ<em>_init</em>_ æ–¹æ³•ä¼šåœ¨åˆ›å»º CameraNode å®ä¾‹æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„å±æ€§ã€‚<br><a href="https://blog.csdn.net/pengneng123/article/details/137555573">__init__å‡½æ•°çš„ç”¨æ³•è¯¦è§£ï¼</a> &nbsp;  <strong><a href="https://gitcode.csdn.net/65e6e3c51a836825ed786deb.html?dp_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NjQ2ODkyOSwiZXhwIjoxNzIzNjkxNzA1LCJpYXQiOjE3MjMwODY5MDUsInVzZXJuYW1lIjoiV2hhbHR6ZSJ9.MPDTDnoa4X65mIZkrlOYZDICEPI7liFNoYmGol6ViOs"><em>_init</em>_ + superè¯¦è§£</a></strong></p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">super</span>().__init__(<span class="string">&#x27;camera_node&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è°ƒç”¨çˆ¶ç±»ï¼ˆNodeï¼‰çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¼ é€’èŠ‚ç‚¹åç§° â€˜camera_nodeâ€™ã€‚è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º â€˜camera_nodeâ€™ çš„ ROS 2 èŠ‚ç‚¹ã€‚<br>å…¶ä¸­ï¼Œsuper() å‡½æ•°ç”¨äºè°ƒç”¨çˆ¶ç±»ï¼ˆåŸºç±»ï¼‰çš„æ–¹æ³•ã€‚å®ƒå…è®¸å­ç±»è°ƒç”¨ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯è¦†ç›–å®ƒä»¬ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚å³super() å‡½æ•°è¿”å›çˆ¶ç±»ï¼ˆNodeï¼‰çš„å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ . è®¿é—®çˆ¶ç±»çš„æ–¹æ³•ï¼ˆ<em>_init</em>_ï¼‰</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.subscription = <span class="variable language_">self</span>.create_subscription(</span><br><span class="line">    Image,</span><br><span class="line">    <span class="string">&#x27;/camera1/image_raw&#x27;</span>,  <span class="comment"># å›¾åƒè¯é¢˜ï¼Œæ ¹æ®å®é™…è®¾ç½®æƒ…å†µæ›´æ”¹</span></span><br><span class="line">    <span class="variable language_">self</span>.listener_callback,</span><br><span class="line">    <span class="number">10</span>)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªè®¢é˜…è€…ï¼Œç”¨äºè®¢é˜… &#x2F;usb_cam&#x2F;image_raw è¯é¢˜ã€‚è®¢é˜…çš„æ¶ˆæ¯ç±»å‹æ˜¯ Imageã€‚<br>å½“æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œè°ƒç”¨ listener_callback å‡½æ•°è¿›è¡Œå¤„ç†ã€‚</p></blockquote><p>self.subscription è¡¨ç¤ºè®¿é—®å½“å‰å¯¹è±¡ï¼ˆselfï¼‰çš„ subscription å±æ€§ã€‚<br>self.create_subscription è¡¨ç¤ºè®¿é—®å½“å‰å¯¹è±¡ï¼ˆselfï¼‰çš„ create_subscription æ–¹æ³•ã€‚</p><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.publisher1 = <span class="variable language_">self</span>.create_publisher(Image, <span class="string">&#x27;rec_image&#x27;</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªå‘å¸ƒè€…ï¼Œç”¨äºå‘å¸ƒå¤„ç†åçš„å›¾åƒã€‚å‘å¸ƒçš„è¯é¢˜åç§°æ˜¯ â€˜rec_imageâ€™ï¼Œæ¶ˆæ¯ç±»å‹æ˜¯ Imageã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.bridge = CvBridge()</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ª CvBridge å®ä¾‹ï¼Œç”¨äºåœ¨ ROS å›¾åƒæ¶ˆæ¯å’Œ OpenCV å›¾åƒä¹‹é—´è¿›è¡Œè½¬æ¢<br>self.bridge æ˜¯ç±»çš„å±æ€§ï¼Œç”¨äºå­˜å‚¨ CvBridge å¯¹è±¡ã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">listener_callback</span>(<span class="params">self, msg</span>):</span><br></pre></td></tr></table></figure><p>å®šä¹‰å›è°ƒå‡½æ•°ï¼Œå½“æ¥æ”¶åˆ°å›¾åƒæ¶ˆæ¯æ—¶è°ƒç”¨ã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv_image = <span class="variable language_">self</span>.bridge.imgmsg_to_cv2(msg, <span class="string">&quot;bgr8&quot;</span>)   <span class="comment">#è½¬æ¢ä¸ºOpenCVå›¾åƒ</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ CvBridge å°† ROS å›¾åƒæ¶ˆæ¯è½¬æ¢ä¸º OpenCV å›¾åƒï¼ˆnumpy æ•°ç»„ï¼‰ã€‚å›¾åƒç¼–ç ä¸º â€œbgr8â€ï¼Œè¡¨ç¤º 8-bit BGR å›¾åƒã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">height, width, _ = cv_image.shape</span><br></pre></td></tr></table></figure><p>è·å–å›¾åƒçš„é«˜åº¦å’Œå®½åº¦</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.rectangle(cv_image, (width - <span class="number">100</span>, <span class="number">0</span>), (width, <span class="number">100</span>), (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>åœ¨å›¾åƒå³ä¸Šè§’ç»˜åˆ¶ä¸€ä¸ªç™½è‰²çŸ©å½¢ï¼Œå®½åº¦ä¸º 100 åƒç´ ï¼Œé«˜åº¦ä¸º 100 åƒç´ ï¼Œçº¿æ¡å®½åº¦ä¸º 2 åƒç´ ã€‚<br>æ³¨æ„å›¾åƒåŸç‚¹åœ¨å·¦ä¸Šè§’</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros_image = <span class="variable language_">self</span>.bridge.cv2_to_imgmsg(cv_image, <span class="string">&quot;bgr8&quot;</span>)</span><br></pre></td></tr></table></figure><p>å°†å¤„ç†åçš„ OpenCV å›¾åƒè½¬æ¢å› ROS å›¾åƒæ¶ˆæ¯ã€‚</p></blockquote><blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.publisher1.publish(ros_image)</span><br></pre></td></tr></table></figure><p>å‘å¸ƒå¤„ç†åçš„å›¾åƒæ¶ˆæ¯ã€‚</p></blockquote><p>ä¸»å‡½æ•°éƒ¨åˆ†<br> <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):          <span class="comment">#å®šä¹‰ä¸»å‡½æ•°</span></span><br><span class="line">    rclpy.init(args=args)      <span class="comment">#åˆå§‹åŒ– ROS 2 å®¢æˆ·ç«¯åº“ã€‚</span></span><br><span class="line">    camera_node = CameraNode() <span class="comment">#åˆ›å»º CameraNode å®ä¾‹ã€‚</span></span><br><span class="line">    rclpy.spin(camera_node)    <span class="comment">#è¿›å…¥ ROS 2 èŠ‚ç‚¹çš„äº‹ä»¶å¾ªç¯ï¼Œç­‰å¾…å¹¶å¤„ç†äº‹ä»¶ï¼ˆä¾‹å¦‚æ¥æ”¶æ¶ˆæ¯ï¼‰ã€‚</span></span><br><span class="line">    camera_node.destroy_node() <span class="comment">#é”€æ¯èŠ‚ç‚¹ã€‚</span></span><br><span class="line">    rclpy.shutdown()           <span class="comment">#å…³é—­ ROS 2 å®¢æˆ·ç«¯åº“ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:     <span class="comment">#å¦‚æœè„šæœ¬ä½œä¸ºä¸»ç¨‹åºè¿è¡Œï¼Œè°ƒç”¨ main() å‡½æ•°ã€‚</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p><blockquote><p>å‚è€ƒæ–‡ç« <br><a href="https://blog.csdn.net/hltt3838/article/details/107646737">ROSç³»åˆ—ï¼šå…«ã€å›¾åƒæ¶ˆæ¯å’ŒOpenCVå›¾åƒä¹‹é—´è¿›è¡Œè½¬æ¢-cv_bridge</a><br><a href="https://blog.csdn.net/sansanjinli/article/details/102998069">åœ¨ROSä¸­ opencv å‘å¸ƒå’Œæ¥æ”¶å›¾åƒæ¶ˆæ¯ å­¦ä¹ æ€»ç»“</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> ROS </tag>
            
            <tag> ubuntu22.04 </tag>
            
            <tag> humble </tag>
            
            <tag> OpenCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºyolov5çš„æ•°å­—è¯†åˆ«</title>
      <link href="/2024/07/16/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/"/>
      <url>/2024/07/16/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<blockquote><p><em><b><font  face="å¾®è½¯é›…é»‘">å¼€å§‹å‰ï¼Œè¯·ç¡®ä¿å·²ç»æ­£ç¡®é…ç½® <em><strong><a href="https://whaltze.github.io/2024/07/15/Deploy%20Environment%20to%20Anaconda3/">Anaconda3</a></strong></em> </font></b></em></p></blockquote><h1 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda create --name yolov5_env python=<span class="number">3.9</span> <span class="comment">//å»ºç«‹æ–°ç¯å¢ƒyolov5 æ­è½½python3.9</span></span><br><span class="line">conda install pytorch torchvision torchaudio cpuonly -c pytorch <span class="comment">//å®‰è£…pytorch2.3.1</span></span><br><span class="line">git clone <span class="attr">https</span>:<span class="comment">//github.com/ultralytics/yolov5  # clone yolov5</span></span><br><span class="line">cd yolov5 <span class="comment">//è½¬åˆ°yolov5ç›®å½•ä¸‹</span></span><br><span class="line">pip install -r requirements.<span class="property">txt</span>  # install å®‰è£…å„ç§åŒ…<span class="comment">//å®‰è£…yolov5 v6.0</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œåšä¸»åªç”¨äº†cpuonlyæ¥è·‘ï¼Œè¦ç”¨GPUè‡ªè¡Œæœç´¢CUDAä¸‹è½½é…ç½®ï¼Œåç»­ä¼šæ›´æ–°ç”¨é˜¿é‡Œäº‘æœåŠ¡å™¨è¿›è¡Œè®­ç»ƒ</p><blockquote><p>é…ç½®å®Œç¯å¢ƒåå¦‚ä¸‹å›¾æ‰€ç¤º<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/1.png" alt="env_done" title="env_done"></p></blockquote><h1 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h1><h2 id="å‡†å¤‡æ–‡ä»¶"><a href="#å‡†å¤‡æ–‡ä»¶" class="headerlink" title="å‡†å¤‡æ–‡ä»¶"></a>å‡†å¤‡æ–‡ä»¶</h2><p>  åœ¨ä¸‹è½½å¥½çš„ yolov5 æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ VOCData è¿›å…¥åå†æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ Annotations å’Œ images</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨yolov5ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯</span></span><br><span class="line">mkdir <span class="title class_">VOCData</span></span><br><span class="line">cd <span class="title class_">VOCData</span></span><br><span class="line">mkdir <span class="title class_">Annotations</span> <span class="comment">//ç”¨äºå­˜æ”¾æ ‡æ³¨åçš„å†…å®¹ï¼ˆ.xmlï¼‰</span></span><br><span class="line">mkdir images <span class="comment">//ç”¨äºå­˜æ”¾è¦æ ‡æ³¨çš„å›¾ç‰‡ï¼ˆ.jpgï¼‰</span></span><br></pre></td></tr></table></figure><h2 id="Labelimg-æ ‡æ³¨"><a href="#Labelimg-æ ‡æ³¨" class="headerlink" title="Labelimg æ ‡æ³¨"></a>Labelimg æ ‡æ³¨</h2><h3 id="Preparing"><a href="#Preparing" class="headerlink" title="Preparing"></a>Preparing</h3><blockquote><p>ä¸‹è½½ <em><strong><a href="https://github.com/tzutalin/labelImg">Labelimg</a></strong></em><br>ä¸‹è½½åå­˜æ”¾åˆ°yolov5åŒçº§ç›®å½•ä¸‹é¢</p></blockquote><p>åœ¨Labelimgæ–‡ä»¶å¤¹ä¸­æ‰“å¼€ç»ˆç«¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate yolov5_env <span class="comment">//è¿›å…¥åˆ›å»ºçš„æ–°ç¯å¢ƒ</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conda update -n base -c defaults conda <span class="comment">//æ›´æ–°conda</span></span><br><span class="line">conda install pyqt=<span class="number">5</span> <span class="comment">//å®‰è£…pyqt</span></span><br><span class="line">conda install -c anaconda lxml</span><br><span class="line">pyrcc5 -o libs/resources.<span class="property">py</span> resources.<span class="property">qrc</span> <span class="comment">//ä½¿ç”¨pyrcc5å·¥å…·ï¼Œå°†resources.qrcèµ„æºæ–‡ä»¶è½¬æ¢ä¸ºä¸€ä¸ªåä¸ºresources.pyçš„Pythonæ¨¡å—ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨libsç›®å½•ä¸‹ã€‚åœ¨å¼€å‘Qtåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™ä¸ªç”Ÿæˆçš„Pythonæ¨¡å—å¯ä»¥è¢«ä¸»ç¨‹åºå¯¼å…¥ï¼Œä»è€Œä½¿ç”¨èµ„æºæ–‡ä»¶ä¸­çš„èµ„æºã€‚</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæˆåŠŸæ˜¾ç¤ºå¦‚ä¸‹<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/2.png" alt=" "></p></blockquote><h3 id="Labelimg-çš„ä½¿ç”¨"><a href="#Labelimg-çš„ä½¿ç”¨" class="headerlink" title="Labelimg çš„ä½¿ç”¨"></a>Labelimg çš„ä½¿ç”¨</h3><p>ä¸ºé¿å…åç»­æ·»åŠ æ ‡ç­¾è¾ƒä¸ºéº»çƒ¦å¯æå‰æ·»åŠ æ ‡å‡†ç±»åˆ«ï¼Œå¦åˆ™æ¯æ¬¡éƒ½éœ€æ·»åŠ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd data</span><br><span class="line">gedit predefined_classes.<span class="property">txt</span> <span class="comment">//æ‰“å¼€æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚å›¾ï¼Œå› åšä¸»å¾ªè¿¹è¯†åˆ«éœ€è¦ï¼Œè¿™é‡Œæˆ‘åªæ·»åŠ äº†one~eight å…«ä¸ªç±»<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/3.png" alt=" "></p></blockquote><p>è¿è¡ŒLabelimg</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python labelimg.<span class="property">py</span> <span class="comment">//è¿™é‡Œåšä¸»æ˜¯pythonç¯å¢ƒï¼Œépython3</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„è¿™é‡Œçš„è¿è¡Œç¯å¢ƒè®°å¾—åˆ‡æ¢ï¼Œæˆ‘ubuntu22.04 ç¯å¢ƒæ˜¯python3 3.10ï¼ŒåŸºäºyolov5çš„æ•°å­—è¯†åˆ«_envå½“æ—¶è®¾ç½®çš„æ˜¯python 3.9<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/4.png" alt=" "></p></blockquote><p>æˆåŠŸæ‰“å¼€åç•Œé¢å¦‚ä¸‹<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/5.png" alt=" "></p><p>labelImgçš„æ“ä½œæ¯”è¾ƒç®€å•ï¼Œé¦–å…ˆï¼Œå·¦ä¸Šè§’æ‰“å¼€ä¹‹å‰åˆ›å»ºçš„imagesæ–‡ä»¶ï¼Œé€‰æ‹©ç¬¬ä¸€å¼ å›¾ç‰‡ï¼ˆæ­¤å¤„é»˜è®¤ä½ å·²ç»æŠŠéœ€è¦è®­ç»ƒçš„æ•°æ®é›†æ”¾å…¥&#x2F;VOCData&#x2F;imagesä¸­ï¼‰ï¼Œç„¶åå·¦è¾¹é€‰åˆ›å»ºåŒºå—ï¼Œç”¨çŸ©å½¢æ¡†åœˆä¸­ä½ è¦è¯†åˆ«çš„å¯¹è±¡åï¼Œé€‰æ‹©å³ä¾§æ ‡ç­¾ï¼Œæœ€åç‚¹å·¦ä¾§ä¿å­˜ï¼Œä¿å­˜åˆ°Annotationsä¸­ï¼ˆä¿å­˜ä¸ºxmlæ–‡ä»¶æ ¼å¼ï¼‰ï¼ˆå¯ä»¥è‡ªåŠ¨ä¿å­˜æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œä¸‹ä¸€å¼ ä¸‹ä¸€å¼ çš„æ¡†å‡ºå°±è¡Œï¼Œè€Œä¸”ä¸€å¼ å›¾å¯ä»¥è¿›è¡Œå¤šä¸ªçŸ©å½¢æ¡†çš„æ¡†é€‰ï¼‰</p><blockquote><p>è¿™é‡Œè´´ä¸€ä¸ªé“¾æ¥ <em><strong><a href="https://blog.csdn.net/qq_42257666/article/details/122813608">å¦‚ä½•ä½¿ç”¨LabelImgæ ‡æ³¨æ•°æ®é›†</a></strong></em></p></blockquote><blockquote><p><b><font  color=red >æ ‡å®Œä¸€å¼ å›¾ä¸€å®šè¦è®°å¾—ä¿®æ”¹å³ä¾§çš„ç±»çš„æ ‡ç­¾ï¼Œä¸è¦å…¨éƒ¨æ ‡å®Œæ‰å‘ç°æ ‡ç­¾éƒ½æ˜¯åŒä¸€ä¸ªï¼Œè¡€çš„æ•™è®­ï¼Œå¤§å®¶å¼•ä»¥ä¸ºæˆ’!!!</font></b></p></blockquote><h2 id="æ‰€éœ€ç¨‹åº"><a href="#æ‰€éœ€ç¨‹åº" class="headerlink" title="æ‰€éœ€ç¨‹åº"></a>æ‰€éœ€ç¨‹åº</h2><h3 id="split-train-val-py"><a href="#split-train-val-py" class="headerlink" title="split_train_val.py"></a>split_train_val.py</h3><p>åœ¨ VOCData ç›®å½•ä¸‹åˆ›å»ºç¨‹åº split_train_val.py å¹¶è¿è¡Œç¨‹åº</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"> </span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line"><span class="comment">#xmlæ–‡ä»¶çš„åœ°å€ï¼Œæ ¹æ®è‡ªå·±çš„æ•°æ®è¿›è¡Œä¿®æ”¹ xmlä¸€èˆ¬å­˜æ”¾åœ¨Annotationsä¸‹</span></span><br><span class="line">parser.add_argument(<span class="string">&#x27;--xml_path&#x27;</span>, default=<span class="string">&#x27;Annotations&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&#x27;input xml label path&#x27;</span>)</span><br><span class="line"><span class="comment">#æ•°æ®é›†çš„åˆ’åˆ†ï¼Œåœ°å€é€‰æ‹©è‡ªå·±æ•°æ®ä¸‹çš„ImageSets/Main</span></span><br><span class="line">parser.add_argument(<span class="string">&#x27;--txt_path&#x27;</span>, default=<span class="string">&#x27;ImageSets/Main&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&#x27;output txt label path&#x27;</span>)</span><br><span class="line">opt = parser.parse_args()</span><br><span class="line"> </span><br><span class="line">trainval_percent = <span class="number">1.0</span>  <span class="comment"># è®­ç»ƒé›†å’ŒéªŒè¯é›†æ‰€å æ¯”ä¾‹ã€‚ è¿™é‡Œæ²¡æœ‰åˆ’åˆ†æµ‹è¯•é›†</span></span><br><span class="line">train_percent = <span class="number">0.9</span>     <span class="comment"># è®­ç»ƒé›†æ‰€å æ¯”ä¾‹ï¼Œå¯è‡ªå·±è¿›è¡Œè°ƒæ•´</span></span><br><span class="line">xmlfilepath = opt.xml_path</span><br><span class="line">txtsavepath = opt.txt_path</span><br><span class="line">total_xml = os.listdir(xmlfilepath)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(txtsavepath):</span><br><span class="line">    os.makedirs(txtsavepath)</span><br><span class="line"> </span><br><span class="line">num = <span class="built_in">len</span>(total_xml)</span><br><span class="line">list_index = <span class="built_in">range</span>(num)</span><br><span class="line">tv = <span class="built_in">int</span>(num * trainval_percent)</span><br><span class="line">tr = <span class="built_in">int</span>(tv * train_percent)</span><br><span class="line">trainval = random.sample(list_index, tv)</span><br><span class="line">train = random.sample(trainval, tr)</span><br><span class="line"> </span><br><span class="line">file_trainval = <span class="built_in">open</span>(txtsavepath + <span class="string">&#x27;/trainval.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">file_test = <span class="built_in">open</span>(txtsavepath + <span class="string">&#x27;/test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">file_train = <span class="built_in">open</span>(txtsavepath + <span class="string">&#x27;/train.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">file_val = <span class="built_in">open</span>(txtsavepath + <span class="string">&#x27;/val.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> list_index:</span><br><span class="line">    name = total_xml[i][:-<span class="number">4</span>] + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">in</span> trainval:</span><br><span class="line">        file_trainval.write(name)</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">in</span> train:</span><br><span class="line">            file_train.write(name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            file_val.write(name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        file_test.write(name)</span><br><span class="line"> </span><br><span class="line">file_trainval.close()</span><br><span class="line">file_train.close()</span><br><span class="line">file_val.close()</span><br><span class="line">file_test.close()</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œåä¼šåœ¨VOCData\ImagesSets\Mainä¸‹ç”Ÿæˆ æµ‹è¯•é›†ã€è®­ç»ƒé›†ã€è®­ç»ƒéªŒè¯é›†å’ŒéªŒè¯é›†<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/6.png" alt=" "></p><blockquote><p>æ­¤æ—¶ä½ å¯èƒ½ä¼šç¢°åˆ°ä¸€äº›é”™è¯¯<br>é”™è¯¯1<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/7.png" alt=" "></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è§£å†³æ–¹æ³•</span></span><br><span class="line">cd <span class="title class_">VOCData</span> <span class="comment">//æ‰¾ä¸åˆ°Annotationsæ˜¯æ²¡æœ‰åœ¨VOCDataä¸­æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œ</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åœ¨yolov5_envç¯å¢ƒä¸‹ä¸”ä½äºVOCDataç›®å½•å†è¿è¡Œsplit_train_val.pyå³å¯æˆåŠŸ</p><h3 id="è½¬åŒ–xmlæ ¼å¼ä¸ºyolo-txtæ ¼å¼"><a href="#è½¬åŒ–xmlæ ¼å¼ä¸ºyolo-txtæ ¼å¼" class="headerlink" title="è½¬åŒ–xmlæ ¼å¼ä¸ºyolo_txtæ ¼å¼"></a>è½¬åŒ–xmlæ ¼å¼ä¸ºyolo_txtæ ¼å¼</h3><p>åœ¨VOCDataç›®å½•ä¸‹åˆ›å»ºtext_to_yolo.pyå¹¶è¿è¡Œ</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¼€å¤´classesæ”¹æˆè‡ªå·±çš„ç±»ï¼Œåšä¸»æ˜¯æ•°å­—</span></span><br><span class="line"><span class="comment">#åé¢è·¯å¾„ä¹Ÿè¦æ”¹æˆè‡ªå·±çš„</span></span><br><span class="line"><span class="comment">#å€’ä¸‰è¡Œåç¼€.jpg/.pngä¹Ÿè¦æ³¨æ„ä¸€ä¸‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> ET</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> getcwd</span><br><span class="line"> </span><br><span class="line">sets = [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;val&#x27;</span>, <span class="string">&#x27;test&#x27;</span>]</span><br><span class="line">classes = [<span class="string">&quot;one&quot;</span>,<span class="string">&quot;two&quot;</span>,<span class="string">&quot;three&quot;</span>,<span class="string">&quot;four&quot;</span>,<span class="string">&quot;five&quot;</span>,<span class="string">&quot;six&quot;</span>,<span class="string">&quot;seven&quot;</span>,<span class="string">&quot;eight&quot;</span>]  <span class="comment">#æ”¹æˆè‡ªå·±çš„ç±»åˆ«</span></span><br><span class="line">abs_path = os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(abs_path)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert</span>(<span class="params">size, box</span>):</span><br><span class="line">    dw = <span class="number">1.</span> / (size[<span class="number">0</span>])</span><br><span class="line">    dh = <span class="number">1.</span> / (size[<span class="number">1</span>])</span><br><span class="line">    x = (box[<span class="number">0</span>] + box[<span class="number">1</span>]) / <span class="number">2.0</span> - <span class="number">1</span></span><br><span class="line">    y = (box[<span class="number">2</span>] + box[<span class="number">3</span>]) / <span class="number">2.0</span> - <span class="number">1</span></span><br><span class="line">    w = box[<span class="number">1</span>] - box[<span class="number">0</span>]</span><br><span class="line">    h = box[<span class="number">3</span>] - box[<span class="number">2</span>]</span><br><span class="line">    x = x * dw</span><br><span class="line">    w = w * dw</span><br><span class="line">    y = y * dh</span><br><span class="line">    h = h * dh</span><br><span class="line">    <span class="keyword">return</span> x, y, w, h</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert_annotation</span>(<span class="params">image_id</span>):</span><br><span class="line">    in_file = <span class="built_in">open</span>(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/Annotations/%s.xml&#x27;</span> % (image_id), encoding=<span class="string">&#x27;UTF-8&#x27;</span>)     <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line">    out_file = <span class="built_in">open</span>(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/labels/%s.txt&#x27;</span> % (image_id), <span class="string">&#x27;w&#x27;</span>)    <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line">    tree = ET.parse(in_file) </span><br><span class="line">    root = tree.getroot()</span><br><span class="line">    size = root.find(<span class="string">&#x27;size&#x27;</span>)</span><br><span class="line">    w = <span class="built_in">int</span>(size.find(<span class="string">&#x27;width&#x27;</span>).text)</span><br><span class="line">    h = <span class="built_in">int</span>(size.find(<span class="string">&#x27;height&#x27;</span>).text)</span><br><span class="line">    <span class="keyword">for</span> obj <span class="keyword">in</span> root.<span class="built_in">iter</span>(<span class="string">&#x27;object&#x27;</span>):</span><br><span class="line">        difficult = obj.find(<span class="string">&#x27;difficult&#x27;</span>).text</span><br><span class="line">        <span class="comment"># difficult = obj.find(&#x27;Difficult&#x27;).text</span></span><br><span class="line">        cls = obj.find(<span class="string">&#x27;name&#x27;</span>).text</span><br><span class="line">        <span class="keyword">if</span> cls <span class="keyword">not</span> <span class="keyword">in</span> classes <span class="keyword">or</span> <span class="built_in">int</span>(difficult) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        cls_id = classes.index(cls)</span><br><span class="line">        xmlbox = obj.find(<span class="string">&#x27;bndbox&#x27;</span>)</span><br><span class="line">        b = (<span class="built_in">float</span>(xmlbox.find(<span class="string">&#x27;xmin&#x27;</span>).text), <span class="built_in">float</span>(xmlbox.find(<span class="string">&#x27;xmax&#x27;</span>).text), <span class="built_in">float</span>(xmlbox.find(<span class="string">&#x27;ymin&#x27;</span>).text),</span><br><span class="line">             <span class="built_in">float</span>(xmlbox.find(<span class="string">&#x27;ymax&#x27;</span>).text))</span><br><span class="line">        b1, b2, b3, b4 = b</span><br><span class="line">        <span class="comment"># æ ‡æ³¨è¶Šç•Œä¿®æ­£</span></span><br><span class="line">        <span class="keyword">if</span> b2 &gt; w:</span><br><span class="line">            b2 = w</span><br><span class="line">        <span class="keyword">if</span> b4 &gt; h:</span><br><span class="line">            b4 = h</span><br><span class="line">        b = (b1, b2, b3, b4)</span><br><span class="line">        bb = convert((w, h), b)</span><br><span class="line">        out_file.write(<span class="built_in">str</span>(cls_id) + <span class="string">&quot; &quot;</span> + <span class="string">&quot; &quot;</span>.join([<span class="built_in">str</span>(a) <span class="keyword">for</span> a <span class="keyword">in</span> bb]) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">wd = getcwd()</span><br><span class="line"><span class="keyword">for</span> image_set <span class="keyword">in</span> sets:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/labels/&#x27;</span>):    <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line">        os.makedirs(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/labels/&#x27;</span>)     <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line">    image_ids = <span class="built_in">open</span>(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/ImageSets/Main/%s.txt&#x27;</span> % (image_set)).read().strip().split()  <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/dataSet_path/&#x27;</span>):</span><br><span class="line">        os.makedirs(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/dataSet_path/&#x27;</span>)   <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line"> </span><br><span class="line">    list_file = <span class="built_in">open</span>(<span class="string">&#x27;dataSet_path/%s.txt&#x27;</span> % (image_set), <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> image_id <span class="keyword">in</span> image_ids:</span><br><span class="line">        list_file.write(<span class="string">&#x27;/home/whaltze/yolov5/VOCData/images/%s.JPG\n&#x27;</span> % (image_id))     <span class="comment">#æ”¹æˆè‡ªå·±çš„ç›®å½•</span></span><br><span class="line">        convert_annotation(image_id)</span><br><span class="line">    list_file.close()</span><br></pre></td></tr></table></figure><p>è¿è¡ŒæˆåŠŸåä¼šåœ¨VOCDataç›®å½•ä¸‹ç”Ÿæˆlabelsæ–‡ä»¶å¤¹å’ŒdataSet_pathæ–‡ä»¶å¤¹</p><blockquote><p>å…¶ä¸­ labels ä¸­ä¸ºä¸åŒå›¾åƒçš„æ ‡æ³¨æ–‡ä»¶ã€‚æ¯ä¸ªå›¾åƒå¯¹åº”ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œæ–‡ä»¶æ¯ä¸€è¡Œä¸ºä¸€ä¸ªç›®æ ‡çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬class, x_center, y_center, width, heightï¼Œè¿™ç§å³ä¸º yolo_txtæ ¼å¼</p></blockquote><blockquote><p>dataSet_pathæ–‡ä»¶å¤¹åŒ…å«ä¸‰ä¸ªæ•°æ®é›†çš„txtæ–‡ä»¶ï¼Œtrain.txtç­‰txtæ–‡ä»¶ä¸ºåˆ’åˆ†åå›¾åƒæ‰€åœ¨ä½ç½®çš„ç»å¯¹è·¯å¾„ï¼Œå¦‚train.txtå°±å«æœ‰æ‰€æœ‰è®­ç»ƒé›†å›¾åƒçš„ç»å¯¹è·¯å¾„ã€‚</p></blockquote><h3 id="myvoc-yamlé…ç½®æ–‡ä»¶"><a href="#myvoc-yamlé…ç½®æ–‡ä»¶" class="headerlink" title="myvoc.yamlé…ç½®æ–‡ä»¶"></a>myvoc.yamlé…ç½®æ–‡ä»¶</h3><p>åœ¨yolov5ç›®å½•ä¸‹çš„<b><font color=red>data</font></b>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªmyvoc.yamlæ–‡ä»¶ï¼ˆå¯è‡ªå®šä¹‰å‘½åï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd data</span><br><span class="line">gedit myvoc.<span class="property">yaml</span></span><br></pre></td></tr></table></figure><blockquote><p>myvoc.yamlä¸»è¦åŒ…å«train.txt å’Œ val.txt çš„è·¯å¾„ ï¼ˆå¯ä»¥ä¸ºç›¸å¯¹è·¯å¾„ï¼‰<br>è¿˜æœ‰ç›®æ ‡å¯¹è±¡çš„ç±»åˆ«æ•°ç›®å’Œç±»åˆ«åç§°</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#yamlæ ¼å¼çš„æ–‡ä»¶è¦æ±‚éå¸¸ä¸¥æ ¼</span></span><br><span class="line"> <span class="comment">#ç¦æ­¢ä½¿ç”¨//æ³¨é‡Š</span></span><br><span class="line"> <span class="comment">#ç¼©è¿›å’Œç©ºæ ¼ä¸åŒéƒ½æœ‰å¯èƒ½å¼•èµ·æŠ¥é”™</span></span><br><span class="line"> <span class="comment">#æ³¨æ„ï¼šå†’å·åé¢è¦åŠ ç©ºæ ¼</span></span><br><span class="line"></span><br><span class="line"><span class="attr">train:</span> <span class="string">/home/whaltze/yolov5/VOCData/dataSet_path/train.txt</span></span><br><span class="line"><span class="attr">val:</span> <span class="string">/home/whaltze/yolov5/VOCData/dataSet_path/val.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># number of classes</span></span><br><span class="line"><span class="attr">nc:</span> <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># class names</span></span><br><span class="line"><span class="attr">names:</span> [<span class="string">&quot;one&quot;</span>,<span class="string">&quot;two&quot;</span>,<span class="string">&quot;three&quot;</span>,<span class="string">&quot;four&quot;</span>,<span class="string">&quot;five&quot;</span>,<span class="string">&quot;six&quot;</span>,<span class="string">&quot;seven&quot;</span>,<span class="string">&quot;eight&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆanchorsæ–‡ä»¶"><a href="#ç”Ÿæˆanchorsæ–‡ä»¶" class="headerlink" title="ç”Ÿæˆanchorsæ–‡ä»¶"></a>ç”Ÿæˆanchorsæ–‡ä»¶</h3><p>åœ¨VOCDataç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªç¨‹åº kmeans.py å’Œ clauculate_anchors.py</p><p>ä¸è¦è¿è¡Œkmeans.py<br>è¿è¡Œclauculate_anchors.pyå³å¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#kmeans.py ç¨‹åºå¦‚ä¸‹ï¼šè¿™ä¸éœ€è¦è¿è¡Œï¼Œä¹Ÿä¸éœ€è¦æ›´æ”¹ï¼ŒæŠ¥é”™åˆ™æŸ¥çœ‹ç¬¬åä¸‰è¡Œå†…å®¹ã€‚</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">iou</span>(<span class="params">box, clusters</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Calculates the Intersection over Union (IoU) between a box and k clusters.</span></span><br><span class="line"><span class="string">    :param box: tuple or array, shifted to the origin (i. e. width and height)</span></span><br><span class="line"><span class="string">    :param clusters: numpy array of shape (k, 2) where k is the number of clusters</span></span><br><span class="line"><span class="string">    :return: numpy array of shape (k, 0) where k is the number of clusters</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    x = np.minimum(clusters[:, <span class="number">0</span>], box[<span class="number">0</span>])</span><br><span class="line">    y = np.minimum(clusters[:, <span class="number">1</span>], box[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">if</span> np.count_nonzero(x == <span class="number">0</span>) &gt; <span class="number">0</span> <span class="keyword">or</span> np.count_nonzero(y == <span class="number">0</span>) &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;Box has no area&quot;</span>)  <span class="comment"># å¦‚æœæŠ¥è¿™ä¸ªé”™ï¼Œå¯ä»¥æŠŠè¿™è¡Œæ”¹æˆpasså³å¯</span></span><br><span class="line"> </span><br><span class="line">    intersection = x * y</span><br><span class="line">    box_area = box[<span class="number">0</span>] * box[<span class="number">1</span>]</span><br><span class="line">    cluster_area = clusters[:, <span class="number">0</span>] * clusters[:, <span class="number">1</span>]</span><br><span class="line"> </span><br><span class="line">    iou_ = intersection / (box_area + cluster_area - intersection)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> iou_</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">avg_iou</span>(<span class="params">boxes, clusters</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Calculates the average Intersection over Union (IoU) between a numpy array of boxes and k clusters.</span></span><br><span class="line"><span class="string">    :param boxes: numpy array of shape (r, 2), where r is the number of rows</span></span><br><span class="line"><span class="string">    :param clusters: numpy array of shape (k, 2) where k is the number of clusters</span></span><br><span class="line"><span class="string">    :return: average IoU as a single float</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> np.mean([np.<span class="built_in">max</span>(iou(boxes[i], clusters)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(boxes.shape[<span class="number">0</span>])])</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">translate_boxes</span>(<span class="params">boxes</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Translates all the boxes to the origin.</span></span><br><span class="line"><span class="string">    :param boxes: numpy array of shape (r, 4)</span></span><br><span class="line"><span class="string">    :return: numpy array of shape (r, 2)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    new_boxes = boxes.copy()</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(new_boxes.shape[<span class="number">0</span>]):</span><br><span class="line">        new_boxes[row][<span class="number">2</span>] = np.<span class="built_in">abs</span>(new_boxes[row][<span class="number">2</span>] - new_boxes[row][<span class="number">0</span>])</span><br><span class="line">        new_boxes[row][<span class="number">3</span>] = np.<span class="built_in">abs</span>(new_boxes[row][<span class="number">3</span>] - new_boxes[row][<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> np.delete(new_boxes, [<span class="number">0</span>, <span class="number">1</span>], axis=<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">kmeans</span>(<span class="params">boxes, k, dist=np.median</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Calculates k-means clustering with the Intersection over Union (IoU) metric.</span></span><br><span class="line"><span class="string">    :param boxes: numpy array of shape (r, 2), where r is the number of rows</span></span><br><span class="line"><span class="string">    :param k: number of clusters</span></span><br><span class="line"><span class="string">    :param dist: distance function</span></span><br><span class="line"><span class="string">    :return: numpy array of shape (k, 2)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    rows = boxes.shape[<span class="number">0</span>]</span><br><span class="line"> </span><br><span class="line">    distances = np.empty((rows, k))</span><br><span class="line">    last_clusters = np.zeros((rows,))</span><br><span class="line"> </span><br><span class="line">    np.random.seed()</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># the Forgy method will fail if the whole array contains the same rows</span></span><br><span class="line">    clusters = boxes[np.random.choice(rows, k, replace=<span class="literal">False</span>)]</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            distances[row] = <span class="number">1</span> - iou(boxes[row], clusters)</span><br><span class="line"> </span><br><span class="line">        nearest_clusters = np.argmin(distances, axis=<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (last_clusters == nearest_clusters).<span class="built_in">all</span>():</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> cluster <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            clusters[cluster] = dist(boxes[nearest_clusters == cluster], axis=<span class="number">0</span>)</span><br><span class="line"> </span><br><span class="line">        last_clusters = nearest_clusters</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> clusters</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">8</span>]])</span><br><span class="line">    <span class="built_in">print</span>(translate_boxes(a))</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#clauculate_anchors.py</span></span><br><span class="line"><span class="comment">#è¿è¡Œclauculate_anchors.pyä¼šè°ƒç”¨ kmeans.py èšç±»ç”Ÿæˆæ–°anchorsçš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">#éœ€è¦æ›´æ”¹ç¬¬ 9 ã€13è¡Œæ–‡ä»¶è·¯å¾„ ä»¥åŠ ç¬¬ 16 è¡Œæ ‡æ³¨ç±»åˆ«åç§°</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># æ ¹æ®æ ‡ç­¾æ–‡ä»¶æ±‚å…ˆéªŒæ¡†</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> xml.etree.cElementTree <span class="keyword">as</span> et</span><br><span class="line"><span class="keyword">from</span> kmeans <span class="keyword">import</span> kmeans, avg_iou</span><br><span class="line"> </span><br><span class="line">FILE_ROOT = <span class="string">&quot;/home/whaltze/yolov5/VOCData/&quot;</span>     <span class="comment"># æ ¹è·¯å¾„</span></span><br><span class="line">ANNOTATION_ROOT = <span class="string">&quot;Annotations&quot;</span>   <span class="comment"># æ•°æ®é›†æ ‡ç­¾æ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line">ANNOTATION_PATH = FILE_ROOT + ANNOTATION_ROOT</span><br><span class="line"> </span><br><span class="line">ANCHORS_TXT_PATH = <span class="string">&quot;/home/whaltze/yolov5/VOCData/anchors.txt&quot;</span>   <span class="comment">#anchorsæ–‡ä»¶ä¿å­˜ä½ç½®</span></span><br><span class="line"> </span><br><span class="line">CLUSTERS = <span class="number">9</span></span><br><span class="line">CLASS_NAMES = [<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>,<span class="string">&#x27;four&#x27;</span>,<span class="string">&#x27;five&#x27;</span>,<span class="string">&#x27;six&#x27;</span>,<span class="string">&#x27;seven&#x27;</span>,<span class="string">&#x27;eight&#x27;</span>]   <span class="comment">#ç±»åˆ«åç§°</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_data</span>(<span class="params">anno_dir, class_names</span>):</span><br><span class="line">    xml_names = os.listdir(anno_dir)</span><br><span class="line">    boxes = []</span><br><span class="line">    <span class="keyword">for</span> xml_name <span class="keyword">in</span> xml_names:</span><br><span class="line">        xml_pth = os.path.join(anno_dir, xml_name)</span><br><span class="line">        tree = et.parse(xml_pth)</span><br><span class="line"> </span><br><span class="line">        width = <span class="built_in">float</span>(tree.findtext(<span class="string">&quot;./size/width&quot;</span>))</span><br><span class="line">        height = <span class="built_in">float</span>(tree.findtext(<span class="string">&quot;./size/height&quot;</span>))</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> obj <span class="keyword">in</span> tree.findall(<span class="string">&quot;./object&quot;</span>):</span><br><span class="line">            cls_name = obj.findtext(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> cls_name <span class="keyword">in</span> class_names:</span><br><span class="line">                xmin = <span class="built_in">float</span>(obj.findtext(<span class="string">&quot;bndbox/xmin&quot;</span>)) / width</span><br><span class="line">                ymin = <span class="built_in">float</span>(obj.findtext(<span class="string">&quot;bndbox/ymin&quot;</span>)) / height</span><br><span class="line">                xmax = <span class="built_in">float</span>(obj.findtext(<span class="string">&quot;bndbox/xmax&quot;</span>)) / width</span><br><span class="line">                ymax = <span class="built_in">float</span>(obj.findtext(<span class="string">&quot;bndbox/ymax&quot;</span>)) / height</span><br><span class="line"> </span><br><span class="line">                box = [xmax - xmin, ymax - ymin]</span><br><span class="line">                boxes.append(box)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">return</span> np.array(boxes)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> </span><br><span class="line">    anchors_txt = <span class="built_in">open</span>(ANCHORS_TXT_PATH, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"> </span><br><span class="line">    train_boxes = load_data(ANNOTATION_PATH, CLASS_NAMES)</span><br><span class="line">    count = <span class="number">1</span></span><br><span class="line">    best_accuracy = <span class="number">0</span></span><br><span class="line">    best_anchors = []</span><br><span class="line">    best_ratios = []</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):      <span class="comment">##### å¯ä»¥ä¿®æ”¹ï¼Œä¸è¦å¤ªå¤§ï¼Œå¦åˆ™æ—¶é—´å¾ˆé•¿</span></span><br><span class="line">        anchors_tmp = []</span><br><span class="line">        clusters = kmeans(train_boxes, k=CLUSTERS)</span><br><span class="line">        idx = clusters[:, <span class="number">0</span>].argsort()</span><br><span class="line">        clusters = clusters[idx]</span><br><span class="line">        <span class="comment"># print(clusters)</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(CLUSTERS):</span><br><span class="line">            anchor = [<span class="built_in">round</span>(clusters[j][<span class="number">0</span>] * <span class="number">640</span>, <span class="number">2</span>), <span class="built_in">round</span>(clusters[j][<span class="number">1</span>] * <span class="number">640</span>, <span class="number">2</span>)]</span><br><span class="line">            anchors_tmp.append(anchor)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Anchors:<span class="subst">&#123;anchor&#125;</span>&quot;</span>)</span><br><span class="line"> </span><br><span class="line">        temp_accuracy = avg_iou(train_boxes, clusters) * <span class="number">100</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Train_Accuracy:&#123;:.2f&#125;%&quot;</span>.<span class="built_in">format</span>(temp_accuracy))</span><br><span class="line"> </span><br><span class="line">        ratios = np.around(clusters[:, <span class="number">0</span>] / clusters[:, <span class="number">1</span>], decimals=<span class="number">2</span>).tolist()</span><br><span class="line">        ratios.sort()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Ratios:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(ratios))</span><br><span class="line">        <span class="built_in">print</span>(<span class="number">20</span> * <span class="string">&quot;*&quot;</span> + <span class="string">&quot; &#123;&#125; &quot;</span>.<span class="built_in">format</span>(count) + <span class="number">20</span> * <span class="string">&quot;*&quot;</span>)</span><br><span class="line"> </span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> temp_accuracy &gt; best_accuracy:</span><br><span class="line">            best_accuracy = temp_accuracy</span><br><span class="line">            best_anchors = anchors_tmp</span><br><span class="line">            best_ratios = ratios</span><br><span class="line"> </span><br><span class="line">    anchors_txt.write(<span class="string">&quot;Best Accuracy = &quot;</span> + <span class="built_in">str</span>(<span class="built_in">round</span>(best_accuracy, <span class="number">2</span>)) + <span class="string">&#x27;%&#x27;</span> + <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">    anchors_txt.write(<span class="string">&quot;Best Anchors = &quot;</span> + <span class="built_in">str</span>(best_anchors) + <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">    anchors_txt.write(<span class="string">&quot;Best Ratios = &quot;</span> + <span class="built_in">str</span>(best_ratios))</span><br><span class="line">    anchors_txt.close()</span><br></pre></td></tr></table></figure><p>è¿è¡Œåä¼šç”Ÿæˆanchorsæ–‡ä»¶ã€‚å¦‚æœç”Ÿæˆæ–‡ä»¶ä¸ºç©ºï¼Œé‡æ–°è¿è¡Œå³å¯<br>anchorsæ–‡ä»¶å¦‚ä¸‹<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/8.png" alt=" "></p><p>ç¬¬äºŒè¡Œ Best Anchors åé¢éœ€è¦ç”¨åˆ°ï¼ˆè¿™å°±æ˜¯æ‰‹åŠ¨è·å–åˆ°çš„anchorsçš„å€¼ï¼‰</p><h3 id="ä¿®æ”¹æ¨¡å‹é…ç½®æ–‡ä»¶yolov5s-yaml"><a href="#ä¿®æ”¹æ¨¡å‹é…ç½®æ–‡ä»¶yolov5s-yaml" class="headerlink" title="ä¿®æ”¹æ¨¡å‹é…ç½®æ–‡ä»¶yolov5s.yaml"></a>ä¿®æ”¹æ¨¡å‹é…ç½®æ–‡ä»¶yolov5s.yaml</h3><p>åœ¨yolov5ç›®å½•ä¸‹çš„modelæ–‡ä»¶å¤¹ä¸‹æ˜¯æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼Œæœ‰nã€sã€mã€lã€xç‰ˆæœ¬ï¼Œé€æ¸å¢å¤§ï¼ˆéšç€æ¶æ„çš„å¢å¤§ï¼Œè®­ç»ƒæ—¶é—´ä¹Ÿæ˜¯é€æ¸å¢å¤§ï¼‰<br>æˆ‘ä»¬é€‰sç‰ˆæœ¬çš„ï¼Œä¸»è¦æ”¹ä¸¤ä¸ªå‚æ•°ï¼š<br>1.æŠŠ ncï¼šåé¢æ”¹æˆè‡ªå·±çš„æ ‡æ³¨ç±»åˆ«æ•°<br>2.ä¿®æ”¹anchorsï¼Œæ ¹æ® anchors.txt ä¸­çš„ Best Anchors ä¿®æ”¹ï¼Œéœ€è¦å–æ•´ï¼ˆå››èˆäº”å…¥ã€å‘ä¸Šã€å‘ä¸‹éƒ½å¯ä»¥ï¼‰<br>3.ä¿æŒyamlä¸­çš„anchorsæ ¼å¼ä¸å˜ï¼ŒæŒ‰é¡ºåºä¸€å¯¹ä¸€å³å¯ï¼Œå…­ä¸ªå¯¹åº”anchorsçš„ç¬¬ä¸€è¡Œ6ä¸ªï¼ˆ18ä¸ªéƒ½è¦æ”¹ï¼‰ï¼Œæ”¹å®Œåå¦‚å›¾æ‰€ç¤º</p><p><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/9.png" alt=" "></p><h2 id="å¼€å§‹è®­ç»ƒ"><a href="#å¼€å§‹è®­ç»ƒ" class="headerlink" title="å¼€å§‹è®­ç»ƒ"></a>å¼€å§‹è®­ç»ƒ</h2><p>è¿›å…¥yolo5_envç¯å¢ƒè¾“å…¥å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python train.<span class="property">py</span> --weights weights/yolov5s.<span class="property">pt</span>  --cfg models/yolov5s.<span class="property">yaml</span>  --data data/myvoc.<span class="property">yaml</span> --epoch <span class="number">200</span> --batch-size <span class="number">8</span> --img <span class="number">640</span>   --device cpu</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘æ²¡æœ‰ç”¨CUDAï¼Œdeviceé€‰cpuï¼Œæœ‰GPUçš„å¯ä»¥é€‰0&#x2F;1&#x2F;2Â·Â·Â·æ ¹æ®è‡ªèº«æƒ…å†µç¡®å®š</p><blockquote><p>è§£é‡Šä¸€ä¸‹è¿™ä¸²å‘½ä»¤<br>python train.py &#x2F;&#x2F;è¿è¡Œtrain<br>â€“weights weights&#x2F;yolov5s.pt &#x2F;&#x2F;è·å–æƒé‡ï¼Œå°†yolov5.ptæ–‡ä»¶æ”¾åœ¨weightsé‡Œé¢ï¼Œè‹¥ä¸è¿™æ ·éœ€è¦æ›´æ”¹è·¯å¾„<br>â€“epoch 200 &#x2F;&#x2F;è®­ç»ƒæ¬¡æ•°ä¸º200æ¬¡<br>â€“batch-size 8 &#x2F;&#x2F;è®­ç»ƒ8å¼ å›¾ç‰‡åè¿›è¡Œæƒé‡æ›´æ–°<br>â€“device cpu &#x2F;&#x2F;ä½¿ç”¨CPUè®­ç»ƒ,è¿™é‡Œdevice 0ä¸ºgpuè®­ç»ƒ</p></blockquote><p>æ­£å¸¸æƒ…å†µåº”è¯¥è®­ç»ƒæˆåŠŸ</p><blockquote><p>å¦‚å›¾æ‰€ç¤º<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/10.png" alt=" "></p></blockquote><p>ä¸è¿‡å¤§æ¦‚ç‡ä½ ä¼šé‡åˆ°ä¸€äº›é—®é¢˜</p><blockquote><p>é”™è¯¯1 RuntimeError: PytorchStreamReader failed reading zip archive: failed finding central directory<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/11.png" alt=" "><br>è¿™ä¸»è¦æ˜¯weightsæ–‡ä»¶å†…çš„yolov5.ptæ–‡ä»¶ä¸¢å¤±æˆ–è€…æŸåï¼Œå¯ä»¥é‡æ–°ä¸‹è½½ <em><a href="https://github.com/ultralytics/yolov5">yolov5.py</a></em> æ”¾å…¥weightsæ–‡ä»¶å¤¹ä¸­ï¼Œæ— éœ€è§£å‹,ä¹Ÿå¯åœ¨ç»ˆç«¯ç›´æ¥â€™git clone <a href="https://github.com/ultralytics/yolov5">https://github.com/ultralytics/yolov5</a>â€˜</p></blockquote><p>å†æ¬¡è¾“å…¥è®­ç»ƒæŒ‡ä»¤</p><blockquote><p>é”™è¯¯2 AssertionError: train: No labels found in &#x2F;home&#x2F;whaltze&#x2F;yolov5&#x2F;VOCData&#x2F;dataSet_path&#x2F;train.cache, can not start training<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/12.png" alt=" "><br>è¿™ä¸»è¦æ˜¯æ‰¾ä¸åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œåšä¸»åé¢å‘ç°æ˜¯text_to_yolo_.pyçš„ç¬¬66è¡Œä¸ºJPGï¼Œè€Œæˆ‘å›¾åƒæ–‡ä»¶æ ¼å¼ä¸ºjpgï¼ˆå°å†™ï¼‰å¯¼è‡´çš„é”™è¯¯ï¼Œä¿®æ”¹åè®°å¾—é‡æ–°è¿è¡Œï¼ˆæˆ–è€…æ‰‹åŠ¨æŠŠtrain.txt,val.txté‡Œé¢çš„è·¯å¾„ä¹Ÿæ”¹äº†ï¼Œä¸ç„¶è¿˜æ˜¯ä¼šæŠ¥é”™ã€‚æœ€ååˆ é™¤train.cacheæ–‡ä»¶ï¼Œé‡æ–°è¿è¡Œè®­ç»ƒå‘½ä»¤ã€‚</p></blockquote><h2 id="è®­ç»ƒè¿‡ç¨‹"><a href="#è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="è®­ç»ƒè¿‡ç¨‹"></a>è®­ç»ƒè¿‡ç¨‹</h2><p>è®­ç»ƒæ—¶é—´å¯èƒ½ä¼šæœ‰ç‚¹é•¿ï¼Œåšä¸»æ²¡ç”¨GPUï¼Œå¤§æ¦‚èŠ±äº†60åˆ†é’Ÿï¼Œ<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/13.png" alt=" "><br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/14.png" alt=" "></p><p>ç­‰å¾…å³å¯</p><h2 id="è®­ç»ƒç»“æŸ"><a href="#è®­ç»ƒç»“æŸ" class="headerlink" title="è®­ç»ƒç»“æŸ"></a>è®­ç»ƒç»“æŸ</h2><p>è®­ç»ƒå¥½çš„æ¨¡å‹ä¼šä¿å­˜åœ¨&#x2F;yolov5&#x2F;runs&#x2F;train&#x2F;weights&#x2F;exp8 ä¸‹<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/15.png" alt=" "></p><h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>åœ¨yolov5çš„ä¸»ç›®å½•ä¸‹æ‰¾åˆ°detect.pyæ–‡ä»¶ï¼Œä¿®æ”¹weightså’Œsourceä¸¤å¤„ï¼Œæˆ‘è¿™é‡Œä»¥å¤–æ¥æ‘„åƒå¤´ä¸ºä¾‹å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŠ è½½è®­ç»ƒå™¨</span></span><br><span class="line"><span class="comment">//åŸä»£ç _362è¡Œ</span></span><br><span class="line">parser.<span class="title function_">add_argument</span>(<span class="string">&quot;--weights&quot;</span>, nargs=<span class="string">&quot;+&quot;</span>, type=str, <span class="keyword">default</span>=<span class="variable constant_">ROOT</span> / <span class="string">&quot;yolov5s.pt&quot;</span>, help=<span class="string">&quot;model path or triton URL&quot;</span>)</span><br><span class="line"><span class="comment">//ä¿®æ”¹ä¸º</span></span><br><span class="line">parser.<span class="title function_">add_argument</span>(<span class="string">&quot;--weights&quot;</span>, nargs=<span class="string">&quot;+&quot;</span>, type=str, <span class="keyword">default</span>=<span class="string">&#x27;runs/train/exp8/weights/best.pt&#x27;</span>, help=<span class="string">&#x27;model.pt path(s)&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‘„åƒå¤´è¯†åˆ«</span></span><br><span class="line"><span class="comment">//åŸä»£ç _363è¡Œ</span></span><br><span class="line">parser.<span class="title function_">add_argument</span>(<span class="string">&quot;--source&quot;</span>, type=str, <span class="keyword">default</span>=<span class="variable constant_">ROOT</span> / <span class="string">&quot;data/images&quot;</span>, help=<span class="string">&quot;file/dir/URL/glob/screen/0(webcam)&quot;</span>)</span><br><span class="line"><span class="comment">//ä¿®æ”¹ä¸º</span></span><br><span class="line">parser.<span class="title function_">add_argument</span>(<span class="string">&quot;--source&quot;</span>, type=str, <span class="keyword">default</span>=<span class="number">1</span>, help=<span class="string">&#x27;source&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œdefaultä¸ºä½ æ‘„åƒå¤´çš„ä½ç½®<br>åšä¸»æ˜¯1å°±æ˜¯ç­‰äº1ï¼Œé»˜è®¤0ä¸ºç¬”è®°æœ¬è‡ªå¸¦çš„æ‘„åƒå¤´<br>å¦‚æœè¦æµ‹è¯•å›¾ç‰‡åˆ™ä¿®æ”¹default&#x3D;â€™&#x2F;home&#x2F;Â·Â·Â·&#x2F;test.jpgâ€™</p></blockquote><p>è¿è¡Œdetect.py</p><blockquote><p>ä»¥ä¸‹æ˜¯åšä¸»çš„è®­ç»ƒæ•ˆæœ<br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/16.jpg" alt=" "><br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/17.jpg" alt=" "><br><img src="/./images/%E5%9F%BA%E4%BA%8Eyolov5%E7%9A%84%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/18.jpg" alt=" "></p></blockquote><p>ç®€å•è¯•äº†ä¸€ä¸‹ï¼Œå¤§å®¶å¯ä»¥å†å¢åŠ ä¸€äº›ï¼Œå¯èƒ½æ•ˆæœä¼šæ›´å¥½ï¼</p><h1 id="è¿›é˜¶å­¦ä¹ "><a href="#è¿›é˜¶å­¦ä¹ " class="headerlink" title="è¿›é˜¶å­¦ä¹ "></a>è¿›é˜¶å­¦ä¹ </h1><blockquote><p><a href="https://www.aliyun.com/search?k=YOLOv5%E6%BA%90%E7%A0%81%E9%80%90%E8%A1%8C%E8%B6%85%E8%AF%A6%E7%BB%86%E6%B3%A8%E9%87%8A%E4%B8%8E%E8%A7%A3%E8%AF%BB&scene=community&page=1">YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»â€“é˜¿é‡Œäº‘</a></p></blockquote><p>è‡³æ­¤ä¾¿æ˜¯åŸºäºyolov5çš„æ•°å­—è¯†åˆ«çš„å…¨éƒ¨å†…å®¹ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜æ¬¢è¿æ‰¾æˆ‘ï¼å¸Œæœ›èƒ½ä¸€èµ·å­¦ä¹ è¿›æ­¥ï¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> yolov5 </tag>
            
            <tag> æ•°å­—è¯†åˆ« </tag>
            
            <tag> ubuntu22.04 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deploy Environment to Anaconda3</title>
      <link href="/2024/07/15/Deploy%20Environment%20to%20Anaconda3/"/>
      <url>/2024/07/15/Deploy%20Environment%20to%20Anaconda3/</url>
      
        <content type="html"><![CDATA[<h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><blockquote><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†anaconda3 ç¯å¢ƒé…ç½®çš„ç›¸å…³é—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå¦‚ä½•ä¿®æ”¹ ~&#x2F;.bashrc æ–‡ä»¶ï¼Œä¿è¯æ¯æ¬¡ç»ˆç«¯å¼€å¯ä¸ä¼šè‡ªå¯åŠ¨condaï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†å…¨ç›˜æ€æ­»anacondaè¿›ç¨‹ï¼Œå¯¼è‡´condaæ— æ³•åˆå§‹åŒ–ï¼Œcondaæ‰¾ä¸åˆ°æŒ‡ä»¤</p></blockquote><h1 id="Anaconda3-çš„ä¸‹è½½"><a href="#Anaconda3-çš„ä¸‹è½½" class="headerlink" title="Anaconda3 çš„ä¸‹è½½"></a>Anaconda3 çš„ä¸‹è½½</h1><p>å®˜æ–¹ç½‘ç«™ <a href="https://www.anaconda.com/download/success">Anaconda</a><br>å›½å†…ç½‘ç»œé—®é¢˜ ä¸‹è½½é€Ÿåº¦æ…¢ ä¸æ¨è ï¼ˆåç»­å†…ç½®çš„pipå’Œcondaä¹Ÿéƒ½ä¼šç”¨å›½å¤–æºï¼Œè¿˜è¦æ¢æº æ‰€ä»¥å»ºè®®ç”¨æ¸…åé•œåƒï¼‰</p><p>æ¸…åé•œåƒæº <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/?C=M&O=D">Anaconda</a></p><p>ç¬”è€…è¿™é‡Œé€‰æ‹©äº† ç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Anaconda3-5.3.1-Linux-x86_64.sh637.0 MiB2025-02-14 03:40</span><br></pre></td></tr></table></figure><p>ä¸‹è½½åˆ°æœ¬åœ°å èµ‹äºˆ sh æ–‡ä»¶çš„æ‰§è¡Œæƒé™ è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whale@UP:~/Downloads$ ./Anaconda3-5.3.1-Linux-x86_64.sh </span><br></pre></td></tr></table></figure><p>è·Ÿç€æç¤ºèµ°<br>ç­‰å¾…ä¸‹è½½ ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°ä¸»ç›®å½•</p><p>é€‰æ‹© ä¸è‡ªåŠ¨åŠ è½½bashæ–‡ä»¶ ä»¥åŠ ä¸ä¸‹è½½vscode</p><p>ä¸‹è½½å®Œå è¿›å…¥<code>.bashrc</code>æ–‡ä»¶å†…éƒ¨ åœ¨æœ€åä¸€è¡ŒåŠ ä¸Š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">!! Contents within this block are managed by <span class="string">&#x27;conda init&#x27;</span> !!</span></span><br><span class="line">__conda_setup=&quot;$(&#x27;/root/anaconda3/bin/conda&#x27; &#x27;shell.bash&#x27; &#x27;hook&#x27; 2&gt; /dev/null)&quot;</span><br><span class="line">if [ $? -eq 0 ]; then</span><br><span class="line">    eval &quot;$__conda_setup&quot;</span><br><span class="line">else</span><br><span class="line">    if [ -f &quot;/home/whale/anaconda3/etc/profile.d/conda.sh&quot; ]; then</span><br><span class="line">        . &quot;/home/whale/anaconda3/etc/profile.d/conda.sh&quot;</span><br><span class="line">    else</span><br><span class="line">        export PATH=&quot;/home/whale/anaconda3/bin:$PATH&quot;</span><br><span class="line">    fi</span><br><span class="line">fi</span><br><span class="line">unset __conda_setup</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt;&lt;&lt; <span class="string">conda initialize &lt;&lt;&lt;</span></span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>source ./.bashrc</code> å å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨condaäº†</p><blockquote><p>æ³¨æ„ä¿®æ”¹æ–‡ä»¶åå­—å’Œç”¨æˆ·åå­—</p></blockquote><p>çœ‹çœ‹ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whale@UP:~$ conda --version</span><br><span class="line">conda 4.5.11</span><br></pre></td></tr></table></figure><h1 id="Anaconda3-å¸è½½"><a href="#Anaconda3-å¸è½½" class="headerlink" title="Anaconda3 å¸è½½"></a>Anaconda3 å¸è½½</h1><p><a href="https://blog.csdn.net/KIK9973/article/details/118795049">Unbuntuå¸è½½anaconda</a></p><h1 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h1><h2 id="æŸ¥çœ‹å½“å‰condaç‰ˆæœ¬"><a href="#æŸ¥çœ‹å½“å‰condaç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹å½“å‰condaç‰ˆæœ¬"></a>æŸ¥çœ‹å½“å‰condaç‰ˆæœ¬</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure><h2 id="æ–°å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æŒ‡å®šåŒ…ç‰ˆæœ¬"><a href="#æ–°å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æŒ‡å®šåŒ…ç‰ˆæœ¬" class="headerlink" title="æ–°å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æŒ‡å®šåŒ…ç‰ˆæœ¬"></a>æ–°å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æŒ‡å®šåŒ…ç‰ˆæœ¬</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name &lt;ç¯å¢ƒå&gt; python=3.6</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹å·²æœ‰è™šæ‹Ÿç¯å¢ƒ"><a href="#æŸ¥çœ‹å·²æœ‰è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æŸ¥çœ‹å·²æœ‰è™šæ‹Ÿç¯å¢ƒ"></a>æŸ¥çœ‹å·²æœ‰è™šæ‹Ÿç¯å¢ƒ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env list</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda info --envs</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ é™¤è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"></a>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove -n &lt;ç¯å¢ƒåç§°&gt; --all</span><br></pre></td></tr></table></figure><h2 id="è¿›å…¥è™šæ‹Ÿç¯å¢ƒ"><a href="#è¿›å…¥è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="è¿›å…¥è™šæ‹Ÿç¯å¢ƒ"></a>è¿›å…¥è™šæ‹Ÿç¯å¢ƒ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate &lt;ç¯å¢ƒå&gt;</span><br></pre></td></tr></table></figure><h2 id="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"><a href="#é€€å‡ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"></a>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda deactivate</span><br></pre></td></tr></table></figure><h2 id="ç¯å¢ƒå†…å®‰è£…æ–°åŒ…"><a href="#ç¯å¢ƒå†…å®‰è£…æ–°åŒ…" class="headerlink" title="ç¯å¢ƒå†…å®‰è£…æ–°åŒ…"></a>ç¯å¢ƒå†…å®‰è£…æ–°åŒ…</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install &lt;åŒ…å&gt;</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹å·²å®‰è£…åº“"><a href="#æŸ¥çœ‹å·²å®‰è£…åº“" class="headerlink" title="æŸ¥çœ‹å·²å®‰è£…åº“"></a>æŸ¥çœ‹å·²å®‰è£…åº“</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda list</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°åŒ…ç‰ˆæœ¬"><a href="#æ›´æ–°åŒ…ç‰ˆæœ¬" class="headerlink" title="æ›´æ–°åŒ…ç‰ˆæœ¬"></a>æ›´æ–°åŒ…ç‰ˆæœ¬</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update &lt;åŒ…å&gt;</span><br></pre></td></tr></table></figure><h2 id="åŒ…ç®¡ç†"><a href="#åŒ…ç®¡ç†" class="headerlink" title="åŒ…ç®¡ç†"></a>åŒ…ç®¡ç†</h2><h3 id="å®‰è£…åŒ…"><a href="#å®‰è£…åŒ…" class="headerlink" title="å®‰è£…åŒ…"></a>å®‰è£…åŒ…</h3><p>conda install PackageName</p><h3 id="å®‰è£…å¤šä¸ªåŒ…"><a href="#å®‰è£…å¤šä¸ªåŒ…" class="headerlink" title="å®‰è£…å¤šä¸ªåŒ…"></a>å®‰è£…å¤šä¸ªåŒ…</h3><p>conda install name1 name2 â€¦</p><h3 id="å®‰è£…åŒ…å¹¶æŒ‡å®šç‰ˆæœ¬å·"><a href="#å®‰è£…åŒ…å¹¶æŒ‡å®šç‰ˆæœ¬å·" class="headerlink" title="å®‰è£…åŒ…å¹¶æŒ‡å®šç‰ˆæœ¬å·"></a>å®‰è£…åŒ…å¹¶æŒ‡å®šç‰ˆæœ¬å·</h3><p>conda install PackageName&#x3D;ç‰ˆæœ¬å·</p><h3 id="å¸è½½åŒ…"><a href="#å¸è½½åŒ…" class="headerlink" title="å¸è½½åŒ…"></a>å¸è½½åŒ…</h3><p>conda remove PackageName</p><h3 id="æ›´æ–°åŒ…"><a href="#æ›´æ–°åŒ…" class="headerlink" title="æ›´æ–°åŒ…"></a>æ›´æ–°åŒ…</h3><p>conda update PackageName</p><h3 id="æ›´æ–°ç¯å¢ƒä¸­çš„æ‰€æœ‰åŒ…"><a href="#æ›´æ–°ç¯å¢ƒä¸­çš„æ‰€æœ‰åŒ…" class="headerlink" title="æ›´æ–°ç¯å¢ƒä¸­çš„æ‰€æœ‰åŒ…"></a>æ›´æ–°ç¯å¢ƒä¸­çš„æ‰€æœ‰åŒ…</h3><p>conda update â€“all</p><h3 id="åˆ—å‡ºå·²å®‰è£…çš„åŒ…"><a href="#åˆ—å‡ºå·²å®‰è£…çš„åŒ…" class="headerlink" title="åˆ—å‡ºå·²å®‰è£…çš„åŒ…"></a>åˆ—å‡ºå·²å®‰è£…çš„åŒ…</h3><p>conda list</p><h3 id="æœå¯»åŒ…"><a href="#æœå¯»åŒ…" class="headerlink" title="æœå¯»åŒ…"></a>æœå¯»åŒ…</h3><p>conda search PackageName</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Environment </tag>
            
            <tag> Anaconda3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown</title>
      <link href="/2024/07/10/Learning%20Markdown/"/>
      <url>/2024/07/10/Learning%20Markdown/</url>
      
        <content type="html"><![CDATA[<!-- <b><font face="å¾®è½¯é›…é»‘" color=black size=3> [TOC] </font></b> --><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p><em><b><font face="å¾®è½¯é›…é»‘"><em>Hello! In this post, you will learn some basic skills about markdown-writing.</em></font></b></em></p><blockquote><p><b><font face=â€œä»¿å®‹â€>Please click <a href="https://markdown.com.cn/basic-syntax/"><em><strong>Markdown</strong></em></a> for more informations.</font></b></p></blockquote><blockquote><p><em><b><font face="å¾®è½¯é›…é»‘">The form is effect, following is md grammar.</font></b></em></p></blockquote><p><b><font size=5 color=black face="å¾®è½¯é›…é»‘">Now letâ€™s start!</font></b></p><hr><h1 id="Basic-Grammar"><a href="#Basic-Grammar" class="headerlink" title="Basic Grammar"></a>Basic Grammar</h1><h2 id="Heading"><a href="#Heading" class="headerlink" title="Heading"></a>Heading</h2><p><strong>The symbol  <em><strong><code>#</code></strong></em>  stands the priority</strong><br>For example</p><blockquote><h1 id="This-is-Fist-level-title"><a href="#This-is-Fist-level-title" class="headerlink" title="This is Fist-level title"></a>This is Fist-level title</h1><h2 id="This-is-Second-level-title"><a href="#This-is-Second-level-title" class="headerlink" title="This is Second-level title"></a>This is Second-level title</h2></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># <span class="title class_">This</span> is <span class="title class_">Fist</span>-level title</span><br><span class="line"></span><br><span class="line">## <span class="title class_">This</span> is <span class="title class_">Second</span>-level title</span><br></pre></td></tr></table></figure><hr><h2 id="Bold-Italic"><a href="#Bold-Italic" class="headerlink" title="Bold &amp;&amp; Italic"></a>Bold &amp;&amp; Italic</h2><blockquote><p><strong>the word is be bold</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**the word is be bold**</span><br><span class="line">__the word is be bold__</span><br></pre></td></tr></table></figure><blockquote><p><em>the word is be italicized</em></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*the word is be italicized*</span><br><span class="line">_the word is be italicized_</span><br></pre></td></tr></table></figure><blockquote><p><em><strong>the word is be bold &amp;&amp; italic</strong></em></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">***the word is be bold &amp;&amp; italic***</span><br><span class="line">___the word is be bold &amp;&amp; italic___</span><br></pre></td></tr></table></figure><hr><h2 id="Blockquote"><a href="#Blockquote" class="headerlink" title="Blockquote"></a>Blockquote</h2><blockquote><p>This is a blockquote</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="title class_">This</span> is a blockquote</span><br></pre></td></tr></table></figure><hr><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">This</span> is code block</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`This is code block`</span></span><br><span class="line"><span class="string">``</span><span class="string">`This is code block`</span><span class="string">``</span></span><br></pre></td></tr></table></figure><blockquote><p><em><font face="ä»¿å®‹">The latter can reserved spaces</font></em></p></blockquote><hr><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><h3 id="Ordered-List"><a href="#Ordered-List" class="headerlink" title="Ordered List"></a>Ordered List</h3><blockquote><ol><li>First item</li><li>Second item</li><li>Third item</li></ol></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="title class_">First</span> item</span><br><span class="line"><span class="number">2.</span> <span class="title class_">Second</span> item</span><br><span class="line"><span class="number">3.</span> <span class="title class_">Third</span> item</span><br></pre></td></tr></table></figure><h3 id="Unordered-List"><a href="#Unordered-List" class="headerlink" title="Unordered List"></a>Unordered List</h3><blockquote><ul><li>First item</li><li>Second item</li><li>Third item</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="title class_">First</span> item</span><br><span class="line">- <span class="title class_">Second</span> item</span><br><span class="line">- <span class="title class_">Third</span> item</span><br></pre></td></tr></table></figure><hr><h2 id="Horizontal-Rule"><a href="#Horizontal-Rule" class="headerlink" title="Horizontal Rule"></a>Horizontal Rule</h2><p><em><b><font face="å¾®è½¯é›…é»‘">Using on a single line following</font></b></em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*******************</span><br><span class="line">-------------------</span><br><span class="line">___________________</span><br></pre></td></tr></table></figure><hr><h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h2><blockquote><p>This is an external link: <a href="https://www.example.com/">website</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">This</span> is an external <span class="attr">link</span>: [website](<span class="attr">https</span>:<span class="comment">//www.example.com)</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="mailto:&#88;&#x58;&#88;&#x58;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;">XXXX@qq.com</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">This</span> is an email &lt;<span class="variable constant_">XXXX</span>@qq.<span class="property">com</span>&gt;</span><br></pre></td></tr></table></figure><hr><h2 id="Picture"><a href="#Picture" class="headerlink" title="Picture"></a>Picture</h2><blockquote><p><img src="/imges/philly-magic-garden.jpg" alt="This is a Picture" title="Magic Gardens"></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="title class_">This</span> is a <span class="title class_">Picture</span>](<span class="title class_">Picture</span> website address <span class="string">&quot;picture title&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[![<span class="title class_">This</span> is a picture](<span class="regexp">/imges/</span>shiprock.<span class="property">jpg</span> <span class="string">&quot;Shiprock&quot;</span>)](<span class="attr">https</span>:<span class="comment">//markdown.com.cn)</span></span><br></pre></td></tr></table></figure><hr><h2 id="The-Escape-Character"><a href="#The-Escape-Character" class="headerlink" title="The Escape Character"></a>The Escape Character</h2><p>The escape character is <strong><code>\</code></strong>, displaying special characters</p><p>like this</p><blockquote><p>the *</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">actually \*                 </span><br></pre></td></tr></table></figure><p><em><strong>These are escapable character</strong></em></p><table><thead><tr><th align="center">Character</th><th align="center">Name</th></tr></thead><tbody><tr><td align="center">\</td><td align="center">backslash</td></tr><tr><td align="center">&#96;</td><td align="center">backtick</td></tr><tr><td align="center">*</td><td align="center">asterisk</td></tr><tr><td align="center">_</td><td align="center">underscore</td></tr><tr><td align="center">{ }</td><td align="center">curly braces</td></tr><tr><td align="center">[ ]</td><td align="center">brackets</td></tr><tr><td align="center">( )</td><td align="center">parentheses</td></tr><tr><td align="center">#</td><td align="center">pound sign</td></tr><tr><td align="center">+</td><td align="center">plus sign</td></tr><tr><td align="center">-</td><td align="center">minus sign</td></tr><tr><td align="center">.</td><td align="center">dot</td></tr><tr><td align="center">!</td><td align="center">exclamation mark</td></tr><tr><td align="center"></td><td align="center"></td></tr></tbody></table><hr><h2 id="Face-Size-Color-Font"><a href="#Face-Size-Color-Font" class="headerlink" title="Face &amp;&amp; Size &amp;&amp; Color &amp;&amp; Font"></a>Face &amp;&amp; Size &amp;&amp; Color &amp;&amp; Font</h2><blockquote><p><font face="é»‘ä½“">Iâ€™m Boldface</font><br><font face="å¾®è½¯é›…é»‘">Iâ€™m Microsoft_YaHei</font><br><font face="STCAIYUN">Iâ€™m Chinese_Clouds</font><br><font color=red>Iâ€™m Red</font><br><font color=#008000>Iâ€™m geen</font><br><font color=Blue>Iâ€™m bule</font><br><font size=5>Iâ€™m size5</font><br><font face="é»‘ä½“" color=green size=5>Boldface, green, size5</font><br><b><font face="é»‘ä½“" color=green size=5>Boldface, bold, green, size5</font></b><br><font size=3></p><table><thead><tr><th align="center">It can revise the size of table</th><th align="center">put in the <code>&lt;font&gt;&lt;/font&gt;</code></th></tr></thead></table></font></blockquote><font size=4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">code <span class="keyword">in</span> <span class="attr">md</span>:</span><br><span class="line">&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span>&gt;</span>I&#x27;m Boldface<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;å¾®è½¯é›…é»‘&quot;</span>&gt;</span>I&#x27;m Microsoft_YaHei<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;STCAIYUN&quot;</span>&gt;</span>I&#x27;m Chinese_Clouds<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">red</span>&gt;</span>I&#x27;m Red<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#008000</span>&gt;</span>I&#x27;m geen<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">Blue</span>&gt;</span>I&#x27;m bule<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">5</span>&gt;</span>I&#x27;m size5<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span> <span class="attr">color</span>=<span class="string">green</span> <span class="attr">size</span>=<span class="string">5</span>&gt;</span>Boldface, green, size5<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span> <span class="attr">color</span>=<span class="string">green</span> <span class="attr">size</span>=<span class="string">5</span>&gt;</span>Boldface, bold, green, size5<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=&gt;</span></span></span><br><span class="line"><span class="language-xml">| It can revise the size of table | put  in the <span class="tag">&lt;<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">font</span>&gt;</span>  | </span></span><br><span class="line"><span class="language-xml">|:-------------------------------:|:--------------------------:|</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure></font><hr><h2 id="Highlight-Test"><a href="#Highlight-Test" class="headerlink" title="Highlight Test"></a>Highlight Test</h2><blockquote><p>&#x3D;&#x3D;Hello&#x3D;&#x3D;</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">==hello==</span><br></pre></td></tr></table></figure><hr><h2 id="Generate-directory"><a href="#Generate-directory" class="headerlink" title="Generate directory"></a>Generate directory</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="variable constant_">TOC</span>]<span class="title class_">Content</span> title</span><br></pre></td></tr></table></figure><hr><h2 id="Strikethrough"><a href="#Strikethrough" class="headerlink" title="Strikethrough"></a>Strikethrough</h2><blockquote><p><del>Hello World !</del></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~<span class="title class_">Hello</span> <span class="title class_">World</span> ï¼~~</span><br></pre></td></tr></table></figure><hr><h2 id="Emoji"><a href="#Emoji" class="headerlink" title="Emoji"></a>Emoji</h2><blockquote><p>:joy: :tent: :moon: :pig:</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="attr">joy</span>: :<span class="attr">tent</span>: :<span class="attr">moon</span>: :<span class="attr">pig</span>: </span><br></pre></td></tr></table></figure><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><blockquote><p><strong style="font-family:'ä»¿å®‹';">ä¸ä¸€æ ·ä»£ç æ–¹å¼æ·»åŠ å­—ä½“</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;strong style=&quot;font-family:&#x27;ä»¿å®‹&#x27;;&quot;&gt;ä¸ä¸€æ ·ä»£ç æ–¹å¼æ·»åŠ å­—ä½“&lt;/strong&gt;</span><br></pre></td></tr></table></figure><blockquote><p><s style="font-family:'ä»¿å®‹';">æ·»åŠ é«˜çº§åˆ é™¤çº¿</s></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;s style=&quot;font-family:&#x27;ä»¿å®‹&#x27;;&quot;&gt;æ·»åŠ é«˜çº§åˆ é™¤çº¿&lt;/s&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Preface</title>
      <link href="/2024/07/10/Preface/"/>
      <url>/2024/07/10/Preface/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Greetings !<br>Welcome to <a href="https://whaltze.github.io/"><em><strong>Whaltze</strong></em></a> !<br>Iâ€™m an undergraduate student from China, majoring in Robotics.<br>In my home, some experiences would be showed, which I had learned in the way.<br>All in allï¼Œthe SMART knowledge will live up to your expectation.<br>Looking forward your advice.</p></blockquote><!-- hsla(213, 88.40%, 62.90%, 0.94) --><div style="background-color: hsla(213, 88.40%, 62.90%, 0.94); color: white; padding: 10px; margin: 0 auto; margin-bottom: 20px; border-left: 1px hsla(213, 88.40%, 62.90%, 0.94); border-right: 1px hsla(213, 88.40%, 62.90%, 0.94); text-align: center; font-family: 'Comic Sans MS', cursive; font-size: 17px;  color:hsl(0, 0.00%, 93.70%);">å¤©å¤§åœ°å¤§ åƒé¥­æœ€å¤§ !</div><!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Responsive Images</title>    <style>        .container {            display: flex;            justify-content: center; /* ä½¿å›¾ç‰‡åœ¨å®¹å™¨ä¸­å±…ä¸­ */            gap: 100px; /* è®¾ç½®å›¾ç‰‡ä¹‹é—´çš„è·ç¦» */            flex-wrap: wrap; /* å…è®¸å›¾ç‰‡åœ¨å¿…è¦æ—¶æ¢è¡Œ */        }        .container img {            width: 200px; /* è®¾ç½®å›ºå®šå®½åº¦ */            height: 200px; /* è®¾ç½®å›ºå®šé«˜åº¦ */            object-fit: cover; /* ä¿æŒå›¾ç‰‡çš„çºµæ¨ªæ¯”ï¼ŒåŒæ—¶å¡«å……å…ƒç´ çš„æ•´ä¸ªå†…å®¹æ¡† */        }        @media (max-width: 768px) {            .container img {                width: 50%; /* å½“å±å¹•å®½åº¦å°äº768pxæ—¶ï¼Œæ¯å¼ å›¾ç‰‡å æ®æ•´è¡Œ */                height: auto; /* é«˜åº¦è‡ªåŠ¨è°ƒæ•´ä»¥ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */                max-width: 200px; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé¿å…å›¾ç‰‡æ”¾å¤§ */                margin: 0 auto; /* æ°´å¹³å±…ä¸­ */            }        }    </style></head><body>    <div class="container">        <img src="https://whaltze.github.io/img/WeChat.jpg">        <img src="https://whaltze.github.io/img/AliPay.jpg">    </div></body></html><div style="background-color: hsla(0, 0.00%, 49.00%, 0.25); color: white; padding: 10px; margin: 0 auto; margin-top: 20px; border-left: 1px hsla(213, 88.40%, 62.90%, 0.94); border-right: 1px hsla(213, 88.40%, 62.90%, 0.94); text-align: center; font-family: 'Comic Sans MS', cursive; font-size: 17px;  color:hsl(0, 0.00%, 93.70%);">å®¶å¢ƒè´«å¯’,ç”Ÿæ´»æ‰€è¿« Â·Â·Â·Â·Â·Â·(æ­¤å¤„çœç•¥ 1w å­—ä¹è®¨)</div><h2 id="About-Me"><a href="#About-Me" class="headerlink" title="About Me"></a>About Me</h2><blockquote><p>æ—¢ç„¶ ä½ å‘ç°äº†è¿™ä¸ªé¡µé¢ å°±è¯´æ˜ ä½ å¯¹æˆ‘çš„æ–‡ç«  è¿˜ç®—é¢‡æœ‰å¥½æ„Ÿå’Œè®¤åŒ (å˜¿å˜¿) å¾ˆé«˜å…´è®¤è¯†ä½ , ä¸‹é¢æ˜¯ç®€å•çš„è‡ªæˆ‘ä»‹ç», è¯·æŸ¥æ”¶</p></blockquote><p><i class="fas fa-envelope"></i> : <a href="mailto:&#x57;&#104;&#x61;&#108;&#x74;&#122;&#x65;&#46;&#99;&#110;&#x40;&#x67;&#109;&#97;&#105;&#x6c;&#46;&#x63;&#x6f;&#109;">Whaltze.cn@gmail.com</a><br><i class="fab fa-github"></i> : <a href="https://github.com/Whaltze">@Whaltze</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
